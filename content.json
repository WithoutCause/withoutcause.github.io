{"meta":{"title":"æ°çµçš„åšå®¢","subtitle":"","description":"","author":"æ°çµ","url":"https://withoutcause.github.io","root":"/"},"pages":[{"title":"categories","date":"2021-07-21T11:43:34.000Z","updated":"2021-07-21T11:45:02.028Z","comments":false,"path":"categories/index.html","permalink":"https://withoutcause.github.io/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2021-07-21T11:36:25.000Z","updated":"2021-07-21T11:45:06.406Z","comments":false,"path":"tags/index.html","permalink":"https://withoutcause.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"çºªå¿µè€—å­å“¥","slug":"çºªå¿µè€—å­å“¥","date":"2023-05-16T02:13:33.000Z","updated":"2023-05-16T02:13:33.000Z","comments":true,"path":"2023/05/16/çºªå¿µè€—å­å“¥/","link":"","permalink":"https://withoutcause.github.io/2023/05/16/%E7%BA%AA%E5%BF%B5%E8%80%97%E5%AD%90%E5%93%A5/","excerpt":"èŠå…°ç”Ÿäºæ·±è°·ï¼Œä¸ä»¥æ— äººè€Œä¸èŠ³å›å­ä¿®èº«å…»å¾·ï¼Œä¸ä»¥ç©·å›°è€Œæ”¹å¿— è¿™æ˜¯è€—å­å“¥(é™ˆçš“)çš„åº§å³é“­ã€‚","text":"èŠå…°ç”Ÿäºæ·±è°·ï¼Œä¸ä»¥æ— äººè€Œä¸èŠ³å›å­ä¿®èº«å…»å¾·ï¼Œä¸ä»¥ç©·å›°è€Œæ”¹å¿— è¿™æ˜¯è€—å­å“¥(é™ˆçš“)çš„åº§å³é“­ã€‚ ä¸ºä»€ä¹ˆå«è€—å­å“¥ä¹‹å‰ä»–å¾®åšå‘è¿‡ä¸€ä¸ªè°ƒä¾ƒï¼Œä»–çš„ç²‰ä¸ä¸­æœ‰å«ä»– ã€è€—å­å“¥ã€å’Œã€è€—å­å”ã€çš„ã€‚å«ã€è€—å­å“¥ã€çš„è¦æ¯”å«ã€è€—å­å”ã€çš„è¾ˆä»½é«˜ä¸€è¾ˆ ğŸ˜„ã€‚ä»é‚£ä»¥åï¼Œæˆ‘å°±åšå®šçš„å«è€—å­å“¥ã€‚ æˆ‘ä¸è€—å­å“¥åœ¨æˆ‘åˆšå…¥è¡Œçš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæ²¡äººå¸¦ã€‚å°±æˆå¤©åˆ·ä¸€äº›è¡Œä¸šå¤§ç‰›çš„çš„åšå®¢ï¼Œæ–‡ç« å•¥çš„ã€‚æœ‰ä¸€æ¬¡æ— æ„ä¹‹ä¸­åˆ·åˆ°äº†ä¸€ä¸ªå« coolshell.cn çš„ç½‘ç«™ï¼Œé‚£æ˜¯åœ¨ 16 å¹´ã€‚é‚£ä¸ªæ—¶å€™é‡Œé¢çš„åšå®¢åŸºæœ¬çœ‹ä¸æ‡‚ï¼Œæœ‰ä¸€ç¯‡ç¨å¾®èƒ½çœ‹æ‡‚ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯æ¶ˆé™¤ if é‡æ„ä»£ç ç›¸å…³çš„ å¦‚ä½•é‡æ„â€œç®­å¤´å‹â€ä»£ç ã€‚ æˆ‘æœ€å¼€å§‹çœ‹è€—å­å“¥çš„åšå®¢çš„æ—¶å€™ï¼Œæ˜¯çœ‹ä»–çš„ç®€ä»‹ã€‚ç®€ä»‹é‡Œé¢æœ‰ä¸€ä¸ªç‚¹ï¼Œç¬é—´å‡»ä¸­æˆ‘äº†ï¼Œè§‰å¾—è¿™ä¸ªäººå¾ˆæœ‰æ„æ€ä»–å±…ç„¶ä¸æ„¿æ„å‡ºä¹¦ã€‚ å¦å¤–ï¼Œæˆ‘åœ¨è‡³å°‘45å²å‰ä¸ä¼šå‡ºä¹¦ï¼Œå› ä¸ºæˆ‘è§‰å¾—åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘æ˜¯ä¸ä¼šæ²‰æ·€è¶³å¤Ÿçš„å­¦è¯†ï¼Œæ²¡æœ‰èµ„æ ¼å‡ºä¹¦ã€‚æ‰€ä»¥ï¼Œè¯·å„ç§å‡ºç‰ˆç¤¾çš„ç¼–è¾‘ä»¬ä¸è¦å†æ¥æ‰¾æˆ‘å•†è°ˆå‡ºä¹¦çš„äº‹ã€‚ä¸å…¶èŠ±ç²¾åŠ›æ¥æ‰¾æˆ‘è°ˆå‡ºä¹¦ï¼Œä¸å¦‚æƒ³æƒ³æ€ä¹ˆå°‘å‡ºé‚£ä¹ˆå¤šçš„çƒ‚ä¹¦ã€‚ ç„¶åæˆ‘å°±æ…¢æ…¢çš„å…³æ³¨ä¸Šäº†è¿™ä¸ªæŠ€æœ¯åšä¸»ï¼Œæ—¶ä¸æ—¶çš„åˆ·ä¸‹ä»–çš„åšå®¢çœ‹çœ‹æœ‰æ²¡æœ‰æ›´æ–°åšå®¢ï¼Œåæ¥åˆå…³æ³¨äº†ä»–çš„å¾®åšã€‚ æ—¶é—´æ¥åˆ° 2017 å¹´ï¼Œä»–åœ¨æå®¢æ—¶é—´å¼€ä¸“æ äº†ã€‚æˆ‘è®°å¾—å½“æ—¶æ˜¯ 199 çš„ä¸“æ ã€‚æˆ‘æ²¡æœ‰åœ¨ç¬¬ä¸€æ—¶é—´ä¹°ï¼Œåœ¨ 18 å¹´ 4 æœˆä»½å·¦å³ä¹°çš„ï¼Œä»æ­¤ä»¥åæ²‰è¿·å…¶ä¸­è€Œä¸èƒ½è‡ªæ‹”ã€‚æ­¤æ—¶æˆ‘çš„å·¥ä½œä¹Ÿå‡ºç°äº†å˜åŠ¨ï¼Œå½“æ—¶çš„å·¥ä½œä¹Ÿæš´é›·äº†ã€‚ é‡å¡‘æˆ‘çš„æŠ€æœ¯è§‚é€šè¿‡æå®¢æ—¶é—´çš„ä¸“æ ï¼Œå¯¹è€—å­å“¥æœ‰äº†æ›´å¤šçš„å…³æ³¨ã€‚æ¯å‘¨ä¸¤ç¯‡çš„å¹´æ›´ä¸“æ ï¼Œå¶å°”åœ¨æå®¢æ—¶é—´ä¹Ÿä¼šç›´æ’­ã€‚è¿™è®©æˆ‘é€šè¿‡ç½‘ç»œè§åˆ°äº†è¿™ä¸ªå¿ƒä¸­çš„å¶åƒï¼ŒæŠ€æœ¯å¾ˆç‰›ã€å¤´å‘å‘ç™½ã€èƒ–èƒ–çš„å¤§å”ï¼Œä»–å¾ˆå–œæ¬¢å¾®ç¬‘ã€‚ ä»–åœ¨ä¸“æ ã€ç›´æ’­ã€åšå®¢ã€å¾®åšç­‰å¤šä¸ªæ¸ é“èŠçš„æœ€å¤šçš„ï¼Œåœ¨æˆ‘çœ‹æ¥æ˜¯æŠ€æœ¯äººå‘˜çš„æˆé•¿ã€‚ ç›´å‡»æŠ€æœ¯æœ¬è´¨ã€å­¦ä¹ åŸºç¡€æŠ€æœ¯ã€åšé…·çš„äº‹æƒ…ã€ä¸è¦è‡ªå·±å¢™äº†è‡ªå·±ã€åˆ°æºå¤´å»å­¦ä¹ æŠ€æœ¯ ä¸Šé¢è¿™äº›ï¼Œéƒ½æ˜¯ä»–ç»å¸¸æåˆ°çš„ä¸œè¥¿ã€‚å°¤å…¶æ˜¯åˆ°æºå¤´å­¦ä¹ æŠ€æœ¯ï¼Œä»–ç”šè‡³è¯´ä¸è¦çœ‹ç½‘ä¸Šä»»ä½•çš„ä¸­æ–‡èµ„æ–™ï¼ŒåŒ…æ‹¬ä»–çš„ä¸“æ (é»‘èµ·æ¥è¿è‡ªå·±ä¹Ÿé»‘)ã€‚ æ”¹å˜ä¸€æŠ€æœ¯äººï¼Œå¾ˆå¤šæ—¶å€™åªéœ€è¦ä¸€å¥ç›´å‡»å¿ƒçµçš„è¯ã€‚å°±æ˜¯é‚£å¥ åˆ°æºå¤´å»å­¦ä¹ æŠ€æœ¯ ï¼Œå¯¹æˆ‘çš„å½±å“å¾ˆå¤§ã€‚ æˆ‘çŸ¥é“ï¼Œè€—å­å“¥çš„æœ¬æ„æ˜¯ï¼Œåº”è¯¥å­¦ä¹ è‹±æ–‡çš„èµ„æ–™ã€‚ä¸è¦å­¦åˆ«äººçš„äºŒæ‰‹ä¿¡æ¯ã€‚ ç°åœ¨çš„æˆ‘ï¼Œå› ä¸ºè‹±æ–‡å¾ˆå·®ï¼Œä¹Ÿå¾ˆéš¾åšåˆ°å®Œå…¨å­¦ä¹ è‹±æ–‡èµ„æ–™ã€‚ä½†æ˜¯æˆ‘ä¹Ÿä¼šå»æºå¤´å­¦ä¹ : å¯¹äºä¸€ä¸ªé—®é¢˜çš„æ¢ç´¢ï¼Œè·Ÿåˆ°ç›´è‡³æœ€åº•å±‚çš„é‚£æ®µä»£ç ã€‚ å¯¹äºä¸€ä¸ªæ¥å£ï¼Œæ‰¾åˆ°å®Œæ•´çš„è¯·æ±‚å“åº”ã€‚ è¿™äº›ï¼Œå¯¹æˆ‘çš„å½±å“æ˜¯ï¼Œæˆ‘ä¸æ»¡è¶³äºè¡¨é¢çš„ä¿¡æ¯ã€‚æˆ‘å­¦ä¹ äº†ç½‘ç»œçš„çŸ¥è¯†: TCP/IP åè®®ï¼ŒHTTP æŠ“åŒ…ç­‰ç­‰ã€‚ä»Šå¤©ï¼Œæˆ‘æ’æŸ¥ä¸€äº›å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šç”¨ä¸€äº›æŠ“åŒ…å·¥å…·æ¥æŠ“è¿™äº›å“åº”è¯·æ±‚ï¼Œçœ‹ä¸€ä¸ªå®Œæ•´çš„é“¾æ¥è·¯ã€‚ æˆ‘åœ¨å­¦ä¹ æ–°æŠ€æœ¯çš„æ—¶å€™ï¼Œä¹Ÿä¸å†åƒä»¥å‰é‚£æ ·ï¼Œè®°ä¸‹æ¯ä¸ª API æ€ä¹ˆè°ƒç”¨ï¼Œè¦ä¼ ä»€ä¹ˆå‚æ•°â€¦â€¦ å¾ˆå¤šçš„å½±å“ï¼Œä¸æ˜¯ç«‹å³å°±å‘ç”Ÿçš„ï¼Œä½†é‚£å·²ç»èè¿›æˆ‘çš„è¡€æ¶²ä¸­ã€‚ æˆ‘è¿˜åœ¨å­¦ä¹ çš„è·¯ä¸Šï¼Œè€—å­å“¥ä½ çš„é‚£äº›æŒ‡å¯¼æ„è§æˆ‘è¿˜æƒ³å†å¬ï¼Œæˆ‘æƒ³ä½ ï¼Œè€—å­å“¥ã€‚ å¼•è·¯äººä¸€ä¸ªäººçš„æˆé•¿ï¼Œä¸€ä¸ªè¡Œä¸šçš„å‘å±•ï¼Œæ€»æœ‰ä¸€äº›å¼•è·¯äººã€‚ é™ˆçš“å…ˆç”Ÿï¼Œå ªå½“è¡Œä¸šå¼•è·¯äººã€‚è€Œä»–ï¼Œä¹Ÿæ˜¯æˆ‘å¿ƒä¸­çš„é‚£ä¸ªå¼•è·¯äººï¼Œå®å®åœ¨åœ¨çš„å½±å“ç€æˆ‘ã€‚ è°¨ä»¥æ­¤æ–‡çºªå¿µé™ˆçš“å…ˆç”Ÿã€‚ 2023-05-16","categories":[{"name":"è€—å­å“¥","slug":"è€—å­å“¥","permalink":"https://withoutcause.github.io/categories/%E8%80%97%E5%AD%90%E5%93%A5/"}],"tags":[{"name":"è€—å­å“¥","slug":"è€—å­å“¥","permalink":"https://withoutcause.github.io/tags/%E8%80%97%E5%AD%90%E5%93%A5/"}]},{"title":"è‡ªå­¦ES-03ä¹‹æ–‡æ¡£","slug":"è‡ªå­¦ES-03ä¹‹æ–‡æ¡£","date":"2022-04-14T16:24:02.000Z","updated":"2023-01-17T00:34:02.000Z","comments":true,"path":"2022/04/15/è‡ªå­¦ES-03ä¹‹æ–‡æ¡£/","link":"","permalink":"https://withoutcause.github.io/2022/04/15/%E8%87%AA%E5%AD%A6ES-03%E4%B9%8B%E6%96%87%E6%A1%A3/","excerpt":"æ–‡æ¡£å†™å…¥å•æ¡å†™å…¥ES ä¸­æ–‡æ¡£å†™å…¥æ˜¯ POST è¯·æ±‚ã€‚","text":"æ–‡æ¡£å†™å…¥å•æ¡å†™å…¥ES ä¸­æ–‡æ¡£å†™å…¥æ˜¯ POST è¯·æ±‚ã€‚ 1POST /&#123;index_name&#125;/_doc/&#123;_id&#125; {index_name} : ç´¢å¼•åç§°ï¼Œå¿…é¡»æœ‰ã€‚ {_id} å¯ä»¥æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰ ES ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶åœ¨å†™å…¥æˆåŠŸåè¿”å›ã€‚å¦‚æœæœ‰ï¼Œä½¿ç”¨æŒ‡å®šçš„ idã€‚ ç¤ºä¾‹ 1234567891011121314151617181920POST /sjl/_doc/001&#123; &quot;title&quot;: &quot;å·¥ç¨‹å¸ˆ&quot;&#125;å“åº”å¦‚ä¸‹ï¼š&#123; &quot;_index&quot; : &quot;sjl&quot;, &quot;_type&quot; : &quot;_doc&quot;, &quot;_id&quot; : &quot;002&quot;, &quot;_version&quot; : 1, &quot;result&quot; : &quot;created&quot;, &quot;_shards&quot; : &#123; &quot;total&quot; : 2, &quot;successful&quot; : 1, &quot;failed&quot; : 0 &#125;, &quot;_seq_no&quot; : 7, &quot;_primary_term&quot; : 3&#125; æ‰¹é‡å†™å…¥ES æ‰¹é‡å†™å…¥ï¼Œç»Ÿä¸€è°ƒ _bulk ã€‚ 12345POOST /_bulk&#123;&quot;index&quot;: &#123;&quot;_index&quot;: index_name, _id:id&#125;&#123;&quot;data&quot;: xxx&#125;&#123;&quot;index&quot;: &#123;&quot;_index&quot;: index_name, _id:id&#125;&#123;&quot;data&quot;: xxx&#125; index_nameï¼šç´¢å¼•åç§° _id: å¯ä»¥çœç•¥ ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647POST /_bulk&#123;&quot;index&quot;: &#123;&quot;_index&quot;: &quot;sjl&quot;, &quot;_id&quot;: &quot;003&quot;&#125;&#125;&#123;&quot;title&quot;: &quot;å·¥ç¨‹å¸ˆ3&quot;&#125;&#123;&quot;index&quot;: &#123;&quot;_index&quot;: &quot;sjl&quot;, &quot;_id&quot;: &quot;004&quot;&#125;&#125;&#123;&quot;title&quot;: &quot;å·¥ç¨‹å¸ˆ4&quot;&#125;----- å“åº”ä¿¡æ¯---------&#123; &quot;took&quot; : 5, &quot;errors&quot; : false, &quot;items&quot; : [ &#123; &quot;index&quot; : &#123; &quot;_index&quot; : &quot;sjl&quot;, &quot;_type&quot; : &quot;_doc&quot;, &quot;_id&quot; : &quot;003&quot;, &quot;_version&quot; : 1, &quot;result&quot; : &quot;created&quot;, &quot;_shards&quot; : &#123; &quot;total&quot; : 2, &quot;successful&quot; : 1, &quot;failed&quot; : 0 &#125;, &quot;_seq_no&quot; : 8, &quot;_primary_term&quot; : 3, &quot;status&quot; : 201 &#125; &#125;, &#123; &quot;index&quot; : &#123; &quot;_index&quot; : &quot;sjl&quot;, &quot;_type&quot; : &quot;_doc&quot;, &quot;_id&quot; : &quot;004&quot;, &quot;_version&quot; : 1, &quot;result&quot; : &quot;created&quot;, &quot;_shards&quot; : &#123; &quot;total&quot; : 2, &quot;successful&quot; : 1, &quot;failed&quot; : 0 &#125;, &quot;_seq_no&quot; : 9, &quot;_primary_term&quot; : 3, &quot;status&quot; : 201 &#125; &#125; ]&#125; åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ curl è¯»å–ä¸€ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥å®Œæˆæ‰¹é‡çš„å†™å…¥ã€‚åŸç†ï¼šcurl ä»æ–‡ä»¶è¯»æ•°æ®ï¼Œç„¶åè°ƒ ES æ‰¹é‡å†™å…¥æ¥å£è¿›è¡Œæ•°æ®å†™å…¥ã€‚ ç¤ºä¾‹ 1curl -s -X POST &#x27;ES:9200/_bulk?preety&#x27; --data-binary &quot;@bulk_doc.json&quot; -s: ä¸è¾“å‡ºé”™è¯¯å’Œè¿›åº¦ä¿¡æ¯ -X: è¯·æ±‚è¯·æ±‚æ–¹å¼ä¸º POST â€“data-binaryï¼šäºŒè¿›åˆ¶POST çš„è¯·æ±‚ä½“ @bulk_doc.jsonï¼šæŒ‡å®šæ–‡ä»¶ç›®å½• æ–‡æ¡£ä¿®æ”¹å•æ¡ä¿®æ”¹1234567POST /&#123;idnex_name&#125;/_update/&#123;_id&#125;&#123; &quot;doc&quot;: &#123; &quot;ä¿®æ”¹å­—æ®µå&quot;: &quot;ä¿®æ”¹å­—æ®µå€¼â€ï¼Œ xxx: xx &#125;&#125; ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041-----æŸ¥è¯¢ sjlç´¢å¼•ä¸‹çš„idï¼š004 æ•°æ®------GET /sjl/_doc/004&#123; &quot;_index&quot; : &quot;sjl&quot;, &quot;_type&quot; : &quot;_doc&quot;, &quot;_id&quot; : &quot;004&quot;, &quot;_version&quot; : 3, &quot;_seq_no&quot; : 11, &quot;_primary_term&quot; : 3, &quot;found&quot; : true, &quot;_source&quot; : &#123; &quot;title&quot; : &quot;å·¥ç¨‹å¸ˆ4&quot; &#125;&#125;------- ä¿®æ”¹æ•°æ®-----------POST /sjl/_update/004&#123; &quot;doc&quot;: &#123; &quot;age&quot;: 26 &#125; &#125;#è¿™æ¡æ•°æ®åŸæ¥æ˜¯æœ‰ä¸€ä¸ª title: å·¥ç¨‹å¸ˆ4çš„æ•°æ®åœ¨#æŸ¥è¯¢ä¸€ä¸‹ç»“æœGET /sjl/_doc/004---- è¿”å›ç»“æœ-----&#123; &quot;_index&quot; : &quot;sjl&quot;, &quot;_type&quot; : &quot;_doc&quot;, &quot;_id&quot; : &quot;004&quot;, &quot;_version&quot; : 3, &quot;_seq_no&quot; : 11, &quot;_primary_term&quot; : 3, &quot;found&quot; : true, &quot;_source&quot; : &#123; &quot;title&quot; : &quot;å·¥ç¨‹å¸ˆ4&quot;, &quot;age&quot; : 26 &#125;&#125; æ‰¹é‡ä¿®æ”¹æ–‡æ¡£åˆ é™¤å•æ¡åˆ é™¤æ‰¹é‡åˆ é™¤æ–‡æ¡£æŸ¥è¯¢","categories":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/categories/ES/"}],"tags":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/tags/ES/"}]},{"title":"è‡ªå­¦ES-02ä¹‹ç´¢å¼•CRUD","slug":"è‡ªå­¦ES-02ä¹‹ç´¢å¼•CRUD","date":"2022-04-14T16:23:31.000Z","updated":"2022-04-14T16:23:31.000Z","comments":true,"path":"2022/04/15/è‡ªå­¦ES-02ä¹‹ç´¢å¼•CRUD/","link":"","permalink":"https://withoutcause.github.io/2022/04/15/%E8%87%AA%E5%AD%A6ES-02%E4%B9%8B%E7%B4%A2%E5%BC%95CRUD/","excerpt":"[toc] æ³¨ï¼šä¸‹é¢çš„æ“ä½œéƒ½æ˜¯åœ¨ kibana ä¸­è¿›è¡Œçš„ã€‚ ç´¢å¼•(index)","text":"[toc] æ³¨ï¼šä¸‹é¢çš„æ“ä½œéƒ½æ˜¯åœ¨ kibana ä¸­è¿›è¡Œçš„ã€‚ ç´¢å¼•(index)ç´¢å¼•çš„åˆ›å»º1234567891011PUT /&#123;index_name&#125;&#123; settings: &#123; ... &#125; mappings: &#123; properties: &#123; ... &#125; &#125;&#125; ç´¢å¼•æŸ¥çœ‹1GET /&#123;index_name&#125; ç´¢å¼•åˆ é™¤1DELETE /&#123;index_name&#125; ç´¢å¼•æ‰“å¼€å’Œå…³é—­ES æ”¯æŒå¯¹ç´¢å¼•è¿›è¡Œå…³é—­æ“ä½œï¼Œå…³é—­åä¹Ÿå¯ä»¥é‡æ–°æ‰“å¼€ã€‚ç´¢å¼•ä¸€æ—¦å…³é—­ï¼š ä¸èƒ½å†™å…¥æ•°æ® ä¸èƒ½æœç´¢æ•°æ® kibana 1POST /&#123;index_name&#125;/_close ç´¢å¼•å…³é—­åï¼Œå†å¯¹ç´¢å¼•è¿›è¡Œæ•°æ®å†™å…¥æˆ–æœç´¢ï¼Œå°†è¿”å›å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š 1234567891011121314151617&#123; &quot;error&quot; : &#123; &quot;root_cause&quot; : [ &#123; &quot;type&quot; : &quot;index_closed_exception&quot;, &quot;reason&quot; : &quot;closed&quot;, &quot;index_uuid&quot; : &quot;wnmGfLi-TPCanl-YuBNojg&quot;, &quot;index&quot; : &quot;sjl&quot; &#125; ], &quot;type&quot; : &quot;index_closed_exception&quot;, &quot;reason&quot; : &quot;closed&quot;, &quot;index_uuid&quot; : &quot;wnmGfLi-TPCanl-YuBNojg&quot;, &quot;index&quot; : &quot;sjl&quot; &#125;, &quot;status&quot; : 400&#125; æ‰“å¼€ç´¢å¼• 1POST /&#123;index_name&#125;/_open ç´¢å¼•åˆ«åå¯ä»¥å¯¹å¤šä¸ªç´¢å¼•è®¾ç½®ç›¸åŒçš„åˆ«åï¼Œä»è€Œå°†è¿™äº›ç´¢å¼•é€šè¿‡åˆ«åè¿›è¡Œèšåˆï¼Œç„¶åå†å¯¹è®¾ç½®åˆ«åçš„ç´¢å¼•è¿›è¡Œæ“ä½œï¼Œå°±ç›¸å½“äºæ˜¯åœ¨åŒæ—¶æ“ä½œè¿™äº›åˆ«ååŒ¹é…çš„ç´¢å¼•ã€‚ æ˜ å°„(mappings)åˆ›å»ºæ˜ å°„æ˜ å°„æ˜¯åœ¨åˆ›å»ºç´¢å¼•æ—¶ä¸€å¹¶æŒ‡å®šã€‚æ˜ å°„å¯ä»¥ç†è§£ä¸ºå…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨å®šä¹‰ã€‚ä¸€å¼ è¡¨æœ‰å“ªäº›å­—æ®µï¼Œæ¯ä¸ªå­—æ®µä»€ä¹ˆç±»å‹ã€‚ æŸ¥çœ‹æ˜ å°„12345678910111213GET /&#123;index_name&#125;/_mapping#è¿”å›æ•°æ®&#123; &quot;sjl&quot; : &#123; #ç´¢å¼•åç§° &quot;mappings&quot; : &#123; #æ˜ å°„ç›¸å…³ä¿¡æ¯ &quot;properties&quot; : &#123; &quot;title&quot; : &#123; &quot;type&quot; : &quot;keyword&quot; &#125; &#125; &#125; &#125;&#125; ä¿®æ”¹æ˜ å°„æ˜ å°„ä¸èƒ½ä¿®æ”¹ï¼Œåªèƒ½æ‰©å±•ã€‚ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹æ˜ å°„çš„å­—æ®µç±»å‹çš„æ—¶å€™åº”è¯¥æ€ä¹ˆåŠï¼Ÿ 123456789# æ‰©å±•æ˜ å°„ POST /sjl/_mapping&#123; &quot;properties&quot;: &#123; &quot;name&quot;: &#123; &quot;type&quot;: &quot;text&quot; &#125; &#125;&#125; æ•°æ®ç±»å‹keywordkeyword ç±»å‹æ˜¯ä¸èƒ½å†åˆ‡åˆ†çš„å­—ç¬¦ä¸²ç±»å‹ã€‚åœ¨æœç´¢çš„æ—¶å€™ï¼Œä¸å¯¹ keyword ç±»å‹çš„å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ†åçš„éƒ¨åˆ†åŒ¹é…ã€‚ä½¿ç”¨ term æŸ¥è¯¢æ•°æ®ã€‚ texttext ç²¾è‹±æ˜¯å¯åˆ‡åˆ†çš„å­—ç¬¦ä¸²ç±»å‹ã€‚åœ¨æœç´¢çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§åˆ†è¯ç®—æ³•å¯¹ text ç±»å‹çš„å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ†ååŒ¹é…ã€‚ä½¿ç”¨ match æŸ¥è¯¢æ•°æ®ã€‚ æ•°å€¼ç±»å‹ long(é•¿æ•´å‹):8å­—èŠ‚ï¼Œ64ä½, $-2^{63}$ â€”â€” $2^{63}$-1 integer(æ•´å‹):4å­—èŠ‚ï¼Œ32ä½ï¼Œ$-2^{31}$ â€”â€” $2^{31}$-1 short(çŸ­æ•´å‹):2å­—èŠ‚ï¼Œ16ä½ï¼Œ$-2^{15}$ â€”â€” $2^{15}$-1 byte(å­—èŠ‚):1å­—ç¬¦ï¼Œ8ä½ï¼Œ$-2^{7}$ â€”â€” $2^{7}$ï¼Œå³ -128â€”â€”127 double(åŒç²¾åº¦):8å­—èŠ‚ï¼Œ64ä½ã€‚ float(å•ç²¾åº¦)ï¼š4å­—èŠ‚ï¼Œ32ä½ half_float(åŠç²¾åº¦)ï¼š2å­—ç¬¦ï¼Œ16ä½ã€‚ scaled_float(ç¼©æ”¾æµ®ç‚¹å‹) unsigned_long(æ— ç¬¦å·é•¿æ•´å½¢)ï¼š6å­—èŠ‚ï¼Œ64ä½ã€‚$2^{64}-1$ å¸ƒå°”(boolean) true æˆ– â€œtrueâ€ false æˆ– â€œfalseâ€ æ—¥æœŸç±»å‹(date)æ—¥æœŸç±»å‹ä¸ºä¸¤ç§ï¼š strict_date_optional_timeï¼šä¸¥æ ¼çš„æ—¥æœŸç±»å‹ï¼Œyyyy-MM-ddã€yyyyMMddã€yyyyMMddHHmmssã€yyyy-MM-ddTHH:mm:ssã€yyyy-MM-ddTHH:mm:ss.SSSå’Œyyyy-MM-ddTHH:mm:ss.SSSZ epoch_millisï¼šæ—¶é—´æˆ³ç±»å‹ æ•°ç»„ES å®šä¹‰çš„æ ¼å¼ï¼Œè‡ªåŠ¨æ”¯æŒæ•°ç»„ã€‚åœ¨å®šä¹‰æ—¶ï¼Œä½¿ç”¨æ•°ç»„çš„å†…å®¹é¡¹çš„ç±»å‹å®šä¹‰ mapping å³å¯ã€‚å†™å…¥æ•°æ®æ—¶ï¼Œä½¿ç”¨ [] çš„å½¢å¼ã€‚ 1234POST /&#123;index_name&#125;/001&#123; &quot;tag&quot;: [&quot;tag1&quot;, &quot;tag2&quot;]&#125; tag å®šä¹‰çš„æ˜¯ keyword çš„ç±»å‹ã€‚ å¯¹è±¡ä¸æ™®é€šçš„å¯¹è±¡æ“ä½œä¸€è‡´ã€‚ ç¤ºä¾‹ï¼š 1","categories":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/categories/ES/"}],"tags":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/tags/ES/"}]},{"title":"è‡ªå­¦ES-01ä¹‹ç¯å¢ƒå®‰è£…","slug":"è‡ªå­¦ES-01ä¹‹ç¯å¢ƒå®‰è£…","date":"2022-04-14T16:23:19.000Z","updated":"2022-04-14T16:23:19.000Z","comments":true,"path":"2022/04/15/è‡ªå­¦ES-01ä¹‹ç¯å¢ƒå®‰è£…/","link":"","permalink":"https://withoutcause.github.io/2022/04/15/%E8%87%AA%E5%AD%A6ES-01%E4%B9%8B%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/","excerpt":"[toc] æ­å»ºæœ¬åœ° Docker çš„ç¯å¢ƒï¼Œä»…ä¾›ç»ƒä¹ ä½¿ç”¨ã€‚ ES ç¯å¢ƒå®‰è£…","text":"[toc] æ­å»ºæœ¬åœ° Docker çš„ç¯å¢ƒï¼Œä»…ä¾›ç»ƒä¹ ä½¿ç”¨ã€‚ ES ç¯å¢ƒå®‰è£…1docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e &quot;ES_JAVA_OPTS=-Xmx512M -Xms512M&quot; -e &quot;xpack.security.enabled=false&quot; elasticsearch:7.16.3 1docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e &quot;ES_JAVA_OPTS=-Xmx512M -Xms512M&quot; elasticsearch:7.16.3 ES_JAVA_OPTS=-Xmx512M -Xms512M: é…ç½® ES çš„å†…å­˜ä¸º 512Mã€‚ xpack.security.enabled:é…ç½®æ˜¯å› ä¸ºæŸ¥è¯¢çš„æ—¶å€™ï¼Œåœ¨ kibana ç•Œé¢ä¼šå‡ºç°ä¸€ä¸ªå®‰å…¨æç¤ºï¼Œè¯¥é…ç½®åœ¨ç”Ÿäº§ä¸­éœ€è¦å¼€å¯(è®¾ç½®ä¸º:true)ã€‚ Kibana ç¯å¢ƒå®‰è£…1docker run -it -d --name kibana --link es -e ELASTICSEARCH_HOSTS=http://es:9200 -p 5601:5601 kibana:7.16.3","categories":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/categories/ES/"}],"tags":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/tags/ES/"}]},{"title":"è‡ªå­¦ES-00ä¹‹ç›®å½•","slug":"è‡ªå­¦ES-00ä¹‹ç›®å½•","date":"2022-04-14T16:21:16.000Z","updated":"2023-01-17T08:15:16.000Z","comments":true,"path":"2022/04/15/è‡ªå­¦ES-00ä¹‹ç›®å½•/","link":"","permalink":"https://withoutcause.github.io/2022/04/15/%E8%87%AA%E5%AD%A6ES-00%E4%B9%8B%E7%9B%AE%E5%BD%95/","excerpt":"è‡ªå­¦ES-01ä¹‹ç¯å¢ƒå®‰è£… è‡ªå­¦ES-02ä¹‹ç´¢å¼•CRUD è‡ªå­¦ES-03ä¹‹æ–‡æ¡£","text":"è‡ªå­¦ES-01ä¹‹ç¯å¢ƒå®‰è£… è‡ªå­¦ES-02ä¹‹ç´¢å¼•CRUD è‡ªå­¦ES-03ä¹‹æ–‡æ¡£","categories":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/categories/ES/"}],"tags":[{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/tags/ES/"}]},{"title":"é‡å­¦Javaå¹¶å‘â€”â€”01ä¹‹çº¿ç¨‹åŸºç¡€","slug":"é‡å­¦Javaå¹¶å‘â€”â€”01ä¹‹çº¿ç¨‹åŸºç¡€","date":"2021-11-24T12:46:13.000Z","updated":"2021-11-24T12:46:13.000Z","comments":true,"path":"2021/11/24/é‡å­¦Javaå¹¶å‘â€”â€”01ä¹‹çº¿ç¨‹åŸºç¡€/","link":"","permalink":"https://withoutcause.github.io/2021/11/24/%E9%87%8D%E5%AD%A6Java%E5%B9%B6%E5%8F%91%E2%80%94%E2%80%9401%E4%B9%8B%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80/","excerpt":"å¤šçº¿ç¨‹å¤šçº¿ç¨‹çš„çŠ¶æ€java.lang.Thread.State å®šä¹‰äº†çº¿ç¨‹çš„çŠ¶æ€ã€‚","text":"å¤šçº¿ç¨‹å¤šçº¿ç¨‹çš„çŠ¶æ€java.lang.Thread.State å®šä¹‰äº†çº¿ç¨‹çš„çŠ¶æ€ã€‚ NEW RUNNABLE BLOCKED WAITINT WAIT_TIMEOUT TERMINTED","categories":[],"tags":[]},{"title":"é‡å­¦Javaå¹¶å‘â€”â€”00ä¹‹ç›®å½•","slug":"é‡å­¦Javaå¹¶å‘â€”â€”00ä¹‹ç›®å½•","date":"2021-11-24T12:45:34.000Z","updated":"2021-11-24T12:45:34.000Z","comments":true,"path":"2021/11/24/é‡å­¦Javaå¹¶å‘â€”â€”00ä¹‹ç›®å½•/","link":"","permalink":"https://withoutcause.github.io/2021/11/24/%E9%87%8D%E5%AD%A6Java%E5%B9%B6%E5%8F%91%E2%80%94%E2%80%9400%E4%B9%8B%E7%9B%AE%E5%BD%95/","excerpt":"","text":"ç›®å½• é‡å­¦Javaå¹¶å‘â€”â€”01ä¹‹çº¿ç¨‹åŸºç¡€ å¯¹è‡ªå·±è¯´","categories":[{"name":"å¹¶å‘","slug":"å¹¶å‘","permalink":"https://withoutcause.github.io/categories/%E5%B9%B6%E5%8F%91/"}],"tags":[{"name":"å¹¶å‘","slug":"å¹¶å‘","permalink":"https://withoutcause.github.io/tags/%E5%B9%B6%E5%8F%91/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://withoutcause.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"å¤šä¸ªä¸‰æ–¹å¯¹æ¥å®è·µâ€”â€”æ•°æ®ä¸­å¿ƒ","slug":"å¤šä¸ªä¸‰æ–¹å¯¹æ¥å®è·µâ€”â€”æ•°æ®ä¸­å¿ƒ","date":"2021-11-22T14:17:29.000Z","updated":"2021-11-22T14:17:29.000Z","comments":true,"path":"2021/11/22/å¤šä¸ªä¸‰æ–¹å¯¹æ¥å®è·µâ€”â€”æ•°æ®ä¸­å¿ƒ/","link":"","permalink":"https://withoutcause.github.io/2021/11/22/%E5%A4%9A%E4%B8%AA%E4%B8%89%E6%96%B9%E5%AF%B9%E6%8E%A5%E5%AE%9E%E8%B7%B5%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/","excerpt":"æ¦‚è¿°ä¸šåŠ¡å‘å±•éœ€è¦å¯¹æ¥åˆ°å¤šä¸ªä¸‰æ–¹ç³»ç»Ÿï¼Œæ¶‰åŠåˆ°å¤šé¡¹ä¸šåŠ¡ã€‚å†…éƒ¨æœ‰å¤šæ¡ä¸šåŠ¡çº¿ï¼Œæ¯æ¡ä¸šåŠ¡çº¿éƒ½æœ‰å¯¹åº”çš„ç³»ç»Ÿæ”¯æ’‘ã€‚æ¯ä¸ªç³»ç»Ÿéƒ½éœ€è¦å¯¹æ¥ä¸€äº›ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼Œåœ¨å„ä¸ªä¸šåŠ¡ä¸­ä¼šæœ‰ä¸€äº›é‡åˆã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›ï¼š ä¸åŒçš„ä¸šåŠ¡çº¿å¦‚æœè¦å¯¹æ¥ç›¸åŒçš„ç¬¬ä¸‰æ–¹ï¼Œèƒ½å¤Ÿèµ°åŒä¸€ä¸ªæ¥å£è€Œä¸æ˜¯å„ä¸ªä¸šåŠ¡ç³»ç»Ÿå¯¹æ¥ã€‚ ä¸ä¾µå…¥ä¸šåŠ¡ç³»ç»Ÿï¼Œæˆ–è€…å°½å¯èƒ½å°‘çš„ä¾µå…¥ã€‚ æ‰€æœ‰ç¬¬ä¸‰æ–¹æ•°æ®èƒ½æ±‡èšåˆ°åŒä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œä¾¿äºåç»­æŠ¥è¡¨æ•°æ®æå–ã€‚ åŸºäºä¸Šé¢å‡ ç‚¹åŸå› ï¼Œæˆ‘ä»¬å†³å®šå¼€å‘ä¸€ä¸ªä¸“é—¨çš„å¯¹æ¥ä¸­å¿ƒï¼Œè´Ÿè´£å¯¹æ¥ä¸Šæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼Œå†…éƒ¨ç³»ç»Ÿåªä¸å¯¹æ¥ä¸­å¿ƒå¯¹æ¥ã€‚","text":"æ¦‚è¿°ä¸šåŠ¡å‘å±•éœ€è¦å¯¹æ¥åˆ°å¤šä¸ªä¸‰æ–¹ç³»ç»Ÿï¼Œæ¶‰åŠåˆ°å¤šé¡¹ä¸šåŠ¡ã€‚å†…éƒ¨æœ‰å¤šæ¡ä¸šåŠ¡çº¿ï¼Œæ¯æ¡ä¸šåŠ¡çº¿éƒ½æœ‰å¯¹åº”çš„ç³»ç»Ÿæ”¯æ’‘ã€‚æ¯ä¸ªç³»ç»Ÿéƒ½éœ€è¦å¯¹æ¥ä¸€äº›ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼Œåœ¨å„ä¸ªä¸šåŠ¡ä¸­ä¼šæœ‰ä¸€äº›é‡åˆã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›ï¼š ä¸åŒçš„ä¸šåŠ¡çº¿å¦‚æœè¦å¯¹æ¥ç›¸åŒçš„ç¬¬ä¸‰æ–¹ï¼Œèƒ½å¤Ÿèµ°åŒä¸€ä¸ªæ¥å£è€Œä¸æ˜¯å„ä¸ªä¸šåŠ¡ç³»ç»Ÿå¯¹æ¥ã€‚ ä¸ä¾µå…¥ä¸šåŠ¡ç³»ç»Ÿï¼Œæˆ–è€…å°½å¯èƒ½å°‘çš„ä¾µå…¥ã€‚ æ‰€æœ‰ç¬¬ä¸‰æ–¹æ•°æ®èƒ½æ±‡èšåˆ°åŒä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œä¾¿äºåç»­æŠ¥è¡¨æ•°æ®æå–ã€‚ åŸºäºä¸Šé¢å‡ ç‚¹åŸå› ï¼Œæˆ‘ä»¬å†³å®šå¼€å‘ä¸€ä¸ªä¸“é—¨çš„å¯¹æ¥ä¸­å¿ƒï¼Œè´Ÿè´£å¯¹æ¥ä¸Šæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼Œå†…éƒ¨ç³»ç»Ÿåªä¸å¯¹æ¥ä¸­å¿ƒå¯¹æ¥ã€‚ æ¶æ„è®¾è®¡","categories":[{"name":"é¡¹ç›®å®è·µ","slug":"é¡¹ç›®å®è·µ","permalink":"https://withoutcause.github.io/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"}],"tags":[{"name":"æ¶æ„","slug":"æ¶æ„","permalink":"https://withoutcause.github.io/tags/%E6%9E%B6%E6%9E%84/"}]},{"title":"MongoDBæ…¢æŸ¥è¯¢åˆ†æ","slug":"MongoDBæ…¢æŸ¥è¯¢åˆ†æ","date":"2021-10-21T01:43:05.000Z","updated":"2021-10-21T01:43:05.000Z","comments":true,"path":"2021/10/21/MongoDBæ…¢æŸ¥è¯¢åˆ†æ/","link":"","permalink":"https://withoutcause.github.io/2021/10/21/MongoDB%E6%85%A2%E6%9F%A5%E8%AF%A2%E5%88%86%E6%9E%90/","excerpt":"MongoDBæ…¢æŸ¥è¯¢1db.system.profile.find() è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š","text":"MongoDBæ…¢æŸ¥è¯¢1db.system.profile.find() è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134&#123; &quot;op&quot;:&quot;query&quot;, #æ“ä½œç±»å‹ &quot;ns&quot;:&quot;poseidon.business_order&quot;, #å‘½åç©ºé—´ï¼Œdb.collection &quot;command&quot;:&#123; #æ‰§è¡Œçš„å‘½ä»¤ &quot;find&quot;:&quot;business_order&quot;, #æ“ä½œçš„ collection &quot;filter&quot;:&#123; # æ¡ä»¶ &quot;bizSystemOrderId&quot;:&quot;1000342905&quot; &#125;, &quot;limit&quot;:&#123; &quot;$numberLong&quot;:&quot;10&quot; &#125;, &quot;shardVersion&quot;:[ &#123; &quot;$timestamp&quot;:&#123; &quot;t&quot;:40, &quot;i&quot;:1 &#125; &#125;, &#123; &quot;$oid&quot;:&quot;5ef1ec758f212cb90e379041&quot; &#125; ], &quot;lsid&quot;:&#123; &quot;id&quot;:&#123; &quot;$binary&quot;:&quot;6R/soj3ZQIGvvv0MWauOAw==&quot;, &quot;$type&quot;:&quot;04&quot; &#125;, &quot;uid&quot;:&#123; &quot;$binary&quot;:&quot;Y5mrDaxi8gv8RmdTsQ+1j7fmkr7JUsabhNmXAheU0fg=&quot;, &quot;$type&quot;:&quot;00&quot; &#125; &#125;, &quot;$clusterTime&quot;:&#123; &quot;clusterTime&quot;:&#123; &quot;$timestamp&quot;:&#123; &quot;t&quot;:1634720101, &quot;i&quot;:28 &#125; &#125;, &quot;signature&quot;:&#123; &quot;hash&quot;:&#123; &quot;$binary&quot;:&quot;QIX3+Td22GwnDi+ln7RP16nt0o8=&quot;, &quot;$type&quot;:&quot;00&quot; &#125;, &quot;keyId&quot;:&#123; &quot;$numberLong&quot;:&quot;6990046543956934658&quot; &#125; &#125; &#125;, &quot;$client&quot;:&#123; &quot;driver&quot;:&#123; &quot;name&quot;:&quot;PyMongo&quot;, &quot;version&quot;:&quot;3.8.0&quot; &#125;, &quot;os&quot;:&#123; &quot;type&quot;:&quot;Linux&quot;, &quot;name&quot;:&quot;Linux&quot;, &quot;architecture&quot;:&quot;x86_64&quot;, &quot;version&quot;:&quot;3.10.0-693.2.2.el7.x86_64&quot; &#125;, &quot;platform&quot;:&quot;CPython 3.6.5.final.0&quot;, &quot;mongos&quot;:&#123; &quot;host&quot;:&quot;g54g16057.cloud.cm3:3172&quot;, &quot;client&quot;:&quot;10.80.239.136:52694&quot;, &quot;version&quot;:&quot;4.0.13&quot; &#125; &#125;, &quot;$configServerState&quot;:&#123; &quot;opTime&quot;:&#123; &quot;ts&quot;:&#123; &quot;$timestamp&quot;:&#123; &quot;t&quot;:1634720099, &quot;i&quot;:1 &#125; &#125;, &quot;t&quot;:&#123; &quot;$numberLong&quot;:&quot;1&quot; &#125; &#125; &#125;, &quot;$db&quot;:&quot;poseidon&quot; &#125;, &quot;keysExamined&quot;:0, &quot;docsExamined&quot;:470765, &quot;cursorExhausted&quot;:true, &quot;numYield&quot;:3677, &quot;nreturned&quot;:0, &quot;locks&quot;:&#123; #é”ä¿¡æ¯ &quot;Global&quot;:&#123; &quot;acquireCount&quot;:&#123; &quot;r&quot;:&#123; &quot;$numberLong&quot;:&quot;3680&quot; &#125; &#125; &#125;, &quot;Database&quot;:&#123; &quot;acquireCount&quot;:&#123; &quot;r&quot;:&#123; &quot;$numberLong&quot;:&quot;3678&quot; &#125; &#125; &#125;, &quot;Collection&quot;:&#123; &quot;acquireCount&quot;:&#123; &quot;r&quot;:&#123; &quot;$numberLong&quot;:&quot;3678&quot; &#125; &#125; &#125; &#125;, &quot;storage&quot;:&#123; #å­˜å‚¨ä¿¡æ¯ &quot;data&quot;:&#123; &quot;bytesRead&quot;:&#123; &quot;$numberLong&quot;:&quot;478045859&quot; #ä»ç£ç›˜æ”¾åˆ°ç¼“å­˜çš„å­—èŠ‚æ•° &#125;, &quot;timeReadingMicros&quot;:&#123; &quot;$numberLong&quot;:&quot;507960&quot; #æ“ä½œèŠ±è´¹çš„æ—¶é—´ï¼Œå•ä½:å¾®ç§’ &#125; &#125;, &quot;timeWaitingMicros&quot;:&#123; &quot;cache&quot;:&#123; &quot;$numberLong&quot;:&quot;8&quot; &#125; &#125; &#125;, &quot;responseLength&quot;:407, #è¿”å›çš„æ–‡æ¡£é•¿åº¦ï¼Œå•ä½:å­—èŠ‚ &quot;protocol&quot;:&quot;op_msg&quot;, #æ¶ˆæ¯çš„åè®® &quot;millis&quot;:943, #ä» MongoDB å¼€å§‹æ“ä½œåˆ°ç»“æŸè€—è´¹çš„æ—¶é—´ &quot;planSummary&quot;:&quot;COLLSCAN&quot;, #æ“ä½œå½¢å¼ï¼ŒCOLLSCAN ç”¨äºé›†åˆæ‰«æï¼ŒIXSCAN ç”¨äºæ‰«æç´¢å¼•é”®ï¼ŒFETCH ç”¨äºæ£€ç´¢æ–‡æ¡£ &quot;replRole&quot;:&#123; &quot;stateStr&quot;:&quot;PRIMARY&quot;, &quot;_id&quot;:3 &#125;&#125;","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://withoutcause.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"MongoDB","slug":"æ•°æ®åº“/MongoDB","permalink":"https://withoutcause.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/"}],"tags":[{"name":"MongoDB","slug":"MongoDB","permalink":"https://withoutcause.github.io/tags/MongoDB/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—-08ä¹‹TypeScript","slug":"è‡ªå­¦Reactç³»åˆ—-08ä¹‹TypeScript","date":"2021-10-12T14:10:11.000Z","updated":"2021-10-12T14:10:11.000Z","comments":true,"path":"2021/10/12/è‡ªå­¦Reactç³»åˆ—-08ä¹‹TypeScript/","link":"","permalink":"https://withoutcause.github.io/2021/10/12/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-08%E4%B9%8BTypeScript/","excerpt":"æ•°æ®ç±»å‹ number string boolean null undefined symbol objectï¼šå¯¹è±¡ç±»å‹ anyï¼šå¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹ï¼Œä¸ Java ä¸­çš„ Object ç±»å‹ä¸€ä¸ªå«ä¹‰ å®šä¹‰å˜é‡","text":"æ•°æ®ç±»å‹ number string boolean null undefined symbol objectï¼šå¯¹è±¡ç±»å‹ anyï¼šå¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹ï¼Œä¸ Java ä¸­çš„ Object ç±»å‹ä¸€ä¸ªå«ä¹‰ å®šä¹‰å˜é‡ å®šä¹‰ stringï¼Œå•å¼•å· &#39;&#39; æˆ–è€…åŒå¼•å· &quot;&quot; 1let a: string = &#x27;a&#x27;; // å®šä¹‰ string ç±»å‹çš„å˜é‡ a let å’Œ const éƒ½å¯ä»¥å®šä¹‰å˜é‡ï¼ŒåŒºåˆ«åœ¨äº let å’Œ const å®šä¹‰çš„å˜é‡ä½œç”¨åŸŸä¸åŒã€‚ const æ˜¯å…¨å±€ï¼Œlet æ˜¯å±€éƒ¨ã€‚ å®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸² 1let a: string = `good $&#123;name&#125;`; å®šä¹‰ number 1let num: number = 1.1; å®šä¹‰æ•°ç»„ 1let arr:number[] = [1,2,3,4]; ç±»å‹æ–­è¨€ å‘ let num: number = 1.1; ä¸­çš„ : number ä¸æ˜¯å¿…é¡»çš„ï¼Œ ts ä¼šæ ¹æ®èµ‹å€¼çš„ç±»å‹è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„å†™æ³•: 1let num = 1.1; å®šä¹‰æ•°ç»„ä½¿ç”¨ä¸­æ‹¬å·å®šä¹‰æ•°ç»„ [] 1let arr: number[] = [1, 2, 3, 4, 5]; æ³›å‹æ•°ç»„ 1let arr: Array&lt;number&gt; = [1, 2, 3, 4, 5]; å®šä¹‰å‡½æ•°æ™®é€šå‚æ•°å‚æ•°æ•°é‡ç¡®å®šï¼Œå‚æ•°ç±»å‹ç¡®å®šï¼Œè¿”å›å€¼ç¡®å®šã€‚ 123function foo(a: string): string &#123; return a;&#125; å¯é€‰å‚æ•°å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯å…¶ä¸­çš„æŸä¸€ä¸ªæˆ–æŸå‡ ä¸ªå‚æ•°å¯ä»¥ä¸ä¼ å€¼ 123function foo(a: string, b?: string): string &#123; return a;&#125; ä¸Šé¢çš„ b å¯ä»¥ä¸ä¸ä¼ å€¼ å‚æ•°é»˜è®¤å€¼å‡½æ•°å‚æ•°ä¸ºå…¶è®¾ç½®é»˜è®¤å€¼ 123function foo(a: string, b: string = &#x27;b&#x27;): string &#123; retunr a + b;&#125; ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœè°ƒç”¨ foo å‡½æ•°ï¼Œä¸”ä¸å¯¹å‚æ•° b ä¼ å€¼çš„è¯ï¼Œb çš„é»˜è®¤å€¼å°±æ˜¯å­—ç¬¦ä¸²bã€‚ å‚æ•°å¤šç±»å‹å‡½æ•°å‚æ•°ç±»å‹ä¸å›ºå®šï¼Œä½†æ˜¯åªèƒ½æ˜¯å…¶ä¸­çš„ä¸€ç§æˆ–å‡ ç§ç±»å‹ï¼Œæ¯”å¦‚å‚æ•° b åªèƒ½æ˜¯ number æˆ–è€… string ä¸¤ç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œä½†å…·ä½“æ˜¯å“ªä¸€ç§ä¸ç¡®å®šã€‚ 123function foo(a: string|number): string|number &#123; return a;&#125; Interface(æ¥å£)æ¥å£å¯ä»¥å®šä¹‰å¯¹è±¡çš„æè¿° æ¥å£å¯ä»¥å®šä¹‰ä¸€äº›æŠ½è±¡æ–¹æ³• ç±»ç±»å®ç°æ¥å£","categories":[{"name":"ts","slug":"ts","permalink":"https://withoutcause.github.io/categories/ts/"}],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"https://withoutcause.github.io/tags/TypeScript/"},{"name":"ts","slug":"ts","permalink":"https://withoutcause.github.io/tags/ts/"}]},{"title":"è­¦é’Ÿé•¿é¸£~01ä¹‹19å¹´ä¸€æ¬¡è®°å½•","slug":"è­¦é’Ÿé•¿é¸£-01ä¹‹19å¹´ä¸€æ¬¡è®°å½•","date":"2021-10-11T14:35:18.000Z","updated":"2021-10-11T14:35:18.000Z","comments":true,"path":"2021/10/11/è­¦é’Ÿé•¿é¸£-01ä¹‹19å¹´ä¸€æ¬¡è®°å½•/","link":"","permalink":"https://withoutcause.github.io/2021/10/11/%E8%AD%A6%E9%92%9F%E9%95%BF%E9%B8%A3-01%E4%B9%8B19%E5%B9%B4%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95/","excerpt":"å…³äº 6.14 æ—¥æ™šä¸Šä¸Šçº¿å®¢æˆ·ä»·å€¼çš„æ€»ç»“ä¸Šçº¿å†…å®¹ å®¢æˆ·ä»·å€¼å®šæ—¶ä»»åŠ¡ hotel-manger (é—¨åº—åå°)","text":"å…³äº 6.14 æ—¥æ™šä¸Šä¸Šçº¿å®¢æˆ·ä»·å€¼çš„æ€»ç»“ä¸Šçº¿å†…å®¹ å®¢æˆ·ä»·å€¼å®šæ—¶ä»»åŠ¡ hotel-manger (é—¨åº—åå°) æ¶‰åŠæ¨¡å—å·¥ç¨‹ pig-yd-service æ•°æ®åº“æ·»åŠ å­—æ®µï¼Œåé¢å­—æ®µæ²¡æœ‰è¢«ä½¿ç”¨ï¼Œå·²åºŸå¼ƒè¯¥å­—æ®µï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»æ•°æ®åº“ä¸­åˆ é™¤ å…¶ä»–å¼€å‘ hotel-manager (é—¨åº—åå°) ä¸Šçº¿å‰çš„å‡†å¤‡ æ•°æ®åº“è„šæœ¬ åˆå¹¶ä»£ç (æœªåŠæ—¶åˆå¹¶åˆ° master) å½“æ—¶æ²¡æœ‰ä½¿ç”¨ git-flow è¿™ç§å·¥ä½œæµçš„è¯•è¯•ï¼Œå°† master åˆ†æ”¯åˆå¹¶åˆ°å¼€å‘åˆ†æ”¯ï¼Œç„¶åç”¨å¼€å‘åˆ†æ”¯æ‰“åŒ…ä¸Šçº¿ã€‚ ä¸Šçº¿è¿‡ç¨‹æ‰“åŒ… git åˆå¹¶ éå¸¸ä¸é¡ºåˆ© äº‹æ•…åŸå›  æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ç¬¬ä¸€æ¬¡ 404 ã€‚åŸå› æ˜¯æ²¡æœ‰å°†ä»£ç åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œé‡æ–°åˆå¹¶åˆ†æ”¯å¹¶ä¸Šçº¿ã€‚ æ‰§è¡Œåˆå§‹åŒ–æ¥å£ç¬¬äºŒæ¬¡å¤±è´¥ï¼ŒåŸå› æ˜¯æœ‰ä¸€æ¡å¼‚å¸¸æ•°æ®ã€‚ docker ä¸Šæ²¡æœ‰æ—¥å¿—ï¼Œæ²¡æœ‰å°†æ—¥å¿—æ‰“å°åˆ°æ§åˆ¶å°ä¸Š æ‰§è¡Œä»»åŠ¡ä¸­é€”æŠ¥é”™ï¼Œæœ‰ä¸¤ä¸ªå­—æ®µåœ¨æµ‹è¯•ç¯å¢ƒä¸­æ·»åŠ çš„åæ¥åºŸå¼ƒä¸ä½¿ç”¨äº†ï¼Œç”Ÿäº§ç¯å¢ƒæ•°æ®åº“ä¸­æ²¡æœ‰è¿™ä¸¤ä¸ªå­—æ®µï¼Œ SQL æ‰§è¡ŒæŠ¥é”™ã€‚ä¿®æ”¹ä»£ç ï¼Œä» Mybatis é…ç½®æ–‡ä»¶å’Œ Entity å¯¹è±¡ä¸­åˆ é™¤è¿™ä¸¤ä¸ªå­—æ®µçš„æ˜ å°„ æ‰§è¡Œä»»åŠ¡ä¸­é€”æŠ¥é”™ï¼Œæ•°æ®åº“ä¸­æœ‰ meal_type_name æ•°æ®å¼‚å¸¸ï¼Œå€¼ä¸ºåˆé¤ä½†æ˜¯åé¢æœ‰å¾ˆå¤šç©ºæ ¼ï¼Œæ•´ä¸ªå­—æ®µé•¿åº¦è¶…è¿‡æ–°å»ºè¡¨ä¸­å®šä¹‰çš„é•¿åº¦ã€‚ åœ¨ä»£ç ä¸­å–è¯¥å­—æ®µå€¼çš„åœ°æ–¹åŠ ä¸Š trim() æ–¹æ³• æ‰“å¼€é—¨åº—åå°é¡µé¢ï¼Œæœ‰ä¸€ä¸ªæ¥å£æŠ¥é”™ï¼ŒåŸå› æ˜¯æœ‰ä¸¤ä¸ªå­—æ®µåœ¨æµ‹è¯•ç¯å¢ƒä¸‹æ·»åŠ åºŸå¼ƒåæœªåˆ é™¤ï¼Œè¢«æ˜ å°„è¿›äº† Mybatis çš„ xml å’Œ Entity å¯¹è±¡ä¸­ï¼ŒæŸ¥è¯¢æ—¶æŠ¥ Unknown cloumn &#39;MAN_VIP_ID&#39; xxx å®šæ—¶è°ƒåº¦çš„ä»»åŠ¡ä¸æ‰§è¡Œï¼ŒåŸå› æ˜¯ä»£ç ä¸­çš„é€»è¾‘é”™è¯¯ï¼Œå¯¼è‡´ if æ°¸è¿œéƒ½ä¸º false 123456LocalTime startTime1 = LocalTime.of(23, 0, 0);LocalTime startTime2 = LocalTime.of(8, 0, 0);LocalTime nowTime = LocalTime.now();if (nowTime.isAfter(startTime1) &amp;&amp; nowTime.isBefore(startTime2)) &#123; xxxx&#125; æ€»ç»“åˆ†æå¼€å‘é˜¶æ®µ å¼€å‘é˜¶æ®µéœ€æ±‚ä¸å¤Ÿæ˜ç¡®ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¼¼æ˜¯è€Œéã€‚é‡è¿°æ—¶ï¼Œä¸èƒ½å®Œæˆçš„è®²å‡ºæ¥æ¯ä¸ªå­—æ®µçš„å–å€¼é€»è¾‘ï¼Œåªæ˜¯èƒ½å¤Ÿå¬æ‡‚ã€‚ è§„é¿ï¼Œå¼€ä¼šè¯´æ˜éœ€æ±‚åï¼Œè¿˜è¦è‡ªå·±å†ä»”ç»†è¿‡ä¸€éï¼Œå¯¹äºæ¯ä¸ªè®¡ç®—å­—æ®µæ˜¯å¦‚ä½•ç”±æ¥çš„ï¼Œå¿…é¡»åšåˆ°è‡ªå·±èƒ½å¤Ÿè®²æ¸…æ¥šï¼Œå¯¹äºæ¶‰åŠåˆ°çš„è¡¨ï¼Œå¿…é¡»è¦çŸ¥é“ã€‚ å¼€å‘å‰ï¼Œå¯¹å¼‚å¸¸çŠ¶æ€è€ƒè™‘ä¸å¤Ÿå‘¨å…¨ï¼Œå†™å‡ºçš„ä»£ç å¥å£®æ€§ä¸å¤Ÿã€‚ å¯¹æ‰€æœ‰æ•°æ®éƒ½è¦è®¤ä¸ºä¸å¯é ï¼ŒåŒ…å«è¾“å…¥çš„å’Œæ•°æ®åº“ä¸­æŸ¥åˆ°çš„ï¼Œå¿…é¡»è¿›è¡Œä¸€æ¬¡æ ¡éªŒ è€ƒè™‘åˆ°å¦‚æœç³»ç»Ÿå‘ç”Ÿæ•…éšœï¼Œå†é‡æ–°æ¢å¤åçš„æƒ…å†µ å¦‚æœæ˜¯å®šæ—¶ä»»åŠ¡ï¼Œä»»åŠ¡æœ¬èº«è¦å¯æ§ï¼Œå¯åœï¼Œå¯å¯ è¦åšå¹‚ç­‰ï¼Œå¦‚æœæ˜¯å®šæ—¶ä»»åŠ¡ï¼ŒåŒä¸€ä¸ªä»»åŠ¡ï¼Œå¤šæ¬¡æ‰§è¡Œç»“æœåº”è¯¥æ˜¯ä¸€æ · ä»£ç æ‰§è¡Œè¿‡ç¨‹è¦æœ‰æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æ‰§è¡Œçš„ç—•è¿¹ï¼Œå¹¶ä¸”æ‰§è¡Œå‡ºé”™åå¯æ¢å¤ ä»£ç æ‰§è¡Œçš„æœ€å¤§æ—¶é—´è¦å¯æ§ï¼Œä¸èƒ½å‡ºç°è¶…é•¿æ‰§è¡Œï¼Œå®šæ—¶ä»»åŠ¡ï¼Œä¸€å®¶é…’åº—çš„æ•°æ®æ‰§è¡Œæ—¶é—´é•¿è¾¾ 30 åˆ†é’Ÿæ˜¯ä¸æ­£ç¡®çš„ã€‚ æ•°æ®åº“æŸ¥è¯¢ï¼Œè¦è€ƒè™‘åˆ°ä¸Šæ¸¸çš„æ•°æ®ä¼šæŒç»­å¢é•¿ï¼Œå•æ¬¡çš„æŸ¥è¯¢é‡è¦å›ºå®šæˆ–è€…æ§åˆ¶åœ¨ä¸€ä¸ªé˜ˆå€¼ä¹‹å†…ï¼Œé‡å¤§çš„æ—¶å€™å¤šæ¬¡å»æŸ¥è¯¢ æ’å…¥æ•°æ®ï¼Œæ•°æ®åº“æ•°æ®å¯è§‚å¯Ÿï¼Œé¿å…å‡ºç°å¤§äº‹åŠ¡æäº¤çš„æƒ…å†µ å°½å¯èƒ½ä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†ï¼Œä»¥æé«˜æ€§èƒ½ ä¸šåŠ¡ç†è§£ å……åˆ†ç†è§£éœ€æ±‚ï¼Œèƒ½å¤Ÿè¯´æ¸…æ¥šéœ€æ±‚ä¸­æ¯é¡¹æ•°æ®çš„æ¥æºå’Œæµå‘ï¼ŒåŒæ—¶ä¹Ÿèƒ½å‘åˆ«äººè®²è¿°æ¸…æ¥šï¼Œåå¤åŒäº§å“ç¡®è®¤ æ¸…æ¥šå—ä¼—ï¼ŒåŠŸèƒ½æä¾›ç»™è°ï¼Œåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ å¯¹å…¶ä»–æ¨¡å—/ç³»ç»Ÿæ˜¯å¦å­˜åœ¨å½±å“ ç°æœ‰è¡¨ç»“æ„æœ‰æ— ä¿®æ”¹å­—æ®µåç§°ã€ç±»å‹ã€é•¿åº¦ç­‰ ç°æœ‰è¡¨æ˜¯å¦æœ‰åˆ é™¤/æ·»åŠ å­—æ®µ å¦‚æœæ˜¯æ–°å»ºè¡¨ï¼Œè¡¨ä¸­æ•°æ®æ˜¯å¦è¦ä¸å…¶ä»–ç°æœ‰è¡¨æ•°æ®åŒæ­¥å˜åŠ¨ æ•°æ®åº“ä¸­æ•°æ®çš„æ¥æºæ˜¯å¦æœ‰å¤šå¤„ï¼Œå…¶ä»–æ¨¡å—/ç³»ç»Ÿéœ€è¦å¢åŠ æ’å…¥åˆ°æ–°åº“çš„ä»£ç  æ–°å»ºè¡¨ä¸­æ•°æ®å¢åŠ ï¼Œæ˜¯å¦éœ€è¦å¾€å…¶ä»–è¡¨ä¸­æ’å…¥æ•°æ® ä¿æŒè´¨ç–‘ï¼Œå¦‚æœè§‰å¾—æŸä¸ªåšæ³•æœ‰ä¸åˆç†ï¼ŒåŠæ—¶æå‡º ç¼–ç  ä½¿ç”¨åˆé€‚çš„æ•°æ®ç±»å‹ï¼Œ Entity ä¸­ä¸ä½¿ç”¨åŸºæœ¬ç±»å‹ å¯¹æ•°æ®æ‰€æœ‰çš„æ¥æºéƒ½è®¤ä¸ºä¸å¯é ï¼Œéœ€è¦åšåˆ¤æ–­ ä»£ç è¦åšå¥å£®æ€§åˆ¤æ–­ï¼Œå®å¯å¤šå†™ if (xxx != null) å­—ç¬¦ä¸²è€ƒè™‘ç©ºæ ¼çš„é—®é¢˜ï¼Œè¦å»é™¤å‰åç©ºæ ¼ åˆ¤æ–­çš„é€»è¾‘ï¼Œæµ‹è¯•æ—¶ï¼Œè¦æŠŠ true ä¸ false éƒ½è¦†ç›–åˆ°ï¼Œä¸èƒ½åªæµ‹å•ä¸ªå¯èƒ½ è¾¹ç•Œå€¼ï¼Œåœ¨åšé™¤æ³•æ“ä½œæ—¶ï¼Œé™¤æ•°ä¸èƒ½ä¸º 0ï¼Œä¹˜æ³•æ—¶ä¹Ÿè¦è€ƒè™‘ * 0 çš„æƒ…å†µ æœ‰æµ®ç‚¹æ•°(å°æ•°)æ—¶ï¼Œè¦è€ƒè™‘åˆ°ç²¾åº¦é—®é¢˜ï¼Œä»¥åŠå–èˆæ–¹å¼ã€‚ åœ¨ 2021-10-11 æ— æ„ä¸­å†ç¿»åˆ°çš„ï¼Œå‘ç°ä¹‹å‰è®°çš„ä¸€äº›ä¸œè¥¿ç°åœ¨åšå¾—ä¹Ÿå¹¶ä¸æ˜¯é‚£ä¹ˆå¥½ã€‚","categories":[{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"https://withoutcause.github.io/categories/%E5%BF%83%E5%BE%97/"}],"tags":[{"name":"ç»éªŒ","slug":"ç»éªŒ","permalink":"https://withoutcause.github.io/tags/%E7%BB%8F%E9%AA%8C/"},{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"https://withoutcause.github.io/tags/%E5%BF%83%E5%BE%97/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~07ä¹‹Redux","slug":"è‡ªå­¦Reactç³»åˆ—-07ä¹‹Redux","date":"2021-09-30T09:24:35.000Z","updated":"2021-09-30T09:24:35.000Z","comments":true,"path":"2021/09/30/è‡ªå­¦Reactç³»åˆ—-07ä¹‹Redux/","link":"","permalink":"https://withoutcause.github.io/2021/09/30/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-07%E4%B9%8BRedux/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"è‡ªå­¦Reactç³»åˆ—~06ä¹‹è·¯ç”±","slug":"è‡ªå­¦Reactç³»åˆ—-06ä¹‹è·¯ç”±","date":"2021-09-18T16:06:02.000Z","updated":"2021-09-18T16:06:02.000Z","comments":true,"path":"2021/09/19/è‡ªå­¦Reactç³»åˆ—-06ä¹‹è·¯ç”±/","link":"","permalink":"https://withoutcause.github.io/2021/09/19/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-06%E4%B9%8B%E8%B7%AF%E7%94%B1/","excerpt":"è·¯ç”±ç®€ä»‹React ä¸­çš„è·¯ç”±å¯ä»¥ç†è§£ä¸ºï¼šæ ¹æ®æµè§ˆå™¨ä¸­çš„ URL åŒ¹é…å¯¹åº”çš„èµ„æºã€‚éœ€è¦ç”¨åˆ°è·¯ç”±æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯å¯¼èˆªï¼Œæ ¹æ®ä¸åŒçš„ url å±•ç¤ºä¸åŒçš„é¡µé¢ã€‚ åœ¨ React ä¸­ï¼Œè·¯ç”±éœ€è¦ä½¿ç”¨åˆ°ä¸¤ä¸ªç»„ä»¶ Router å’Œ Route ï¼Œå…¶ä¸­ä¸€ä¸ª Route åŒ…å«å¤šä¸ª Router ç»„ä»¶ ã€‚ç»“æ„å¦‚ä¸‹ï¼š","text":"è·¯ç”±ç®€ä»‹React ä¸­çš„è·¯ç”±å¯ä»¥ç†è§£ä¸ºï¼šæ ¹æ®æµè§ˆå™¨ä¸­çš„ URL åŒ¹é…å¯¹åº”çš„èµ„æºã€‚éœ€è¦ç”¨åˆ°è·¯ç”±æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯å¯¼èˆªï¼Œæ ¹æ®ä¸åŒçš„ url å±•ç¤ºä¸åŒçš„é¡µé¢ã€‚ åœ¨ React ä¸­ï¼Œè·¯ç”±éœ€è¦ä½¿ç”¨åˆ°ä¸¤ä¸ªç»„ä»¶ Router å’Œ Route ï¼Œå…¶ä¸­ä¸€ä¸ª Route åŒ…å«å¤šä¸ª Router ç»„ä»¶ ã€‚ç»“æ„å¦‚ä¸‹ï¼š 1234&lt;Router&gt; &lt;Route path=&quot;/&quot; component=&#123;APP&#125;/&gt; &lt;Route path=&quot;/index&quot; component=&#123;Index&#125; /&gt;&lt;/Router&gt; path: æŒ‡å®šåŒ¹é…çš„è·¯å¾„ã€‚component: æŒ‡å®šæ¸²æŸ“çš„ç»„ä»¶ã€‚å®‰è£…ç»„ä»¶: npm install react-router-dom RouterBrowserRouterBrowserRotuer ï¼šä» url åœ°å€æ ä¸­è§‚å¯Ÿï¼Œæ˜¯ url ä¼šæ”¹ç€ä¸€èµ·å˜åŒ–çš„ã€‚ä¾‹å¦‚ï¼š https://shijieling.top/page/1 -&gt; https://shijieling.top/page/2 å‚æ•°å˜åŒ–ä¼šåœ¨åŸŸååé¢çš„ url å˜åŒ–ã€‚ HashRouterHashRouter: url åœ°å€æ ä¸­è§‚å¯Ÿ ï¼Œå‰é¢çš„åŸŸåéƒ¨åˆ†ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè€Œåœ¨åœ¨åé¢æ·»åŠ ä¸€ä¸ª # å·ï¼Œç„¶åå†æ˜¯è·¯å¾„ä¿¡æ¯ https://shijieling.top/#/page/1 -&gt; https://shijieling.top/#/page/2 Linkå’ŒNavLinkLinkNavLink","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~05ä¹‹axios","slug":"è‡ªå­¦Reactç³»åˆ—-05ä¹‹axios","date":"2021-09-16T14:39:09.000Z","updated":"2021-09-16T14:39:09.000Z","comments":true,"path":"2021/09/16/è‡ªå­¦Reactç³»åˆ—-05ä¹‹axios/","link":"","permalink":"https://withoutcause.github.io/2021/09/16/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-05%E4%B9%8Baxios/","excerpt":"axiosç®€ä»‹axios æ˜¯ä¸€ä¸ª JavaSctipt çš„ http å®¢æˆ·ç«¯è¯·æ±‚å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ Node.js ã€‚axios æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å‘æµè§ˆå™¨å‘é€å¼‚æ­¥è¯·æ±‚(ajaxè¯·æ±‚)ã€‚ æ”¯æŒ Promise APIã€‚ å¯ä»¥å¯¹è¯·æ±‚(request) å’Œ å“åº”(response)è¿›è¡Œæ‹¦æˆªã€‚ å¯ä»¥å°†è¯·æ±‚æ•°æ®(request data) å’Œå“åº”æ•°æ®(response data)è¿›è¡Œè½¬æ¢ã€‚ æ”¯æŒå–æ¶ˆè¯·æ±‚ã€‚ è‡ªåŠ¨è½¬æ¢ä¸º JSON æ•°æ®ã€‚ æ”¯æŒå¤šç§æµè§ˆå™¨ï¼šChromeã€FireFoxã€Safariã€MicroSoft Edgeã€IE11(åŸºæœ¬æ²¡äººä½¿ç”¨)","text":"axiosç®€ä»‹axios æ˜¯ä¸€ä¸ª JavaSctipt çš„ http å®¢æˆ·ç«¯è¯·æ±‚å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ Node.js ã€‚axios æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å‘æµè§ˆå™¨å‘é€å¼‚æ­¥è¯·æ±‚(ajaxè¯·æ±‚)ã€‚ æ”¯æŒ Promise APIã€‚ å¯ä»¥å¯¹è¯·æ±‚(request) å’Œ å“åº”(response)è¿›è¡Œæ‹¦æˆªã€‚ å¯ä»¥å°†è¯·æ±‚æ•°æ®(request data) å’Œå“åº”æ•°æ®(response data)è¿›è¡Œè½¬æ¢ã€‚ æ”¯æŒå–æ¶ˆè¯·æ±‚ã€‚ è‡ªåŠ¨è½¬æ¢ä¸º JSON æ•°æ®ã€‚ æ”¯æŒå¤šç§æµè§ˆå™¨ï¼šChromeã€FireFoxã€Safariã€MicroSoft Edgeã€IE11(åŸºæœ¬æ²¡äººä½¿ç”¨) å‘é€GETè¯·æ±‚12345678910111213let url = &#x27;http://localhost:8080/test/test&#x27;;axios.get(url) .then(function (response) &#123; // å¤„ç†æˆåŠŸæƒ…å†µ console.log(response);&#125;) .catch(function (error) &#123; // å¤„ç†é”™è¯¯æƒ…å†µ console.log(error);&#125;) .then(function () &#123; // æ€»æ˜¯ä¼šæ‰§è¡Œ&#125;); å‘é€POSTè¯·æ±‚123456789101112131415let url = &#x27;http://localhost:8080/test/test&#x27;;axios.post(url, &#123; // è¿™é‡Œæ˜¯å‚æ•°&#125;) .then(function (response) &#123; // å¤„ç†æˆåŠŸæƒ…å†µ console.log(response);&#125;) .catch(function (error) &#123; // å¤„ç†é”™è¯¯æƒ…å†µ console.log(error);&#125;) .then(function () &#123; // æ€»æ˜¯ä¼šæ‰§è¡Œ&#125;); çœ‹èµ·æ¥åªæ˜¯ç®€å•çš„å°† get æ›¿æ¢æˆ post å³å¯ã€‚ axiosæ”¯æŒçš„è¯·æ±‚æ–¹å¼ axios.request(config) axios.get(url[, config]) axios.post(url[, data[, config]]) axios.delete(url[, config]) axios.head(url[, config]) axios.options(url[, config]) axios.put(url[, data[, config]]) axios.patch(url[, data[, config]]) åˆ›å»ºaxioså®ä¾‹12345const instance = axios.create(&#123; baseURL: &#x27;https://some-domain.com/api/&#x27;, timeout: 1000, headers: &#123;&#x27;X-Custom-Header&#x27;: &#x27;foobar&#x27;&#125;&#125;); æ”¯æŒçš„é…ç½®å‚æ•°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161&#123; // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL url: &#x27;/user&#x27;, // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³• method: &#x27;get&#x27;, // é»˜è®¤å€¼ï¼Œè¿˜å¯ä»¥å†™ psotï¼Œputï¼Œdelete ç­‰ // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚ // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL baseURL: &#x27;https://some-domain.com/api/&#x27;, // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ® // å®ƒåªèƒ½ç”¨ä¸ &#x27;PUT&#x27;, &#x27;POST&#x27; å’Œ &#x27;PATCH&#x27; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³• // æ•°ç»„ä¸­æœ€åä¸€ä¸ªå‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ ä¸€ä¸ªBufferå®ä¾‹ï¼ŒArrayBufferï¼ŒFormDataï¼Œæˆ– Stream // ä½ å¯ä»¥ä¿®æ”¹è¯·æ±‚å¤´ã€‚ transformRequest: [function (data, headers) &#123; // å¯¹å‘é€çš„ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; &#125;], // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ® transformResponse: [function (data) &#123; // å¯¹æ¥æ”¶çš„ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç† return data; &#125;], // è‡ªå®šä¹‰è¯·æ±‚å¤´ headers: &#123;&#x27;X-Requested-With&#x27;: &#x27;XMLHttpRequest&#x27;&#125;, // `params` æ˜¯ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•° // å¿…é¡»æ˜¯ä¸€ä¸ªç®€å•å¯¹è±¡æˆ– URLSearchParams å¯¹è±¡ params: &#123; ID: 12345 &#125;, // `paramsSerializer`æ˜¯å¯é€‰æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåºåˆ—åŒ–`params` // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/) paramsSerializer: function (params) &#123; return Qs.stringify(params, &#123;arrayFormat: &#x27;brackets&#x27;&#125;) &#125;, // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ® // ä»…é€‚ç”¨ &#x27;PUT&#x27;, &#x27;POST&#x27;, &#x27;DELETE å’Œ &#x27;PATCH&#x27; è¯·æ±‚æ–¹æ³• // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œåˆ™å¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€: // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams // - æµè§ˆå™¨ä¸“å±: FormData, File, Blob // - Node ä¸“å±: Stream, Buffer data: &#123; firstName: &#x27;Fred&#x27; &#125;, // å‘é€è¯·æ±‚ä½“æ•°æ®çš„å¯é€‰è¯­æ³• // è¯·æ±‚æ–¹å¼ post // åªæœ‰ value ä¼šè¢«å‘é€ï¼Œkey åˆ™ä¸ä¼š data: &#x27;Country=Brasil&amp;City=Belo Horizonte&#x27;, // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚ // å¦‚æœè¯·æ±‚æ—¶é—´è¶…è¿‡ `timeout` çš„å€¼ï¼Œåˆ™è¯·æ±‚ä¼šè¢«ä¸­æ–­ timeout: 1000, // é»˜è®¤å€¼æ˜¯ `0` (æ°¸ä¸è¶…æ—¶) // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯ withCredentials: false, // default // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œè¿™ä½¿æµ‹è¯•æ›´åŠ å®¹æ˜“ã€‚ // è¿”å›ä¸€ä¸ª promise å¹¶æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” ï¼ˆå‚è§ lib/adapters/README.mdï¼‰ã€‚ adapter: function (config) &#123; /* ... */ &#125;, // `auth` HTTP Basic Auth auth: &#123; username: &#x27;janedoe&#x27;, password: &#x27;s00pers3cret&#x27; &#125;, // `responseType` è¡¨ç¤ºæµè§ˆå™¨å°†è¦å“åº”çš„æ•°æ®ç±»å‹ // é€‰é¡¹åŒ…æ‹¬: &#x27;arraybuffer&#x27;, &#x27;document&#x27;, &#x27;json&#x27;, &#x27;text&#x27;, &#x27;stream&#x27; // æµè§ˆå™¨ä¸“å±ï¼š&#x27;blob&#x27; responseType: &#x27;json&#x27;, // é»˜è®¤å€¼ // `responseEncoding` è¡¨ç¤ºç”¨äºè§£ç å“åº”çš„ç¼–ç  (Node.js ä¸“å±) // æ³¨æ„ï¼šå¿½ç•¥ `responseType` çš„å€¼ä¸º &#x27;stream&#x27;ï¼Œæˆ–è€…æ˜¯å®¢æˆ·ç«¯è¯·æ±‚ // Note: Ignored for `responseType` of &#x27;stream&#x27; or client-side requests responseEncoding: &#x27;utf8&#x27;, // é»˜è®¤å€¼ // `xsrfCookieName` æ˜¯ xsrf token çš„å€¼ï¼Œè¢«ç”¨ä½œ cookie çš„åç§° xsrfCookieName: &#x27;XSRF-TOKEN&#x27;, // é»˜è®¤å€¼ // `xsrfHeaderName` æ˜¯å¸¦æœ‰ xsrf token å€¼çš„http è¯·æ±‚å¤´åç§° xsrfHeaderName: &#x27;X-XSRF-TOKEN&#x27;, // é»˜è®¤å€¼ // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶ // æµè§ˆå™¨ä¸“å± onUploadProgress: function (progressEvent) &#123; // å¤„ç†åŸç”Ÿè¿›åº¦äº‹ä»¶ &#125;, // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶ // æµè§ˆå™¨ä¸“å± onDownloadProgress: function (progressEvent) &#123; // å¤„ç†åŸç”Ÿè¿›åº¦äº‹ä»¶ &#125;, // `maxContentLength` å®šä¹‰äº†node.jsä¸­å…è®¸çš„HTTPå“åº”å†…å®¹çš„æœ€å¤§å­—èŠ‚æ•° maxContentLength: 2000, // `maxBodyLength`ï¼ˆä»…Nodeï¼‰å®šä¹‰å…è®¸çš„httpè¯·æ±‚å†…å®¹çš„æœ€å¤§å­—èŠ‚æ•° maxBodyLength: 2000, // `validateStatus` å®šä¹‰äº†å¯¹äºç»™å®šçš„ HTTPçŠ¶æ€ç æ˜¯ resolve è¿˜æ˜¯ reject promiseã€‚ // å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œ // åˆ™promise å°†ä¼š resolvedï¼Œå¦åˆ™æ˜¯ rejectedã€‚ validateStatus: function (status) &#123; return status &gt;= 200 &amp;&amp; status &lt; 300; // é»˜è®¤å€¼ &#125;, // `maxRedirects` å®šä¹‰äº†åœ¨node.jsä¸­è¦éµå¾ªçš„æœ€å¤§é‡å®šå‘æ•°ã€‚ // å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä¸ä¼šè¿›è¡Œé‡å®šå‘ maxRedirects: 5, // é»˜è®¤å€¼ // `socketPath` å®šä¹‰äº†åœ¨node.jsä¸­ä½¿ç”¨çš„UNIXå¥—æ¥å­—ã€‚ // e.g. &#x27;/var/run/docker.sock&#x27; å‘é€è¯·æ±‚åˆ° docker å®ˆæŠ¤è¿›ç¨‹ã€‚ // åªèƒ½æŒ‡å®š `socketPath` æˆ– `proxy` ã€‚ // è‹¥éƒ½æŒ‡å®šï¼Œè¿™ä½¿ç”¨ `socketPath` ã€‚ socketPath: null, // default // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http // and https requests, respectively, in node.js. This allows options to be added like // `keepAlive` that are not enabled by default. httpAgent: new http.Agent(&#123; keepAlive: true &#125;), httpsAgent: new https.Agent(&#123; keepAlive: true &#125;), // `proxy` å®šä¹‰äº†ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåï¼Œç«¯å£å’Œåè®®ã€‚ // æ‚¨å¯ä»¥ä½¿ç”¨å¸¸è§„çš„`http_proxy` å’Œ `https_proxy` ç¯å¢ƒå˜é‡ã€‚ // ä½¿ç”¨ `false` å¯ä»¥ç¦ç”¨ä»£ç†åŠŸèƒ½ï¼ŒåŒæ—¶ç¯å¢ƒå˜é‡ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚ // `auth`è¡¨ç¤ºåº”ä½¿ç”¨HTTP Basic authè¿æ¥åˆ°ä»£ç†ï¼Œå¹¶ä¸”æä¾›å‡­æ®ã€‚ // è¿™å°†è®¾ç½®ä¸€ä¸ª `Proxy-Authorization` è¯·æ±‚å¤´ï¼Œå®ƒä¼šè¦†ç›– `headers` ä¸­å·²å­˜åœ¨çš„è‡ªå®šä¹‰ `Proxy-Authorization` è¯·æ±‚å¤´ã€‚ // å¦‚æœä»£ç†æœåŠ¡å™¨ä½¿ç”¨ HTTPSï¼Œåˆ™å¿…é¡»è®¾ç½® protocol ä¸º`https` proxy: &#123; protocol: &#x27;https&#x27;, host: &#x27;127.0.0.1&#x27;, port: 9000, auth: &#123; username: &#x27;mikeymike&#x27;, password: &#x27;rapunz3l&#x27; &#125; &#125;, // see https://axios-http.com/zh/docs/cancellation cancelToken: new CancelToken(function (cancel) &#123; &#125;), // `decompress` indicates whether or not the response body should be decompressed // automatically. If set to `true` will also remove the &#x27;content-encoding&#x27; header // from the responses objects of all decompressed responses // - Node only (XHR cannot turn off decompression) decompress: true // é»˜è®¤å€¼&#125; å“åº”å†…å®¹1234567891011121314151617181920212223&#123; // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº” data: &#123;&#125;, // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç  status: 200, // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯ statusText: &#x27;OK&#x27;, // `headers` æ˜¯æœåŠ¡å™¨å“åº”å¤´ // æ‰€æœ‰çš„ header åç§°éƒ½æ˜¯å°å†™ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¯­æ³•è®¿é—® // ä¾‹å¦‚: `response.headers[&#x27;content-type&#x27;]` headers: &#123;&#125;, // `config` æ˜¯ `axios` è¯·æ±‚çš„é…ç½®ä¿¡æ¯ config: &#123;&#125;, // `request` æ˜¯ç”Ÿæˆæ­¤å“åº”çš„è¯·æ±‚ // åœ¨node.jsä¸­å®ƒæ˜¯æœ€åä¸€ä¸ªClientRequestå®ä¾‹ (in redirects)ï¼Œ // åœ¨æµè§ˆå™¨ä¸­åˆ™æ˜¯ XMLHttpRequest å®ä¾‹ request: &#123;&#125;&#125; å¦‚æœæ˜¯ä»åç«¯å–å“åº”æ•°æ®åº”è¯¥æ˜¯ response.data é‡Œé¢çš„å†…å®¹ã€‚ è®¾ç½®å…¨å±€å‚æ•°1234axios.defaults.baseURL = &#x27;https://api.example.com&#x27;;axios.defaults.headers.common[&#x27;Authorization&#x27;] = AUTH_TOKEN;axios.defaults.headers.post[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencoded&#x27;;// xxx ä½¿ç”¨ axios.defaults.xxx è¿›è¡Œè®¾ç½®å³å¯ã€‚ é…ç½®å°†ä¼šæŒ‰ä¼˜å…ˆçº§è¿›è¡Œåˆå¹¶ã€‚å®ƒçš„é¡ºåºæ˜¯ï¼šåœ¨ lib/defaults.js ä¸­æ‰¾åˆ°çš„åº“é»˜è®¤å€¼ï¼Œç„¶åæ˜¯å®ä¾‹çš„ defaults å±æ€§ï¼Œæœ€åæ˜¯è¯·æ±‚çš„ config å‚æ•°ã€‚åé¢çš„ä¼˜å…ˆçº§è¦é«˜äºå‰é¢çš„ã€‚ æ‹¦æˆªå™¨æ‹¦æˆªå™¨åˆ†ä¸º è¯·æ±‚æ‹¦æˆªå™¨ å’Œ å“åº”æ‹¦æˆªå™¨ ä¸¤ç±»ï¼Œåˆ†åˆ«å¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œæ‹¦æˆªã€‚ è¯·æ±‚æ‹¦æˆªå™¨1234567axios.interceptors.request.use(function (config) &#123; // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ return config; &#125;, function (error) &#123; // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ return Promise.reject(error); &#125;); å“åº”æ‹¦æˆªå™¨123456789axios.interceptors.response.use(function (response) &#123; // 2xx èŒƒå›´å†…çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚ // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ return response; &#125;, function (error) &#123; // è¶…å‡º 2xx èŒƒå›´çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚ // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ return Promise.reject(error); &#125;); ç§»é™¤æ‹¦æˆªå™¨1234// è¿™é‡Œå®šä¹‰æ‹¦æˆªå™¨const myInterceptor = axios.interceptors.request.use(function () &#123;/*...*/&#125;);// è¿™é‡Œå°†ä¸Šé¢çš„æ‹¦æˆªå™¨ç§»é™¤axios.interceptors.request.eject(myInterceptor); å–æ¶ˆè¯·æ±‚123456789101112const CancelToken = axios.CancelToken;let cancel;axios.get(&#x27;/user/12345&#x27;, &#123; cancelToken: new CancelToken(function executor(c) &#123; // executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•° cancel = c; &#125;)&#125;);// å–æ¶ˆè¯·æ±‚cancel(); ä»¥ä¸Šæ˜¯ axios çš„ä¸€äº›åŸºæœ¬ä½¿ç”¨ã€‚","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"},{"name":"Ajax","slug":"Ajax","permalink":"https://withoutcause.github.io/tags/Ajax/"},{"name":"axios","slug":"axios","permalink":"https://withoutcause.github.io/tags/axios/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~04ä¹‹Reactè„šæ‰‹æ¶","slug":"è‡ªå­¦Reactç³»åˆ—-04ä¹‹Reactè„šæ‰‹æ¶","date":"2021-09-13T14:10:52.000Z","updated":"2021-09-13T14:10:52.000Z","comments":true,"path":"2021/09/13/è‡ªå­¦Reactç³»åˆ—-04ä¹‹Reactè„šæ‰‹æ¶/","link":"","permalink":"https://withoutcause.github.io/2021/09/13/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-04%E4%B9%8BReact%E8%84%9A%E6%89%8B%E6%9E%B6/","excerpt":"Reactè„šæ‰‹æ¶å®‰è£…å…¨å±€å®‰è£… create-react-app åŒ… 1sjl@sjldeMacBook-Pro ~ npm install -g create-react-app","text":"Reactè„šæ‰‹æ¶å®‰è£…å…¨å±€å®‰è£… create-react-app åŒ… 1sjl@sjldeMacBook-Pro ~ npm install -g create-react-app åˆ‡æ¢åˆ°è¦åˆ›å»ºå‰ç«¯å·¥ç¨‹çš„ç›®å½•ï¼Œä½¿ç”¨ create-react-app å‘½ä»¤åˆ›å»º react-test å·¥ç¨‹ 12cd /Users/sjl/work/other/react #è¿›å…¥ç›®å½•create-react-app react-test # ä½¿ç”¨ create-react-app åˆ›å»ºå·¥ç¨‹ï¼Œå·¥ç¨‹åç§°ä¸º: react-test Reactè„šæ‰‹æ¶ç›®å½•ç»“æ„ node_moduleså­˜æ”¾ä¸€äº›å®‰è£…çš„ä¾èµ–åŒ… publicå­˜æ”¾ä¸€äº›é™æ€èµ„æº srcæºç æ–‡ä»¶å¤¹ï¼Œåœ¨å¾ˆå¤šå…¶ä»–è¯­è¨€çš„è„šæ‰‹æ¶é‡Œä¹Ÿæœ‰è¿™ç§åç§°ã€‚æ¯”å¦‚ Java çš„ Maven ä¹Ÿæœ‰ src ç›®å½•ã€‚ .gitignoregit çš„å¿½ç•¥é…ç½®(éå¿…é¡»)ï¼Œå¯ä»¥åˆ é™¤ã€‚ package.jsonnodeçš„åŒ…æ–‡ä»¶ã€é¡¹ç›®çš„ç»“æŸ README.mdä¸€èˆ¬å†™ä¸€äº›ç®€ä»‹ï¼Œä»…é˜…è¯»ç”¨ yarn.locké¡¹ç›®ä¾èµ–çš„å®‰è£…åŒ… è¿è¡Œè„šæ‰‹æ¶åœ¨ç»ˆç«¯çª—å£è¿›å…¥å·¥ç¨‹æ‰€åœ¨çš„ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ 1yarn start ç»ˆç«¯è¾“å‡º é¡µé¢å±•ç¤º","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~03ä¹‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ","slug":"è‡ªå­¦Reactç³»åˆ—-03ä¹‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ","date":"2021-09-12T09:56:36.000Z","updated":"2021-09-12T09:56:36.000Z","comments":true,"path":"2021/09/12/è‡ªå­¦Reactç³»åˆ—-03ä¹‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"https://withoutcause.github.io/2021/09/12/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-03%E4%B9%8B%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/","excerpt":"ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸»è¦åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š**æŒ‚è½½é˜¶æ®µ(mount)ã€æ›´æ–°é˜¶æ®µ(update)ã€å¸è½½é˜¶æ®µ(unmount)**ã€‚","text":"ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸»è¦åŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š**æŒ‚è½½é˜¶æ®µ(mount)ã€æ›´æ–°é˜¶æ®µ(update)ã€å¸è½½é˜¶æ®µ(unmount)**ã€‚ æŒ‚è½½é˜¶æ®µåŠæˆªé˜¶æ®µä¸»è¦è°ƒç”¨çš„æ–¹æ³•å¦‚ä¸‹: constructor()ï¼šæ„é€ å‡½æ•°ï¼Œç±»(ç»„ä»¶)åœ¨åˆ›å»ºæ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°ï¼Œä½œç”¨é˜¶æ®µåœ¨ render ä¹‹å‰è°ƒç”¨ã€‚ static getDerivedStateFromProps()ï¼šè¿™ä¸ªæ–¹æ³•åŸºæœ¬ä¸ä½¿ç”¨ã€‚ render()ï¼šç»„ä»¶çš„æ¸²æŸ“ componentDidMount()ï¼šç»„ä»¶æ¸²æŸ“å®Œæˆï¼Œç»„ä»¶ç»„è£…åˆ° DOM ä¸Šä¹‹åè°ƒç”¨è¯¥å‡½æ•°ï¼Œä½œç”¨é˜¶æ®µåœ¨ render ä¹‹åè°ƒç”¨ã€‚ æ›´æ–°é˜¶æ®µ static getDerivedStateFromProps()ï¼šè¿™ä¸ªæ–¹æ³•åŸºæœ¬ä¸ä½¿ç”¨ã€‚ shouldComponentUpdate()ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¿”å›ç»“æœå†³å®šæ˜¯å¦ç»§ç»­æ¸²æŸ“ç»„ä»¶ã€‚ render() ï¼šä¸æŒ‚è½½é˜¶æ®µä¸€ï¼Œæ¸²æŸ“ç»„ä»¶ã€‚ä¸€èˆ¬åœ¨è°ƒç”¨ setState() å‡½æ•°æ—¶ä¼šè§¦å‘ç•Œé¢çš„é‡æ–°æ¸²æŸ“ã€‚ getSnapshotBeforeUpdate()ï¼šåœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ã€‚å®ƒä½¿å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» DOM ä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œæ»šåŠ¨ä½ç½®ï¼‰ï¼Œè¯¥å‡½æ•°ç”¨å¾—æå°‘ã€‚ componentDiaUpdate()ï¼šå½“ç»„ä»¶æ›´æ–°åè°ƒç”¨è¯¥å‡½æ•°ã€‚æ³¨æ„:é¦–æ¬¡æ¸²æŸ“ä¸ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚ å¸è½½é˜¶æ®µ componentWillUnmount()ï¼šåœ¨ç»„ä»¶å¸è½½ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¯¥å‡½æ•°ä¸­ä¸è¦è°ƒç”¨ setState() è¿™ç±»ä¼šè§¦å‘ç»„ä»¶æ¸²æŸ“çš„æ–¹æ³•ï¼Œå› ä¸ºè¯¥ç»„ä»¶æ°¸è¿œä¸ä¼šå†æ¸²æŸ“äº†ã€‚ å¯¹äºæœ‰ç¼–ç¨‹åŸºç¡€çš„äººæ¥è¯´ï¼Œç”Ÿå‘½å‘¨æœŸç†è§£èµ·æ¥å¾ˆç®€å•ã€‚åœ¨æŸä¸ªç‰¹æ®Šé˜¶æ®µåšç‚¹ç‰¹æ®Šçš„äº‹æƒ…ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”Ÿå‘½å‘¨æœŸã€‚","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~02ä¹‹ç±»ç»„ä»¶ä¸‰å¤§å±æ€§","slug":"è‡ªå­¦Reactç³»åˆ—-02ä¹‹ç±»ç»„ä»¶ä¸‰å¤§å±æ€§","date":"2021-09-09T14:23:54.000Z","updated":"2021-09-09T14:23:54.000Z","comments":true,"path":"2021/09/09/è‡ªå­¦Reactç³»åˆ—-02ä¹‹ç±»ç»„ä»¶ä¸‰å¤§å±æ€§/","link":"","permalink":"https://withoutcause.github.io/2021/09/09/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-02%E4%B9%8B%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%89%E5%A4%A7%E5%B1%9E%E6%80%A7/","excerpt":"stateæ¯ä¸ªç±»ç»„ä»¶ä¸Šéƒ½æœ‰ state å±æ€§ï¼Œstateå±æ€§è¡¨ç¤ºå¯¹åº”ç»„ä»¶çš„çŠ¶æ€ã€‚state çš„ä½¿ç”¨å¦‚ä¸‹: 1234567891011121314151617181920class Person extends React.Component &#123; constructor(props)&#123; super(props); this.state = &#123;hide: false&#125; this.modifyName = this.modifyName.bind(this); &#125; render()&#123; /* * 1. onClinck ä¸èƒ½å†™ onclick , React å°è£…è¿‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œä¸æ˜¯ html çš„ç‚¹å‡»äº‹ä»¶ * 2.ä¸èƒ½å†™ modifyName() è¿™ç§å½¢å¼ */ return &lt;h1 onClick=&#123;this.modifyName&#125;&gt;æˆ‘çš„åå­—å«&#123;this.state.hide ? &#x27;å¼ ä¸‰&#x27;: &#x27;***&#x27;&#125;&lt;/h1&gt;; &#125; modifyName()&#123; const hide = this.state.hide; this.setState(&#123;hide: !hide&#125;) &#125;&#125;","text":"stateæ¯ä¸ªç±»ç»„ä»¶ä¸Šéƒ½æœ‰ state å±æ€§ï¼Œstateå±æ€§è¡¨ç¤ºå¯¹åº”ç»„ä»¶çš„çŠ¶æ€ã€‚state çš„ä½¿ç”¨å¦‚ä¸‹: 1234567891011121314151617181920class Person extends React.Component &#123; constructor(props)&#123; super(props); this.state = &#123;hide: false&#125; this.modifyName = this.modifyName.bind(this); &#125; render()&#123; /* * 1. onClinck ä¸èƒ½å†™ onclick , React å°è£…è¿‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œä¸æ˜¯ html çš„ç‚¹å‡»äº‹ä»¶ * 2.ä¸èƒ½å†™ modifyName() è¿™ç§å½¢å¼ */ return &lt;h1 onClick=&#123;this.modifyName&#125;&gt;æˆ‘çš„åå­—å«&#123;this.state.hide ? &#x27;å¼ ä¸‰&#x27;: &#x27;***&#x27;&#125;&lt;/h1&gt;; &#125; modifyName()&#123; const hide = this.state.hide; this.setState(&#123;hide: !hide&#125;) &#125;&#125; ç®€ç•¥çš„å†™æ³• 12345678910111213141516class Person extends React.Component &#123; this.state = &#123;hide: false&#125; render()&#123; /* * 1. onClinck ä¸å†™ onclick , React å°è£…è¿‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œä¸æ˜¯ html çš„ç‚¹å‡»äº‹ä»¶ * 2.ä¸èƒ½å†™ modifyName() è¿™ç§å½¢å¼ */ return &lt;h1 onClick=&#123;this.modifyName&#125;&gt;æˆ‘çš„åå­—å«&#123;this.state.hide ? &#x27;å¼ ä¸‰&#x27;: &#x27;***&#x27;&#125;&lt;/h1&gt;; &#125; modifyName = () =&gt;&#123; const hidd = this.state.hide; // è¿™é‡Œä¸€å®šè¦è°ƒç”¨ this.setState() æ–¹æ³•é‡æ–°è®¾ç½®çŠ¶æ€ï¼Œè€Œä¸èƒ½ä½¿ç”¨ this.state.hide = true çš„å½¢å¼ã€‚ this.setState(&#123;hide: !hide&#125;) &#125;&#125; æ³¨æ„ç‚¹: onClinck ä¸èƒ½å†™ onclick , React å°è£…è¿‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œä¸æ˜¯ html çš„ç‚¹å‡»äº‹ä»¶ã€‚React ä¸­çš„äº‹ä»¶ä¸ html ä¸­çš„ä¸ä¸€æ ·ã€‚ æ³¨å†Œäº‹ä»¶æ—¶ä¸èƒ½å†™ modifyName() è¿™ç§å½¢å¼ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨å‡½æ•°ã€‚ ä¸€å®šè¦è°ƒç”¨ this.setState() æ–¹æ³•é‡æ–°è®¾ç½®çŠ¶æ€ï¼Œè€Œä¸èƒ½ä½¿ç”¨ this.state.hide = true çš„å½¢å¼ã€‚ propsprops ç”¨äºæ¥æ”¶ç»„ä»¶ä¼ é€’çš„å‚æ•°ã€‚ props å±æ€§æ˜¯åªè¯»çš„ã€‚ props å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥å¯¹ç±»å‹è¿›è¡ŒéªŒè¯(éªŒè¯ä¸é€šè¿‡åœ¨æ§åˆ¶å°æœ‰è­¦å‘Šä¿¡æ¯)ã€‚ é€šè¿‡ç»„ä»¶å‚æ•°ä¼ å€¼ï¼Œåœ¨ props ä¸­æ¥æ”¶ç»„ä»¶ä¼ çš„å±æ€§å€¼ 12345678class Demo extends React.Component &#123; render() &#123; console.log(this); return &lt;h2&gt;æˆ‘æ˜¯&#123;this.props.name&#125;&lt;/h2&gt;; &#125;&#125;ReactDOM.render(&lt;Demo name=&#x27;æå››&#x27;&gt;&lt;/Demo&gt;, document.getElementById(&quot;props&quot;)); è®¾ç½®é»˜è®¤å€¼ 123456789101112class Demo extends React.Component &#123; static defaultProps = &#123; name: &#x27;***&#x27; &#125; render() &#123; console.log(this); return &lt;h2&gt;æˆ‘æ˜¯&#123;this.props.name&#125;&lt;/h2&gt;; &#125;&#125;ReactDOM.render(&lt;Demo&gt;&lt;/Demo&gt;, document.getElementById(&quot;props&quot;)); ç±»å‹æ ¡éªŒ æ ¡éªŒéœ€è¦é¢å¤–å¼•å…¥ä¸€ä¸ªåº“ prop-types.js 1234567891011121314151617class Demo extends React.Component &#123; // è®¾ç½®é»˜è®¤å€¼ä¸º *** static defaultProps = &#123; name: &#x27;***&#x27; &#125; // æ ¡éªŒ name çš„ç±»å‹ä¸º Number static propTypes = &#123; name: PropTypes.number &#125; render() &#123; console.log(this); return &lt;h2&gt;æˆ‘æ˜¯&#123;this.props.name&#125;&lt;/h2&gt;; &#125;&#125;ReactDOM.render(&lt;Demo&gt;&lt;/Demo&gt;, document.getElementById(&quot;props&quot;)); åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¼šæœ‰ä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼Œä¸è¿‡æµè§ˆå™¨è¿˜æ˜¯ä¼šå°† *** æ˜¾ç¤ºå‡ºæ¥ 12Warning: Failed prop type: Invalid prop `name` of type `string` supplied to `Demo`, expected `number`. at Demo (&lt;anonymous&gt;:15:9) refsRef è½¬å‘æ˜¯ä¸€é¡¹å°† ref è‡ªåŠ¨åœ°é€šè¿‡ç»„ä»¶ä¼ é€’åˆ°å…¶ä¸€å­ç»„ä»¶çš„æŠ€å·§ã€‚ å­—ç¬¦ä¸²çš„å½¢å¼ å­—ç¬¦ä¸²æ–¹å¼æ˜¯æœ€ç®€å•çš„ä¸€ç§è¯•ï¼Œä½†æ˜¯å®˜æ–¹å·²ç»ä¸æ¨èä½¿ç”¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;ç±»ç»„ä»¶ä¹‹refs&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/babel&quot;&gt; class RefDemo extends React.Component &#123; constructor(props)&#123; super(props); &#125; handleSubmit = (event) =&gt; &#123; event.preventDefault(); alert(this.refs.demo.value) &#125; render() &#123; console.log(this); return ( &lt;div&gt; &lt;form&gt; &lt;input ref=&#x27;demo&#x27; type=&#x27;text&#x27;/&gt; &lt;button onClick=&#123;this.handleSubmit&#125;&gt;æäº¤&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; ); &#125; &#125; ReactDOM.render(&lt;RefDemo/&gt;, document.getElementById(&quot;test&quot;)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; å›è°ƒå‡½æ•°çš„å½¢å¼ 1234567891011121314151617181920212223242526272829303132333435&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;ç±»ç»„ä»¶ä¹‹å›è°ƒå‡½æ•°refs&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/babel&quot;&gt; class RefDemo extends React.Component &#123; handleSubmit = (event) =&gt; &#123; event.preventDefault(); console.log(this); alert(this.element.value) &#125; render() &#123; return ( &lt;div&gt; &lt;form&gt; &lt;input ref=&#123;node =&gt; this.element=node&#125; type=&#x27;text&#x27;/&gt; &lt;button onClick=&#123;this.handleSubmit&#125;&gt;æäº¤&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; ); &#125; &#125; ReactDOM.render(&lt;RefDemo/&gt;, document.getElementById(&quot;test&quot;)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; åˆ›å»ºRefs 123456789101112131415161718192021222324252627282930313233343536373839&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;ç±»ç»„ä»¶ä¹‹åˆ›å»ºrefs&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/babel&quot;&gt; class RefDemo extends React.Component &#123; constructor(props)&#123; super(props) this.currentRef = React.createRef(); &#125; handleSubmit = (event) =&gt; &#123; event.preventDefault(); const element = this.currentRef.current; alert(this.element.value) &#125; render() &#123; return ( &lt;div&gt; &lt;form&gt; &lt;input ref=&#123;node =&gt; this.element=node&#125; type=&#x27;text&#x27;/&gt; &lt;button onClick=&#123;this.handleSubmit&#125;&gt;æäº¤&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; ); &#125; &#125; ReactDOM.render(&lt;RefDemo/&gt;, document.getElementById(&quot;test&quot;)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; éå—æ§ç»„ä»¶è¡¨å•æ•°æ®å°†äº¤ç”± DOM èŠ‚ç‚¹æ¥å¤„ç†ï¼Œé React å¤„ç†ã€‚ å—æ§ç»„ä»¶åœ¨ HTML ä¸­ï¼Œè¡¨å•å…ƒç´ ï¼ˆå¦‚&lt;input&gt;ã€ &lt;textarea&gt; å’Œ &lt;select&gt;ï¼‰ä¹‹ç±»çš„è¡¨å•å…ƒç´ é€šå¸¸è‡ªå·±ç»´æŠ¤ stateï¼Œå¹¶æ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œæ›´æ–°ã€‚è€Œåœ¨ React ä¸­ï¼Œå¯å˜çŠ¶æ€ï¼ˆmutable stateï¼‰é€šå¸¸ä¿å­˜åœ¨ç»„ä»¶çš„ state å±æ€§ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ä½¿ç”¨ setState()æ¥æ›´æ–°ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠä¸¤è€…ç»“åˆèµ·æ¥ï¼Œä½¿ React çš„ state æˆä¸ºâ€œå”¯ä¸€æ•°æ®æºâ€ã€‚æ¸²æŸ“è¡¨å•çš„ React ç»„ä»¶è¿˜æ§åˆ¶ç€ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚è¢« React ä»¥è¿™ç§æ–¹å¼æ§åˆ¶å–å€¼çš„è¡¨å•è¾“å…¥å…ƒç´ å°±å«åšâ€œå—æ§ç»„ä»¶â€ã€‚","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~01ä¹‹ReactåŸºç¡€","slug":"è‡ªå­¦Reactç³»åˆ—-01ä¹‹ReactåŸºç¡€","date":"2021-09-08T14:40:01.000Z","updated":"2021-09-08T14:40:01.000Z","comments":true,"path":"2021/09/08/è‡ªå­¦Reactç³»åˆ—-01ä¹‹ReactåŸºç¡€/","link":"","permalink":"https://withoutcause.github.io/2021/09/08/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-01%E4%B9%8BReact%E5%9F%BA%E7%A1%80/","excerpt":"Reactçš„HelloWorldä½¿ç”¨ä»»ä½•è¯­è¨€éƒ½å…ˆæ¥ä¸€ä¸ª HelloWorld ã€‚ 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/babel&quot;&gt; const VDOM = &lt;h1&gt;Hello React!&lt;/h1&gt;; ReactDOM.render(VDOM, document.getElementById(&quot;test&quot;)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;","text":"Reactçš„HelloWorldä½¿ç”¨ä»»ä½•è¯­è¨€éƒ½å…ˆæ¥ä¸€ä¸ª HelloWorld ã€‚ 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/babel&quot;&gt; const VDOM = &lt;h1&gt;Hello React!&lt;/h1&gt;; ReactDOM.render(VDOM, document.getElementById(&quot;test&quot;)); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; JSXè¯­æ³• å®šä¹‰è™šæ‹Ÿ DOM çš„æ—¶å€™ä¸è¦å†™å¼•å· 1const VDOM = &lt;h1&gt;Hello React!&lt;/h1&gt;; #h1æ ‡ç­¾å‰åéƒ½æ²¡æœ‰å¼•å· æ ‡ç­¾ä¸­æ··å…¥ JS è¡¨è¾¾å¼æ—¶è¦ç”¨ &#123;&#125; 123456789const arr = [&#x27;å¼ ä¸‰&#x27;, &#x27;æå››&#x27;, &#x27;ç‹äºŒ&#x27;];const VDOM = &lt;h4&gt; &lt;ul&gt; &#123;arr.map((key, i) =&gt; &#123; return &lt;li key=&#123;i&#125;&gt;&#123;key&#125;&lt;/li&gt;; # è¿™é‡Œçš„ key ä½¿ç”¨ &#123;&#125; åŒ…èµ·æ¥çš„ &#125;)&#125; &lt;/ul&gt; &lt;/h4&gt;;ReactDOM.render(VDOM, document.getElementById(&quot;test&quot;)); ä½¿ç”¨æ ·å¼æ—¶ï¼Œç±»åä¸è¦ç”¨ class è€Œè¦ç”¨ className 1const VDOM = &lt;h1 className=&#x27;title&#x27;&gt;Hello React!&lt;/h1&gt;; #ä½¿ç”¨å®šä¹‰çš„ .title css æ ·å¼ å†…è”æ ·å¼ï¼Œä½¿ç”¨ style å±æ€§æ—¶è¦ç”¨ &#123;&#123;style: value&#125;&#125;ï¼Œå¦‚æœæœ‰æ ·å¼æ˜¯ background-color è¿™ç§çš„æ”¹å†™æˆå¨å³°å½¢å¼å³ backgroundColor 1const VDOM = &lt;h1 style=&#123;&#123;&#x27;backgroundColor&#x27;: &#x27;pink&#x27;, &#x27;width&#x27;: &#x27;1000px&#x27;, &#x27;height&#x27;: &#x27;100px&#x27;&#125;&#125;&gt;Hello React!&lt;/h1&gt;; åªæœ‰ä¸€ä¸ªé¡¶çº§æ ‡ç­¾(è¦æ ‡ç­¾) 1const VDOM = &lt;h1 className=&#x27;title&#x27;&gt;Hello React!&lt;/h1&gt;; #ä¸èƒ½å†å‡ºç° ä¸ &lt;h1&gt; æ ‡ç­¾å¹³çº§çš„æ ‡ç­¾äº† æ ‡ç­¾å¿…é¡»é—­åˆ 1const VDOM = &lt;h1&gt;; #è¿™ç§å½¢å¼ä¸å¯ä»¥ æ ‡ç­¾é¦–å­—æ¯å°å†™ä¼šè½¬ä¸ºåŒåçš„ html æ ‡ç­¾ 1const VDOM = &lt;h1&gt;Hello React&lt;/h1&gt;; #ä¼šè½¬æ¢æˆ html çš„ &lt;h1&gt;&lt;/h1&gt; æ ‡ç­¾ æ ‡ç­¾é¦–å­—æ¯å¤§å†™ä»£è¡¨æ˜¯ React çš„ç»„ä»¶ 12345function Demo()&#123; return &lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶&lt;/h1&gt;;&#125;ReactDOM.render(&lt;Demo/&gt;, document.getElementById(&quot;test&quot;)); #&lt;Demo/&gt;æ ‡ç­¾å°±æ˜¯ React çš„ç»„ä»¶ Reactç»„ä»¶å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ React ç»„ä»¶ç§°ä¸ºå‡½æ•°ç»„ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹: 1234function Demo()&#123; return &lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶&lt;/h1&gt;;&#125;ReactDOM.render(&lt;Demo&gt;&lt;/Demo&gt;, document.getElementById(&quot;FunctionComponent&quot;)); ç±»å¼ç»„ä»¶ä½¿ç”¨ç±»å®šä¹‰çš„Reactç»„ä»¶ç§°ä¸ºç±»å¼ç»„ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹: 123456class ClassComponent extends React.Component &#123; render()&#123; return &lt;h1&gt;è¿™æ˜¯ç±»ç»„ä»¶&lt;/h1&gt;; &#125;&#125;ReactDOM.render(&lt;ClassComponent&gt;&lt;/ClassComponent&gt;, document.getElementById(&quot;ClassComponent&quot;));","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦Reactç³»åˆ—~00ä¹‹ç›®å½•","slug":"è‡ªå­¦Reactç³»åˆ—-00ä¹‹ç›®å½•","date":"2021-09-08T14:24:38.000Z","updated":"2021-09-08T14:24:38.000Z","comments":true,"path":"2021/09/08/è‡ªå­¦Reactç³»åˆ—-00ä¹‹ç›®å½•/","link":"","permalink":"https://withoutcause.github.io/2021/09/08/%E8%87%AA%E5%AD%A6React%E7%B3%BB%E5%88%97-00%E4%B9%8B%E7%9B%AE%E5%BD%95/","excerpt":"å‰è¨€æˆ‘ä¸ºä»€ä¹ˆè¦å­¦ Reactä¹‹å‰ä¸€ç›´è®¡åˆ’ç€å’Œæœ‹å‹ä¸€èµ·å¼€å‘ä¸€æ¬¾åŸºäº Netty çš„æ¨é€ç³»ç»Ÿï¼Œå½“æ—¶çš„è®¡åˆ’æ˜¯æ”¯æŒ WebSocket çš„æ¨é€ï¼Œå¾ˆæ— å¥ˆæˆ‘å’Œä»–éƒ½æ˜¯åç«¯ï¼Œè¿™å°±å¯¼è‡´ æ²¡æœ‰äººåšå‰ç«¯çš„å·¥ä½œã€‚æ­¤æ—¶æˆ‘å°±æƒ³ç€ï¼Œè‡ªå·±èƒ½ä¸èƒ½ä¹Ÿå­¦ä¸‹å‰ç«¯ï¼Œè‡ªå·±æ¥å¼€å‘ã€‚","text":"å‰è¨€æˆ‘ä¸ºä»€ä¹ˆè¦å­¦ Reactä¹‹å‰ä¸€ç›´è®¡åˆ’ç€å’Œæœ‹å‹ä¸€èµ·å¼€å‘ä¸€æ¬¾åŸºäº Netty çš„æ¨é€ç³»ç»Ÿï¼Œå½“æ—¶çš„è®¡åˆ’æ˜¯æ”¯æŒ WebSocket çš„æ¨é€ï¼Œå¾ˆæ— å¥ˆæˆ‘å’Œä»–éƒ½æ˜¯åç«¯ï¼Œè¿™å°±å¯¼è‡´ æ²¡æœ‰äººåšå‰ç«¯çš„å·¥ä½œã€‚æ­¤æ—¶æˆ‘å°±æƒ³ç€ï¼Œè‡ªå·±èƒ½ä¸èƒ½ä¹Ÿå­¦ä¸‹å‰ç«¯ï¼Œè‡ªå·±æ¥å¼€å‘ã€‚ åœ¨åˆšåˆšå·¥ä½œçš„æ—¶å€™ï¼Œå…¶å®æ˜¯å‰åç«¯æ··åˆç€å†™çš„ã€‚å‰ç«¯æ˜¯ JSP + JQueryï¼Œåç«¯æ˜¯ Spring + Mybatisã€‚é‚£æ—¶å€™çš„å‰ç«¯éƒ½æ˜¯ Ajax å‘èµ·è¯·æ±‚ï¼Œç°åœ¨å˜åŒ–å¾ˆå¿«å‰ç«¯ä¹Ÿå¼€å§‹è®²ç©¶å·¥ç¨‹åŒ–äº†ã€‚åˆšå…¥è¡Œçš„æ—¶å€™éƒ½èƒ½åšå‰ç«¯çš„å·¥ä½œï¼Œç°åœ¨ä¸èƒ½è’åºŸäº†ã€‚ æœ€è¿‘å’ŒåŒäº‹èŠå¤©ï¼Œæœ‰ä¸€å¥è¯ç›´å‡»å¿ƒçµã€‚åœ¨å…¬å¸å†™ä»£ç ï¼Œå†™å‡ºçš„ä¸šåŠ¡ä»£ç æ˜¯å…¬å¸çš„ã€‚å³ä½¿å…¬å¸ä¸šåŠ¡å‘å±•å¾—å†å¥½ï¼Œä¸ªäººä»˜å‡ºäº†å†å¤šæœ€åè¿˜å‰©ä»€ä¹ˆå‘¢ã€‚å·¥èµ„ï¼Ÿé‚£æ˜¯åº”å¾—çš„éƒ¨åˆ†ã€‚æŠ€æœ¯ï¼Ÿåªæœ‰ä¸šåŠ¡ä»£ç ã€‚ç»éªŒï¼ŸæŠ€æœ¯ç»éªŒè¿˜å¯ä»¥ç”¨å¾—ä¸Šï¼Œå¦‚æœæ˜¯ä¸šåŠ¡ç»éªŒå‘¢ï¼Œæ¯«æ— ç”¨å¤„ã€‚ä»€ä¹ˆæ‰æ˜¯è‡ªå·±çš„ï¼Œæˆ‘æ€è€ƒäº†å¾ˆä¹…ã€‚å¦‚æœè‡ªå·±åˆ©ç”¨ä¼šçš„æŠ€æœ¯ï¼Œåšå‡ºçš„å…·æœ‰ä¸€å®šèƒ½ç”¨æ€§çš„ä½œå“ï¼Œè¿™æ‰æ˜¯è‡ªå·±çš„ã€‚è¿™æ—¶å°±è¦æ±‚ä¸ªäººæ˜¯å…¨æ ˆçš„ï¼Œå…‰åç«¯å¯ä¸è¡Œã€‚ React æˆ‘æ¥äº†ï¼ï¼ï¼ ç›®å½•è‡ªå­¦Reactç³»åˆ—-01ä¹‹ReactåŸºç¡€ è‡ªå­¦Reactç³»åˆ—-02ä¹‹ç±»ç»„ä»¶ä¸‰å¤§å±æ€§ è‡ªå­¦Reactç³»åˆ—-03ä¹‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ è‡ªå­¦Reactç³»åˆ—-04ä¹‹Reactè„šæ‰‹æ¶ è‡ªå­¦Reactç³»åˆ—-05ä¹‹axios è‡ªå­¦Reactç³»åˆ—-06ä¹‹è·¯ç”± â€¦ æ›´æ–°ä¸­â€¦","categories":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~06ä¹‹æ»šåŠ¨æ›´æ–°","slug":"è‡ªå­¦k8sç³»åˆ—-06ä¹‹æ»šåŠ¨æ›´æ–°","date":"2021-09-04T14:46:37.000Z","updated":"2021-09-04T14:46:37.000Z","comments":true,"path":"2021/09/04/è‡ªå­¦k8sç³»åˆ—-06ä¹‹æ»šåŠ¨æ›´æ–°/","link":"","permalink":"https://withoutcause.github.io/2021/09/04/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-06%E4%B9%8B%E6%BB%9A%E5%8A%A8%E6%9B%B4%E6%96%B0/","excerpt":"Podå¥åº·æ£€æŸ¥ä¸æœåŠ¡å¯ç”¨æ€§æ£€æŸ¥Kubenetes å¯¹ Pod çš„å¥åº·æ£€æŸ¥å¯ç”¨ä¸¤ç±»æ¢é’ˆæ¥è¿›è¡Œæ£€æŸ¥: LivenessProbe å’Œ ReadinessProbe ã€‚ LivenessProbe","text":"Podå¥åº·æ£€æŸ¥ä¸æœåŠ¡å¯ç”¨æ€§æ£€æŸ¥Kubenetes å¯¹ Pod çš„å¥åº·æ£€æŸ¥å¯ç”¨ä¸¤ç±»æ¢é’ˆæ¥è¿›è¡Œæ£€æŸ¥: LivenessProbe å’Œ ReadinessProbe ã€‚ LivenessProbeåˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼Œä¸»è¦æ˜¯å¯¹ Running çŠ¶æ€è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœæ£€æµ‹åˆ°ä¸å¥åº·ï¼Œåˆ™å°†è¯¥å®¹å™¨æ€æ‰ç„¶åæ ¹æ®å®¹å™¨çš„é‡å¯ç­–ç•¥åšç›¸åº”çš„å¤„ç†ã€‚å¦‚æœå®¹å™¨æ²¡æœ‰æŒ‡å®š LivenessProbe æ¢é’ˆï¼Œåˆ™ kubelet è®¤ä¸ºè¯¥å®¹å™¨æ°¸è¿œæ˜¯å¥åº·çš„ã€‚ ReadinessProbeReadinessProbe æ¢é’ˆä¸»è¦ç”¨äºåˆ¤æ–­å®¹å™¨æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œå³æ˜¯å¦å¤„äº(ReadyçŠ¶æ€)ã€‚è¾¾åˆ° Ready çŠ¶æ€çš„ Pod æ‰å¯ä»¥æ¥æ”¶è¯·æ±‚ï¼Œå¦‚æœå®¹å™¨ä¸æ˜¯ Ready çŠ¶æ€åˆ™è‡ªåŠ¨å°†è¯¥å®¹å™¨ä» Service çš„ Endpoing åˆ—è¡¨ä¸­éš”ç¦»å‡ºå»ã€‚å½“å®¹å™¨æ¢å¤åˆ° Ready çŠ¶æ€æ—¶ï¼Œå†å°†å®¹å™¨åŠ å…¥åˆ° Endping åˆ—è¡¨ä¸­ã€‚è¿™æ ·å°±èƒ½ä¿è¯å®¹å™¨å¦‚æœæ²¡æœ‰å¤„äº Ready çŠ¶æ€å°±ä¸ä¼šæœ‰æµé‡è¯·æ±‚åˆ°è¯¥ Pod ä¸Šã€‚ æ¢é’ˆå®ç°æ–¹å¼LivenessProbe å’Œ ReadinessProbe éƒ½å¯ä»¥é…ç½®ä»¥ä¸‹ä¸‰ç§å®ç°æ–¹å¼å’Œè‡ªå®šä¹‰æ‰©å±•çš„æ–¹å¼ã€‚ ExecActionåœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœè¯¥å‘½ä»¤è¿”å›ç ä¸º 0 ï¼Œåˆ™æ ‡å¿—ç€è¯¥å®¹å™¨å¥åº·ã€‚ 12345678910111213141516171819202122apiVersion: v1kind: Podmetadata: name: liveness labels: name: livenessspec: containers: - name: liveness image: busybox args: - /bin/sh - -c - echo ok &gt; /tmp/headlth; sleep 10; rm -rf /tmp/health; sleep 600 livenessProbe: exec: command: - cat - /tmp/health initialDelaySeconds: 15 timeoutSeconds: 1 åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ä½äº /tmp ç›®å½•ä¸‹ï¼Œ10 ç§’åå°†æœŸåˆ é™¤ï¼Œç„¶åæ¢é’ˆå»æ£€æµ‹è¯¥æ–‡ä»¶ã€‚è¯¥ Pod ä¼šè¢«åˆ¤æ–­ä¸ºä¸å¥åº·ï¼Œæ‰§è¡Œå¤šæ¬¡é‡å¯ã€‚ 123kubectl get pod livenessNAME READY STATUS RESTARTS AGEliveness 1/1 Running 2 2m30s TCPSocketActioné€šè¿‡å®¹å™¨çš„ IP åœ°å€å’Œç«¯å£å·æ‰§è¡Œ TCP æ£€æŸ¥ï¼Œå¦‚æœèƒ½å¤Ÿå»ºç«‹ TCP é“¾æ¥ï¼Œåˆ™è¡¨æ˜å®¹å™¨å¥åº·ã€‚ 12345678910111213141516171819202122apiVersion: v1kind: Podmetadata: name: goproxy labels: app: goproxyspec: containers: - name: goproxy image: snail007/goproxy ports: - containerPort: 8080 readinessProbe: tcpSocket: port: 8080 initialDelaySeconds: 5 periodSeconds: 10 livenessProbe: tcpSocket: port: 8080 initialDelaySeconds: 15 periodSeconds: 20 é€šè¿‡ RESTARTS å¯ä»¥æŸ¥çœ‹åˆ°é‡å¯çš„æ¬¡æ•° 12345kubectl get podsNAME READY STATUS RESTARTS AGEgoproxy 0/1 CrashLoopBackOff 3 93swebapp-f2ckt 1/1 Running 1 24hwebapp-wsllj 1/1 Running 1 24h HTTPGetActioné€šè¿‡å®¹å™¨çš„ IP åœ°å€ã€ç«¯å£å·åŠè·¯å¾„è°ƒç”¨ HTTP GET æ–¹æ³•ï¼Œå¦‚æœå“åº”ç (HttpStatusCode) å¤§äºç­‰äº 200 ä¸”å°äº 400ï¼Œåˆ™è¡¨æ˜å®¹å™¨å¥åº·ã€‚ 123456789101112131415161718apiVersion: v1kind: Podmetadata: name: nginx labels: app: nginxspec: containers: - name: nginx image: nginx ports: - containerPort: 80 livenessProbe: httpGet: path: /healthz port: 80 initialDelaySeconds: 15 periodSeconds: 20 Podçš„å‡çº§Pod å‡çº§æ—¶ï¼Œä½¿ç”¨ kubectl edit xxx.yaml ï¼Œå°†è‡ªåŠ¨è¿›è¡Œ Pod å‡çº§æ“ä½œã€‚å‡çº§è¿‡ç¨‹å¦‚ä¸‹: å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ ReplicaSet ï¼Œå°†å‰¯æœ¬è®¾ä¸º1. è€çš„ ReplicaSet å‰¯æœ¬ç¼©å‡1. é‡å¤ä»¥ä¸Šè¿‡ç¨‹ å‡çº§ç­–ç•¥ é‡å»º(Recreate): è®¾ç½® spec.strategy.type=Recreate ã€‚åœ¨åˆ›å»º Pod çš„æ—¶å€™ä¼šå…ˆæ€æ‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Pod ï¼Œç„¶ååˆ›å»ºæ–°çš„ Pod æ»šåŠ¨æ›´æ–°(RollingUpdate): è®¾ç½® spec.strategy.type=RollingUpdate ã€‚Deployment ä¼šä»¥æ»šåŠ¨æ›´æ–°çš„æ–¹å¼æ¥é€ä¸ªæ›´æ–° Pod ï¼Œé…åˆå‚æ•° spec.strategy.type.RollingUpdate.maxUnavailabel å’Œ spec.strategy.type.RollingUpdate.maxSurge å¯ä»¥æ§åˆ¶æ»šåŠ¨æ›´æ–°çš„è¿‡ç¨‹ã€‚ Podçš„å›æ»šPodçš„æ‰©ç¼©å®¹Pod çš„æ‰©ç¼©å®¹å…¶å®å°±æ˜¯ç»´æŒ Pod çš„æ•°é‡ï¼Œå½“ Pod æ•°é‡å¢åŠ æ˜¯å°±æ˜¯æ‰©å®¹,å½“ Pod æ•°é‡å‡å°‘æ—¶å°±æ˜¯ç¼©å®¹ã€‚æ‰©ç¼©å®¹æœ‰æ‰‹åŠ¨å’Œè‡ªåŠ¨ä¸¤ç§æ–¹å¼ã€‚ æ‰‹åŠ¨æ‰©ç¼©å®¹ï¼šæ‰‹åŠ¨çš„å»è°ƒæ•´ pod çš„æ•°é‡ã€‚é€šè¿‡ --replicas æŒ‡å®š Pod çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥åœ¨ yaml æ–‡ä»¶ä¸­è°ƒæ•´ spec.replicas çš„å€¼ è‡ªåŠ¨æ‰©ç¼©å®¹ï¼šä½¿ç”¨è€…æŒ‡å®šä¸€äº›æŒ‡æ ‡å¹¶æŒ‡å®š Pod æ•°é‡çš„èŒƒå›´ï¼Œç³»ç»Ÿå°†åœ¨è¿™ä¸ªèŒƒå›´å†…è‡ªåŠ¨è°ƒæ•´ Pod çš„æ•°é‡ã€‚ æ‰‹åŠ¨æ‰©ç¼©å®¹ å‘½ä»¤æ–¹å¼ 1kubectl scale deployment pod_name -- replicas podNumber #é€šè¿‡æŒ‡å®š --replicase æ¥æŒ‡å®š pod æ•°é‡å®Œæˆæ‰©ç¼©å®¹ yaml æ–¹å¼ 1234567891011121314151617181920212223apiVersion: apps/v1kind: Deploymentmetadata: name: scalespec: replicas: 3 #æŒ‡å®š Pod å‰¯æœ¬æ•° selector: matchLabels: app: scale template: metadata: labels: app: scale spec: containers: - name: scale image: nginx resources: limits: memory: &quot;128Mi&quot; cpu: &quot;500m&quot; ports: - containerPort: 80 è‡ªåŠ¨æ‰©ç¼©å®¹è‡ªåŠ¨æ‰©ç¼©å®¹æŒ‡æ ‡ï¼šPod èµ„æºä½¿ç”¨ç‡ã€Pod è‡ªå®šä¹‰æŒ‡æ ‡ã€Object è‡ªå®šä¹‰æŒ‡æ ‡æˆ–å¤–éƒ¨è‡ªå®šä¹‰æŒ‡æ ‡ã€‚ \u0018todo è‡ªåŠ¨æ‰©ç¼©å®¹ç›®å‰æš‚æ—¶æ²¡æœ‰åœºæ™¯ï¼Œä¸æ·±å…¥ç ”ç©¶ã€‚ å†™åœ¨æœ€åè‡ªå­¦ k8s ç³»åˆ—ï¼Œåˆ°è¿™é‡Œæˆ‘å‡†å¤‡æš‚æ—¶å‘Šä¸€æ®µè½äº†ï¼Œç­‰è¿‡ä¸‰ä¸ªæœˆåå†å›æ¥å¤ä¹ å¤ä¹  k8s çš„å†…å®¹ã€‚2021-08-24å¼€å§‹å­¦ä¹  k8s åˆ°ä»Šå¤© 2021-09-07 ä¹Ÿæœ‰ 15 å¤©æ—¶é—´ï¼Œæ—¶é—´ä¹Ÿä¸ç®—é•¿ã€‚å½“æ—¶å­¦ä¹  k8s æ˜¯å› ä¸ºç°åœ¨ k8s å®åœ¨å¤ªç«äº†ï¼Œå„ç§å¤§ä¼šå„è·¯å¤§ç‰›å‡ ä¹éƒ½åœ¨æ k8s ï¼Œè¿™ä¹ˆç«çš„ä¸œè¥¿æˆ‘æƒ³è¦äº†è§£å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆ(åº”ç”¨å±‚é¢^_^)ã€‚k8s çš„åŸºæœ¬æ¦‚å¿µå’Œä¸€äº›ç®€å•æ“ä½œä¹Ÿç®—æ˜¯å…¥é—¨äº†ï¼Œåœ¨å½“å‰çš„å·¥ä½œä¸­ä¹Ÿæ²¡æœ‰è¿™æ–¹é¢çš„åº”ç”¨åœºæ™¯ï¼Œæ‰€ä»¥æ‰“ç®—æš‚åœäº†ï¼ŒåŒæ—¶ä¸ºäº†é¿å…è‡ªå·±å­¦è¿‡çš„ä¸œè¥¿é—å¿˜ä¹Ÿå®šä¸‹äº† 3 ä¸ªæœˆåå†å›æ¥å¤ä¹ çš„ç›®æ ‡ã€‚ 2021-12-07 å¼€å§‹å›æ¥å¤ä¹  k8s çš„å†…å®¹ã€‚","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~05ä¹‹Service","slug":"è‡ªå­¦k8sç³»åˆ—-05ä¹‹Service","date":"2021-09-01T14:54:59.000Z","updated":"2021-09-01T14:54:59.000Z","comments":true,"path":"2021/09/01/è‡ªå­¦k8sç³»åˆ—-05ä¹‹Service/","link":"","permalink":"https://withoutcause.github.io/2021/09/01/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-05%E4%B9%8BService/","excerpt":"Serviceä½œç”¨ Service é€šè¿‡ label å°† Pod èšåˆèµ·æ¥ã€‚ ä¸ºè¿™ä¸€ç»„ Pod æä¾›ç»Ÿä¸€çš„è®¿é—®å…¥å£(IPå’ŒåŸŸå)ã€‚ å°†è®¿é—®çš„è¯·æ±‚è´Ÿè½½åˆ° Pod ä¸Šã€‚ Pod æ˜¯å®¹å™¨çš„è½½ä½“æœ¬èº«æ˜¯ä¸ç¨³å®šçš„ï¼Œä½†æ˜¯ Service æ˜¯ç¨³å®šçš„ã€‚","text":"Serviceä½œç”¨ Service é€šè¿‡ label å°† Pod èšåˆèµ·æ¥ã€‚ ä¸ºè¿™ä¸€ç»„ Pod æä¾›ç»Ÿä¸€çš„è®¿é—®å…¥å£(IPå’ŒåŸŸå)ã€‚ å°†è®¿é—®çš„è¯·æ±‚è´Ÿè½½åˆ° Pod ä¸Šã€‚ Pod æ˜¯å®¹å™¨çš„è½½ä½“æœ¬èº«æ˜¯ä¸ç¨³å®šçš„ï¼Œä½†æ˜¯ Service æ˜¯ç¨³å®šçš„ã€‚ Serviceå®šä¹‰12345678910111213141516171819202122232425 apiVersion: v1 # Required kind: Service # Required metadata: # Required name: string # Required namespace: string # Required labels: - name: string annotations: - name: stringspec: # Required selector: [] # Required type: string # Required clusterIP: string sessionAffinity: string ports: - name: string protocol: string port: int targetPort: int nodePort: int status: loadBalancer: ingress: ip: string hostname: string Serviceçš„åŸºæœ¬ä½¿ç”¨12345678910apiVersion: v1kind: Servicemetadata: name: webappspec: selector: app: webapp ports: - port: 8081 targetPort: 8081 kind æŒ‡å®š Service ï¼Œ selector é€‰æ‹©æŒ‡å®šçš„ label ï¼Œä¼šå°† label åŒ…å« app:web çš„æ‰€æœ‰ Pod éƒ½åŠ åˆ°è¿™ä¸ª Service ä¸­æ¥ã€‚ 1kubectl apply -f ./service_create.yaml Serviceçš„è®¿é—® IP: Service æ‹¥æœ‰è‡ªå·±çš„ IP å¯ä»¥ä½¿ç”¨è¯¥ IP è¿›è¡Œè®¿é—®ï¼Œè®¿é—®è¿›æ¥åä¼šå°†è¯·æ±‚è´Ÿè½½åˆ°æŸä¸€ä¸ª Pod ä¸Šã€‚ DNS: Service ä¹Ÿå¯ä»¥é€šè¿‡åŸŸåè¿›è¡Œè®¿é—®ã€‚DNS éœ€è¦éƒ¨ç½² core-dns æˆ–å…¶ä»– DNS ç»„ä»¶ï¼Œåé¢ä¸“é—¨ç ”ç©¶ã€‚ Serviceè´Ÿè½½ç­–ç•¥ RoundRobin: è½®è¯¢æ¨¡å¼ï¼Œå³æ¯ä¸€æ¬¡è¯·æ±‚éƒ½æŒ‰æ¬¡åºåˆ†å‘åˆ°æ¯ä¸€ä¸ª Pod ä¸Šã€‚ SessionAffinity: ä¼šè¯äº²å’Œæ¨¡å¼ï¼Œå³åŸºäºå®¢æˆ·ç«¯ IP è¿›è¡Œä¼šè¯ä¿æŒï¼Œç¬¬ä¸€æ¬¡å°†è¯·æ±‚åˆ†å‘åˆ°å“ªä¸€ä¸ª Pod ä¹‹åçš„è¯·æ±‚å…¨éƒ½åˆ†å‘åˆ°è¯¥ Pod ä¸Šã€‚ Serviceå¤šç«¯å£ åŒåè®®ï¼šéœ€è¦æŒ‡å®šåç§° 1234567891011121314apiVersion: v1kind: Servicemetadata: name: webappspec: selector: app: webapp ports: - port: 8081 #ç¬¬ä¸€ä¸ªç«¯å£ targetPort: 8081 name: web - port: 8002 #ç¬¬äºŒä¸ªç«¯å£ targetPort: 8002 name: manager ä¸åŒåè®® 1234567891011121314apiVersion: v1kind: Servicemetadata: name: webappspec: selector: app: webapp ports: - name: dns port: 53 portocol: UDP #æŒ‡å®š UDP åè®® - name: dns-tcp port: 53 portocol: TCP #æŒ‡å®š TCP åè®® å¤–éƒ¨æœåŠ¡Serviceåœºæ™¯ï¼šéœ€è¦å°†æ•°æ®åº“æˆ–å…¶ä»– namespace ä¸­çš„æœåŠ¡åšä¸ºåç«¯æœåŠ¡ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ label selector çš„ Serviceã€‚ç„¶åå†æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå’Œ Service åŒåçš„ Endpoints ã€‚ Service 12345678apiVersion: v1kind: Servicemetadata: name: webappspec: ports: - port: 8081 targetPort: 8081 EndPoint 123456789apiVersion: v1kind: Servicemetadata: name: webappsubsets: - address: - IP: 1.2.3.4 ports: - port: 8081 é›†ç¾¤å¤–è®¿é—®ServicePod å’Œ Service éƒ½æ˜¯ k8s ä¸­çš„æ¦‚å¿µï¼Œå¯¹äºå¤–éƒ¨æ¥è¯´éƒ½æ˜¯æ— æ³•æ„ŸçŸ¥çš„ã€‚ä¸ºäº†è®©å®¿ä¸»æœºèƒ½å¤Ÿè®¿é—®è¿™äº›æœåŠ¡ï¼Œå¯ä»¥å°†Pod æˆ– Service çš„ç«¯å£å·æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿé€šè¿‡ç‰©ç†æœºè®¿é—®å®¹å™¨å†…çš„åº”ç”¨ã€‚ å°†Podçš„ç«¯å£å·æ˜ å°„åˆ°å®¿ä¸»æœºç«¯å£æ˜ å°„ åˆ›å»º nginx çš„ Pod 12345678910111213apiVersion: v1kind: Podmetadata: name: nginx #æŒ‡å®š Podåç§° labels: name: nginxspec: containers: - name: nginx image: nginx ports: - containerPort: 80 hostPort: 81 1kubectl apply -f ./pod_mapping.yaml æŸ¥çœ‹ Pod çŠ¶æ€ 1234kubectl get pod nginxNAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATESwebapp 1/1 Running 0 61m 172.17.0.7 minikube &lt;none&gt; &lt;none&gt; å¦‚æœçœ‹ STATUS çŠ¶æ€ä¸æ˜¯ Running çš„è¯ï¼Œè¯´æ˜è¯¥ Pod æœªå¯åŠ¨æˆåŠŸ ç™»å½• Node è®¿é—®è¯¥ç«¯å£ 123minikube sshcurl 127.0.0.1:81 #å‰é¢æŒ‡å®šäº†æ˜ å°„ç«¯å£æ˜¯ 81curl 192.168.49.2:81 # Node çš„ IP åœ°å€æ˜¯ 192.168.49.2ï¼Œä½¿ç”¨è¿™ä¸ª IP åœ°å€ä¸ä¸Šé¢æ•ˆæœç›¸åŒ ä½¿ç”¨ kubectl get node -o wide å¯ä»¥æŸ¥çœ‹ Node çš„ IP åœ°å€ åœ¨æŸ¥çœ‹ Pod çš„æ—¥å¿— 1234567891011121314151617181920212223242526kubectl logs -f nginx/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d//docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh/docker-entrypoint.sh: Configuration complete; ready for start up2021/09/05 13:40:57 [notice] 1#1: using the &quot;epoll&quot; event method2021/09/05 13:40:57 [notice] 1#1: nginx/1.21.12021/09/05 13:40:57 [notice] 1#1: built by gcc 8.3.0 (Debian 8.3.0-6)2021/09/05 13:40:57 [notice] 1#1: OS: Linux 5.10.47-linuxkit2021/09/05 13:40:57 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:10485762021/09/05 13:40:57 [notice] 1#1: start worker processes2021/09/05 13:40:57 [notice] 1#1: start worker process 322021/09/05 13:40:57 [notice] 1#1: start worker process 332021/09/05 13:40:57 [notice] 1#1: start worker process 342021/09/05 13:40:57 [notice] 1#1: start worker process 352021/09/05 13:40:57 [notice] 1#1: start worker process 362021/09/05 13:40:57 [notice] 1#1: start worker process 37172.17.0.1 - - [05/Sep/2021:13:41:36 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.68.0&quot; &quot;-&quot;192.168.49.2 - - [05/Sep/2021:13:46:06 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.68.0&quot; &quot;-&quot; è®¾ç½®hostNetworké€šè¿‡è®¾ç½® hostNetwork=true å°† Pod ä¸­çš„ç«¯å£æš´éœ²å‡ºæ¥ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯æš´éœ²ç«¯å£ï¼Œåªæ˜¯ hostNetwork æ˜¯å°†æ‰€æœ‰ç«¯å£éƒ½æš´éœ²ã€‚ åˆ›å»º Pod 12345678910111213apiVersion: v1kind: Podmetadata: name: nginx labels: name: nginxspec: hostNetwork: true #è®¾ç½®ä¸º true containers: - name: nginx image: nginx ports: - containerPort: 80 1kubectl apply -f ./pod_mapping.yaml åé¢æ“ä½œä¸ä¸Šé¢ä¸€è‡´ï¼Œç™»å½• node è®¿é—®nginxï¼Œé€šè¿‡æŸ¥çœ‹æ—¥å¿—åˆ¤æ–­æ˜¯å¦æœ‰è¯·æ±‚åˆ°ã€‚ å°†Serviceçš„ç«¯å£å·æ˜ å°„åˆ°å®¿ä¸»æœºæ˜ å°„Serviceç«¯å£ åˆ›å»º Service 123456789101112apiVersion: v1kind: Servicemetadata: name: webappspec: selector: app: webapp type: NodePort ports: - port: 80 targetPort: 80 nodePort: 30000 # 1kubectl apply -f ./service_mapping.yaml è®¿é—® nginx 1curl 127.0.0.1:30000 é€šè¿‡æŸ¥çœ‹ nginx Pod çš„æ—¥å¿—åˆ¤æ–­æ˜¯å¦è¯·æ±‚è¿›æ¥ è®¾ç½® LoadBalancerä¾‹å¦‚: é˜¿é‡Œäº‘ SLB DNSæœåŠ¡Kubernetes 1.11 ç‰ˆæœ¬å¼€å§‹ï¼Œ DNS æœåŠ¡ç”± CoreDNS æä¾›ã€‚ Ingress: HTTP 7å±‚è·¯ç”±åœ¨æˆ‘ä»¬éƒ¨ç½²åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¾ˆå¤šæ—¶å€™çš„éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼š https://xxx.xx/api å¸Œæœ›å°†è¯·æ±‚æ‰“åˆ° api çš„ Service ä¸Š; https://xxx.xx/web å¸Œæœ›å°†è¯·æ±‚æ‰“åˆ° web çš„ Service ä¸Šï¼› åŒæ—¶ï¼Œæˆ‘ä»¬çš„ç«¯å£æ˜¯åŒä¸€ä¸ªç«¯å£ã€‚å³æ˜¯é€šè¿‡ uri æ¥åŒºåˆ†ä¸åŒçš„æœåŠ¡ã€‚è¿™ä¸ªåŠŸèƒ½å°±éœ€è¦ä½¿ç”¨åˆ° Ingress æ¥è¿›è¡Œ HTTP å±‚çš„è·¯ç”±è½¬å‘ã€‚","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~04ä¹‹Pod","slug":"è‡ªå­¦k8sç³»åˆ—-04ä¹‹Pod","date":"2021-08-27T16:27:54.000Z","updated":"2021-08-27T16:27:54.000Z","comments":true,"path":"2021/08/28/è‡ªå­¦k8sç³»åˆ—-04ä¹‹Pod/","link":"","permalink":"https://withoutcause.github.io/2021/08/28/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-04%E4%B9%8BPod/","excerpt":"Podæ˜¯ä»€ä¹ˆ Pod æ˜¯ K8s çš„æœ€å°è¿è¡Œå•å…ƒã€‚ æ˜¯æ‰€æœ‰åº”ç”¨çš„è½½ä½“ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨(è¿™é‡Œçš„å®¹å™¨å¯ä»¥ä¸æ˜¯ Docker)ã€‚ Pod å®šä¹‰","text":"Podæ˜¯ä»€ä¹ˆ Pod æ˜¯ K8s çš„æœ€å°è¿è¡Œå•å…ƒã€‚ æ˜¯æ‰€æœ‰åº”ç”¨çš„è½½ä½“ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨(è¿™é‡Œçš„å®¹å™¨å¯ä»¥ä¸æ˜¯ Docker)ã€‚ Pod å®šä¹‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576apiVersion: v1 //éœ€è¦kind: Pod //éœ€è¦metadata: //éœ€è¦ name: string //éœ€è¦ namaspace: string //éœ€è¦ labels: - name: string annotations: - name: stringspec: //éœ€è¦ containers: //éœ€è¦ - name: string //éœ€è¦ image: string //éœ€è¦ imagePullPolice: [Always | Never | IfNotPresent] command: [string] args: [string] workingDir: string volumeMounts: - name: string mountPath: string readOnly: boolean ports: - name: string containerPort: int hostPort: int protocol: string env: - name: string value: stringresources: limits: cpu: string memory: string requests: cpu: string memory: string livenessProbe: exec: command: [string] httpGet: path: string port: int host: string scheme: string httpHeaders: - name: string value: string tcpSocket: port: int initialDelaySeconds: number timeoutSeconds: number periodSeconds: number successThreshold: 0 failureThreshold: 0 securityContext: privileged: falseRestartPolicy: [Always | Never | OnFailure]nodeSelector: objectimagePullSecrets:- name: stringhostNetwork: false volumes: - name: string emptyDir: &#123;&#125; hostPath: path: string secret: secretName: string items: - key: string path: string configMap: name: string items: - key: string path: string Pod çš„åŸºæœ¬æ“ä½œPod ç­‰äº Docker å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸ç­‰äºã€‚Docker è¿è¡Œåœ¨ Pod ä¸­ï¼Œä½†æ˜¯ Pod å¯ä»¥è¿è¡Œçš„ä¸ä»…ä»…æ˜¯ Docker, å…¶ä»–å®¹å™¨ä¹Ÿå¯ä»¥ã€‚æ¯”å¦‚: RKT æˆ–è€… Podman éƒ½å¯ä»¥åœ¨ Pod ä¸­è¿è¡Œã€‚å…¶æ¬¡ï¼ŒPod ä¸­çš„å®¹å™¨ä¹Ÿå¯ä»¥æœ‰å¤šå°‘ã€‚è¿™ä¸€ç‚¹ç±»ä¼¼äº Docker ä¸­çš„å®¹å™¨äº’è”ã€‚ Pod åˆ›å»ºPod çš„ä¸»ç¨‹åºéœ€è¦ä¸€ç›´å¤„äºå‰å°è¿è¡Œçš„çŠ¶æ€ï¼Œå¦åˆ™ Pod å°±ä¼šå°†æœŸé”€æ¯ï¼Œè¿™ä¸€ç‚¹è·Ÿ Docker å¾ˆåƒã€‚ä¾‹å¦‚: æ‰§è¡Œçš„æ˜¯ 1nohup ./start.sh &amp; Pod åœ¨æ‰§è¡Œå®Œè¯¥å‘½ä»¤åï¼Œå°±ä¼šå°† Pod é”€æ¯ã€‚è€Œæˆ‘ä»¬çš„ç›®çš„æ˜¯æœŸæœ›èƒ½å¤Ÿåå°è¿è¡Œï¼Œè¿™å°±è¿èƒŒäº†æˆ‘ä»¬çš„ç›®çš„ã€‚æ­£ç¡®åšæ³• 1./start.sh è¿™æ ·è¯¥åº”ç”¨å°±ä¼šä¸€ç›´å‰å°è¿è¡Œï¼Œ Pod å°±ä¼šä¸€ç›´å­˜åœ¨ã€‚ å‘½ä»¤æ–¹å¼ 12# åˆ›å»º Pod æŒ‡å®š namespace åç§°ä¸º sjlkubectl create pod podName -n sjl yaml æ–¹å¼ 1234567apiVersion: v1kind: Podmetadata: name: podName namespace: sjlspec: image: nginx:1.19.7 Pod çŠ¶æ€æŸ¥çœ‹12345# æŸ¥çœ‹æ‰€æœ‰çš„ podkubectl get pods# æŸ¥çœ‹æŒ‡å®š name çš„ podkubectl get pod podName Pod æ›´æ–°1kubectl replace pod Pod åˆ é™¤1kubectl delete pod podName æŸ¥çœ‹Podè§£æ12# æŸ¥çœ‹æŒ‡å®š name çš„ podkubectl get pod podName Pod æ˜¾ç¤ºçš„å†…å®¹å¦‚ä¸‹ 12NAME READY STATUS RESTARTS AGEnginx-deployment-59f854fb7c-vlkhj 1/1 Running 1 2d23h NAMEPOD çš„åç§°ã€‚ READYæ˜¾ç¤º Pod çš„å®¹å™¨ä¿¡æ¯ï¼Œä»¥ / åˆ†éš”æˆå·¦å³ä¸¤è¾¹ï¼Œå·¦è¾¹æ˜¯å°±ç»ªçš„å®¹å™¨ï¼Œå³è¾¹æ˜¯ Pod åŒ…å«çš„æ€»å®¹å™¨ã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ª Pod ä¸€ä¸ªå®¹å™¨ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¾‹å¤–çš„æƒ…å†µï¼Œä¸€ä¸ª Pod åŒ…å«å¤šä¸ªå®¹å™¨ã€‚ STATUSå½“å‰ Pod çš„çŠ¶æ€ã€‚ RESTARTSPod çš„é‡å¯æ¬¡æ•°ã€‚ AGEPod çš„è¿è¡Œæ—¶é—´ã€‚ Podä¸å®¹å™¨ åœ¨ k8s ä¸­ï¼Œ Pod æ˜¯æœ€å°çš„å•å…ƒä½“ã€‚ Pod ä¸­å¯ä»¥è¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨å¯ä»¥æ˜¯ Docker ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å®¹å™¨ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„è¿˜æ˜¯ Docker å®¹å™¨ã€‚ é•œåƒPod è¢«é«˜åº¦åˆ°æŸä¸€å° Node åï¼Œä¼šä¸‹è½½å¯¹åº”çš„é•œåƒï¼Œé•œåƒç‰ˆæœ¬ç­‰ä¿¡æ¯ç”± image æŒ‡å®šï¼Œå…·ä½“çš„é•œåƒä¸‹è½½ç­–ç•¥ k8s ä¸­çš„é•œåƒä¸‹è½½ç­–ç•¥ç”± imagePullPolice æŒ‡å®šï¼Œä¸‹è½½ç­–ç•¥åŒ…å«ä»¥ä¸‹ä¸‰ç§: 1imagePullPolice: [Always | Never | IfNotPresent] Alwaysæ¯æ¬¡éƒ½ä¸‹è½½æœ€æ–°é•œåƒã€‚ Neveråªä½¿ç”¨æœ¬åœ°é•œåƒï¼Œä¸ä¸‹è½½ã€‚ IfNotPresentå½“æœ¬åœ°æ²¡æœ‰æ—¶ï¼Œæ‰ä¸‹è½½æ–°é•œåƒã€‚ Podå…±äº«Volumeéƒ¨ç½² Pod yaml é…ç½® 12345678910111213141516171819202122apiVersion: v1kind: Podmetadata: name: volume-podspec: containers: - name: tomcat image: tomcat:9.0.0 ports: - containerPort: 8080 volumeMounts: - name: app-logs mountPath: /usr/local/tomcat/logs - name: busybox image: busybox command: [&quot;sh&quot;, &quot;-c&quot;, &quot;tail -f /logs/catalina*.log&quot;] volumeMounts: - name: app-logs mountPath: /logs volumes: - name: app-logs emptyDir: &#123;&#125; 1//todo å®éªŒæœªæˆåŠŸï¼Œ pod æ²¡æœ‰æ­£å¸¸å¯åŠ¨ã€‚ Podçš„é…ç½®ç®¡ç†ConfigMapkubernetes æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„é…ç½®ç®¡ç†æ–¹æ¡ˆâ€”â€”ConfigMap ã€‚ ConfigMap çš„å¸¸ç”¨æ–¹å¼: ç”Ÿæˆä¸ºå®¹å™¨å†…çš„ç¯å¢ƒå˜é‡ã€‚ è®¾ç½®å®¹å™¨çš„å¯åŠ¨å‘½ä»¤å¯åŠ¨å‚æ•°ï¼ˆéœ€è¦è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼‰ã€‚ ä»¥ Volume çš„å½¢å¼æŒ‚è½½ä¸ºå®¹å™¨å†…çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ ConfigMapçš„ä¿å­˜å½¢å¼ key: value vlue å¯ä»¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶ ConfigMapçš„åˆ›å»º123456apiVersion: v1kind: ConfigMapmetadata: name: pod-configmapdata: key: zhangsan æ‰§è¡Œå‘½ä»¤ 1kubectl apply -f ./pod_configmap.yaml æŸ¥çœ‹ConfigMap æŸ¥çœ‹ ConfigMap 1kubectl get configmap å±•ç¤ºå†…å®¹ 123NAME DATA AGEkube-root-ca.crt 1 175dpod-configmap 1 7m54s æŸ¥çœ‹ ConfigMap è¯¦æƒ…ä¿¡æ¯ 1kubectl describe configmap pod-configmap å±•ç¤ºå†…å®¹ 1234567891011Name: pod-configmapNamespace: defaultLabels: &lt;none&gt;Annotations: &lt;none&gt;Data====key:----å¼ ä¸‰Events: &lt;none&gt; åœ¨Podä¸­ä½¿ç”¨ConfigMap ConfigMap 1234567apiVersion: v1kind: ConfigMapmetadata: name: cm-appvarsdata: apploglevel: INFO appdatadir: /var/data Pod 123456789101112131415161718192021apiVersion: v1kind: Podmetadata: name: pod-configmap-applyspec: containers: - name: pod-configmap-apply image: busybox command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;env|grep APP&quot;] #å¯åŠ¨æ—¶æ‰§è¡Œè¯¥å‘½ä»¤ env: - name: APPLOGLEVEL #å®šä¹‰ç¯å¢ƒå˜é‡çš„åç§° valueFrom: configMapKeyRef: name: cm-appvars #ç¯å¢ƒå˜é‡çš„å€¼å–è‡ª cm-appvars key: apploglevel #å–çš„ key ä¸º apploglevel - name: APPDATADIR #å®šä¹‰ APPDATADIR ç¯å¢ƒå˜é‡ valueFrom: configMapKeyRef: name: cm-appvars #ç¯å¢ƒå˜é‡çš„å€¼å–è‡ª cm-appvars key: appdatadir #å–çš„ key ä¸º appdatadir restartPolicy: Never åˆ›å»º ConfigMap å’Œ Pod 1234# åˆ›å»º ConfigMapkubectl apply -f ./pod_configmap.yaml# åˆ›å»º Podkubectl apply -f ./pod_configmap_apply.yaml æŸ¥çœ‹æ—¥å¿— 1234567891011# æŸ¥çœ‹ Podkubectl get podsNAME READY STATUS RESTARTS AGEpod-configmap-apply 0/1 Completed 0 7m32s# æŸ¥çœ‹ Pod åä¸º pod-configmap-apply çš„æ—¥å¿—kubectl logs pod-configmap-applyAPPDATADIR=/var/dataAPPLOGLEVEL=INFO ä½¿ç”¨ envFrom åˆ›å»ºç¯å¢ƒå˜é‡ ä½¿ç”¨ envFrom åˆ›å»º Pod 12345678910111213apiVersion: v1kind: Podmetadata: name: pod-configmap-apply-envfromspec: containers: - name: cm-test image: busybox command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;env&quot;] envFrom: - configMapRef: name: cm-appvars restartPolicy: Never å¯åŠ¨ Pod 1kubectl apply -f ./pod_configmap_apply_envfrom.yaml æŸ¥çœ‹ Pod æ—¥å¿— 123456789101112131415161718kubectl logs pod-configmap-apply-envfrom# åœ¨æ˜¾ç¤ºçš„å†…å®¹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ ConfigMap ä¸­è®¾ç½®çš„ä¸¤ä¸ªå˜é‡ apploglevel å’Œ appdatadir å·²ç»åŠ å…¥è¿›æ¥äº†apploglevel=INFOKUBERNETES_SERVICE_PORT=443KUBERNETES_PORT=tcp://10.96.0.1:443HOSTNAME=pod-configmap-apply-envfromSHLVL=1HOME=/rootKUBERNETES_PORT_443_TCP_ADDR=10.96.0.1PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/binKUBERNETES_PORT_443_TCP_PORT=443KUBERNETES_PORT_443_TCP_PROTO=tcpappdatadir=/var/dataKUBERNETES_SERVICE_PORT_HTTPS=443KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443KUBERNETES_SERVICE_HOST=10.96.0.1PWD=/ é€šè¿‡Volumeä½¿ç”¨ConfigMap ConfigMap é…ç½® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546apiVersion: v1kind: ConfigMapmetadata: name: pod-configmap-volumedata: # åœ¨ applicationContextXml æ”¾çš„æ˜¯æ•´ä¸ª xml æ–‡ä»¶çš„é…ç½® applicationContextXml: | &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot; default-autowire=&quot;byName&quot;&gt; &lt;!-- æ³¨æ„ä¸Šé¢çš„default-autowire=&quot;byName&quot;ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå£°æ˜ä¸ä¼šè¢«æ³¨å…¥ --&gt; &lt;description&gt;Spring-databaseé…ç½®&lt;/description&gt; &lt;bean id=&quot;aliyunIntranetStorage&quot; class=&quot;com.olymtech.aliyun.client.oss.AliyunStorageImpl&quot;&gt; &lt;property name=&quot;accessID&quot; value=&quot;$&#123;oss.accessID&#125;&quot;/&gt; &lt;property name=&quot;accessKey&quot; value=&quot;$&#123;oss.accessKey&#125;&quot;/&gt; &lt;property name=&quot;ossEndpoint&quot; value=&quot;$&#123;oss.ossIntranetEndpoint&#125;&quot;/&gt; &lt;property name=&quot;bucketName&quot; value=&quot;$&#123;oss.bucketName&#125;&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;aliyunStorage&quot; class=&quot;com.olymtech.aliyun.client.oss.AliyunStorageImpl&quot;&gt; &lt;property name=&quot;accessID&quot; value=&quot;$&#123;oss.accessID&#125;&quot;/&gt; &lt;property name=&quot;accessKey&quot; value=&quot;$&#123;oss.accessKey&#125;&quot;/&gt; &lt;property name=&quot;ossEndpoint&quot; value=&quot;$&#123;oss.ossEndpoint&#125;&quot;/&gt; &lt;property name=&quot;bucketName&quot; value=&quot;$&#123;oss.bucketName&#125;&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;ediAliyunIntranetStorage&quot; class=&quot;com.olymtech.aliyun.client.oss.AliyunStorageImpl&quot;&gt; &lt;property name=&quot;accessID&quot; value=&quot;$&#123;oss-edi.accessID&#125;&quot;/&gt; &lt;property name=&quot;accessKey&quot; value=&quot;$&#123;oss-edi.accessKey&#125;&quot;/&gt; &lt;property name=&quot;ossEndpoint&quot; value=&quot;$&#123;oss-edi.ossIntranetEndpoint&#125;&quot;/&gt; &lt;property name=&quot;bucketName&quot; value=&quot;$&#123;oss-edi.bucketName&#125;&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;ediAliyunStorage&quot; class=&quot;com.olymtech.aliyun.client.oss.AliyunStorageImpl&quot;&gt; &lt;property name=&quot;accessID&quot; value=&quot;$&#123;oss-edi.accessID&#125;&quot;/&gt; &lt;property name=&quot;accessKey&quot; value=&quot;$&#123;oss-edi.accessKey&#125;&quot;/&gt; &lt;property name=&quot;ossEndpoint&quot; value=&quot;$&#123;oss-edi.ossEndpoint&#125;&quot;/&gt; &lt;property name=&quot;bucketName&quot; value=&quot;$&#123;oss-edi.bucketName&#125;&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt; Pod é…ç½® 1234567891011121314151617181920apiVersion: v1kind: Podmetadata: name: pod-configmap-volume-apply # æŒ‡å®šPodåç§°spec: containers: - name: pod-configmap-volume-apply # å®¹å™¨åç§° image: tomcat #æŒ‡å®šå®¹å™¨é•œåƒ ports: - containerPort: 8080 volumeMounts: #é…ç½®æŒ‚è½½ - name: applicationcontextxml #x mountPath: /configfiles volumes: - name: applicationcontextxml configMap: name: pod-configmap-volume items: - key: applicationContextXml path: applicationContext.xml éªŒè¯ç»“æœ 1234567891011121314151617181920212223242526272829# éƒ¨ç½² ConfigMapkubectl apply -f ./pod_configmap_volume.yaml# éƒ¨ç½² Podkubectl apply -f ./pod_configmap_volume_apply.yaml# æŸ¥çœ‹æ—¥å¿—kubectl get podsNAME READY STATUS RESTARTS AGEpod-configmap-volume-apply 1/1 Running 0 4m49s# å¦‚æœ READY æ˜¯ 0/1 å¤šæ‰§è¡Œå‡ æ¬¡ kubectl get pos, pod è¿˜æ²¡å¯åŠ¨æˆåŠŸ# è¿›å…¥ pod æŸ¥çœ‹ç›®å½•kubectl exec -it pod-configmap-volume-apply -- bash# å‰é¢æ˜¯è¿›å…¥ pod çš„é»˜è®¤ç›®å½•ï¼Œè€Œé…ç½®æŒ‚è½½åœ¨ / ç›®å½•ä¸‹root@pod-configmap-volume-apply:/usr/local/tomcat# ls /bin boot configfiles dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var#å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€ä¸ª configfiles ç›®å½•#è¿›å…¥ configfiles æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ applicationContext.xmlroot@pod-configmap-volume-apply:/usr/local/tomcat# cd /configfiles/root@pod-configmap-volume-apply:/configfiles# lsapplicationContext.xml# å¯ä»¥çœ‹åˆ°ï¼Œå‡ºç°äº† applicationContext.xmlroot@pod-configmap-volume-apply:/configfiles# cat applicationContext.xml# æŸ¥çœ‹ applicationContext.xml çš„å†…å®¹ Podçš„ç”Ÿå‘½å‘¨æœŸå’Œé‡å¯ç­–ç•¥Podçš„ç”Ÿå‘½å‘¨æœŸPod çš„ç”Ÿå‘½å‘¨æœŸè¢«å®šä¹‰ä¸ºå„ç§çŠ¶æ€ï¼Œ Pod çš„çŠ¶æ€æœ‰äº”ç§åˆ†åˆ«æ˜¯ï¼šPending ã€Running ã€Successed ã€Failed ã€Unknown ã€‚ çŠ¶æ€ æè¿° Pending ç­‰å¾…ï¼ŒPod å·²ç»åˆ›å»ºï¼Œä½†æ˜¯Podå†…çš„å®¹å™¨æˆ–è€…é•œåƒè¿˜æ²¡åˆ›å»ºã€‚ Running è¿è¡Œä¸­,Pod å†…æ‰€æœ‰å®¹å™¨å‡å·²åˆ›å»ºï¼Œæ­£åœ¨è¿è¡Œä¸­ã€‚ Successed æ‰§è¡ŒæˆåŠŸï¼Œè¯¥çŠ¶æ€è¡¨ç¤º Pod å·²ç»æ‰§è¡ŒæˆåŠŸå¹¶é€€å‡ºï¼Œä¸”ä¸ä¼šé‡å¯å®¹å™¨ã€‚ Failed æ‰§è¡Œå¤±è´¥ï¼Œè¯¥çŠ¶æ€è¡¨ç¤º Pod å·²ç»é€€å‡ºï¼Œä½†æ˜¯è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨ä¸ºå¤±è´¥çŠ¶æ€ã€‚ Unknown æœªçŸ¥ï¼Œæ— æ³•è·å–åˆ° Pod çš„æ­£ç¡®çŠ¶æ€ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ç½‘ç»œæ•…éšœã€‚ Podçš„é‡å¯ç­–ç•¥Pod çš„é‡å¯ç­–ç•¥åº”ç”¨äº Pod å†…çš„æ‰€æœ‰å®¹å™¨ï¼Œå¹¶ä¸”ä»…åœ¨ Pod æ‰€å¤„çš„ Node ä¸Šç”± kubelet è¿›è¡Œåˆ¤æ–­å’Œé‡å¯æ“ä½œã€‚å½“æŸä¸ªå®¹å™¨å¼‚å¸¸é€€å‡ºæˆ–è€…å¥åº·æ£€æŸ¥å¤±è´¥æ—¶ï¼Œkubelet å°†æ ¹æ® RestartPolicy é…ç½®çš„é‡å¯ç­–ç•¥è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ Pod çš„é‡å¯ç­–ç•¥ä¸»è¦æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯: Always ã€OnFailure ã€Never ã€‚ é…ç½®å€¼ æè¿° Always å½“å®¹å™¨å¤±æ•ˆæ—¶ï¼Œç”± kubelet è‡ªåŠ¨é‡å¯è¯¥å®¹å™¨ã€‚é»˜è®¤å€¼ã€‚ OnFailure å½“å®¹å™¨ç»ˆæ­¢è¿è¡Œï¼Œä¸”é€€å‡ºçŠ¶æ€ç ä¸ä¸º 0 æ—¶ï¼Œ kubelet è‡ªåŠ¨é‡å¯è¯¥å®¹å™¨ã€‚ Never æ— è®ºå¤„äºä½•ç§çŠ¶æ€ï¼Œkubelet éƒ½ä¸ä¼šé‡å¯è¯¥å®¹å™¨ã€‚ 12345678910111213apiVersion: v1kind: Podmetadata: name: pod-configmap-apply-envfromspec: containers: - name: cm-test image: busybox command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;env&quot;] envFrom: - configMapRef: name: cm-appvars restartPolicy: Never #æ‰‹åŠ¨é…ç½®è¯¥ Pod çš„é‡å¯ç­–ç•¥ä¸º Never Pod çš„å¥åº·æ£€æŸ¥ï¼Œæ‰©ç¼©å®¹ï¼Œæ»šåŠ¨æ›´æ–°ä»¥åŠå›æ»šåé¢å†ä¸“é—¨çš„è®°å½•ã€‚","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~03ä¹‹YAML","slug":"è‡ªå­¦k8sç³»åˆ—-03ä¹‹YAML","date":"2021-08-26T11:01:40.000Z","updated":"2021-08-26T11:01:40.000Z","comments":true,"path":"2021/08/26/è‡ªå­¦k8sç³»åˆ—-03ä¹‹YAML/","link":"","permalink":"https://withoutcause.github.io/2021/08/26/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-03%E4%B9%8BYAML/","excerpt":"YAMLæ˜¯ä»€ä¹ˆåŸºæœ¬è¯­æ³• å¤§å°å†™æ•æ„Ÿã€‚ ä½¿ç”¨ç¼©è¿›æ¥è¡¨ç¤ºå±‚çº§å…³ç³»ã€‚ ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯ tabã€‚ ç¼©è¿›çš„ç©ºæ ¼æ•°è¦å¯¹é½ï¼Œç›¸åŒå±‚çº§è¦å¯¹é½ã€‚ # è¡¨ç¤ºæ³¨é‡Šã€‚å¯¹æ¯” JSON æ— æ³•å†™æ³¨é‡Šè¿™ä¸€ç‚¹ï¼Œå¼ºå¤ªå¤šã€‚","text":"YAMLæ˜¯ä»€ä¹ˆåŸºæœ¬è¯­æ³• å¤§å°å†™æ•æ„Ÿã€‚ ä½¿ç”¨ç¼©è¿›æ¥è¡¨ç¤ºå±‚çº§å…³ç³»ã€‚ ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯ tabã€‚ ç¼©è¿›çš„ç©ºæ ¼æ•°è¦å¯¹é½ï¼Œç›¸åŒå±‚çº§è¦å¯¹é½ã€‚ # è¡¨ç¤ºæ³¨é‡Šã€‚å¯¹æ¯” JSON æ— æ³•å†™æ³¨é‡Šè¿™ä¸€ç‚¹ï¼Œå¼ºå¤ªå¤šã€‚ æ•°æ®ç±»å‹ å¯¹è±¡ æ•°ç»„ çº¯é‡ å¯¹è±¡ é”®å€¼å¯¹çš„é›†åˆï¼Œå³ Map å¯¹è±¡çš„ä¸€ç»„é”®å€¼å¯¹è¡¨ç¤ºã€‚ 1key: value æ•°ç»„1234key:- value1- value2- value3 æ¯ä¸ª value å’Œæ¨ªæ (-) ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ çº¯é‡ å•ä¸ªï¼Œä¸å¯ä»¥å†åˆ†çš„å€¼ çº¯é‡åŒ…å«ä»¥ä¸‹å€¼: å­—ç¬¦ä¸² å¸ƒå°”å€¼ æ•°å€¼ Null æ—¶é—´ æ—¥æœŸ å­—ç¬¦ä¸²è¡¨ç¤º ç®€å•å­—ç¬¦ä¸²ç¤ºä¾‹ 1name: sjl #æœ€ç®€å•çš„å­—ç¬¦ä¸²ç¤ºä¾‹ ç‰¹æ®Šç¬¦å·å­—ç¬¦ä¸² 1name: &#x27;sjl sjl&#x27; #åŒ…å«ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦æ”¾åœ¨å¼•å·ä¸­ å•å¼•å·å’ŒåŒå¼•å· 12name: &#x27;sjl \\n sjl&#x27;name: &quot;sjl \\n sjl&quot; å•å¼•å·ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦ è¿›è¡Œè½¬ä¹‰ã€‚ä¸Šé¢ç¤ºä¾‹ä¸­çš„ \\n ä¼šè½¬ä¹‰ä¸º \\\\n åœ¨å±•ç¤ºçš„æ—¶å€™ï¼Œè¿˜æ˜¯å­—ç¬¦ä¸²ã€‚åŒå¼•å·ä¸ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ï¼Œä¸Šé¢ç¤ºä¾‹ä¸­çš„ \\n ä¸ä¼šè½¬ä¹‰ï¼Œå­—ç¬¦ä¸²çš„è¡¨ç¤ºè¿˜æ˜¯ä¸º \\n ï¼Œè¿™æ ·åœ¨æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ä¼šè§†ä½œæ¢è¡Œç¬¦ã€‚ å•å¼•å·è½¬ä¹‰ 1name: &#x27;sjl&#x27;&#x27;s&#x27; ä¸Šé¢ç¤ºä¾‹ä¸­çš„ &#39; å•å¼•å·æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦å†æ·»åŠ ä¸€ä¸ªå•å¼•å·å°†å…¶è½¬ä¹‰ã€‚ä¸ Java ä¸­çš„ \\ è½¬ä¹‰ç¬¦å«ä¹‰ç±»ä¼¼ã€‚ å¸ƒå°”å€¼å¸ƒå°”å€¼ç”¨ true å’Œ false æ¥è¡¨ç¤º 12enable: trueenable: false æ•°å€¼1number: 111 nullnull ä½¿ç”¨ ~ æ¥è¡¨ç¤ºã€‚ 1person: ~ æ—¥æœŸæ—¥æœŸé‡‡ç”¨ ISO 8601 è¡¨ç¤ºæ³•ï¼Œä¸€èˆ¬ä¸º yyyy-MM-dd çš„æ ¼å¼ 1date: 2021-08-26 æ—¶é—´æ—¥æœŸå’Œæ—¶é—´ä¹‹é—´ï¼Œä½¿ç”¨ T è¿›è¡Œåˆ†éš” 1datetime: 2021-08-26T22:03:44 å®Œæ•´ç¤ºä¾‹123456789101112131415161718192021apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deployment labels: app: nginxspec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.17.9 ports: - containerPort: 8088 k8sé…ç½®å†…å®¹k8s é…ç½® yaml æ–‡ä»¶ä¸»è¦åŒ…å«ä»¥ä¸‹äº”å—å†…å®¹: apiVersion: å½“å‰é…ç½®æ ¼å¼çš„ç‰ˆæœ¬ kind: è¦åˆ›å»ºèµ„æºçš„ç±»å‹ï¼Œ Deployment ã€Pod ã€Service ã€Namespace ã€ReplicaSet ã€DeanmonSetã€ Job ã€CronJob ç­‰ metadata: å…ƒæ•°æ®, name æ˜¯å¿…é€‰é¡¹ã€‚ spec: æ˜¯å¯¹åº” kind ç±»å‹çš„è¯´æ˜ã€‚ status: æ˜¯èµ„æºå½“å‰çš„çŠ¶æ€ï¼Œkubernetes ä¼šå°½æœ€å¤§åŠªåŠ›ä½¿ spec å’Œ status ç›¸åŒ¹é…ã€‚ YAML å¦‚ä½•åŠ è½½1kubectl apply -f yaml_file_path éƒ¨ç½² nginx çš„ YAML 123456789101112131415161718192021apiVersion: apps/v1kind: Deploymentmetadata: name: nginx labels: app: nginxspec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.19.7 ports: - containerPort: 8088 æ‰§è¡Œ kubectl apply -f deployment.yaml åˆ›å»º Deployment ã€‚ éƒ¨ç½² YAML å‡†å¤‡ YAML æ–‡ä»¶ 1234567891011121314151617181920apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deployment namespace: sjlspec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.19.7 ports: - containerPort: 80 éƒ¨ç½²åˆ° k8s ä¸­ 1kubectl apply -f ./deployment.yaml ç”¨ curl å‘èµ· http è¯·æ±‚ ä¸»è¦æ­¥éª¤ï¼š1. æŸ¥çœ‹éƒ¨ç½²çš„ pod çš„ IP åœ°å€ 12345# æŸ¥çœ‹éƒ¨ç½²çš„ pod çš„ IP åœ°å€kubectl get pods -n sjl -o wide# ä¸‹é¢æ˜¯è¾“å‡ºç»“æœNAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATESnginx-deployment-59f854fb7c-vlkhj 1/1 Running 0 12m 172.17.0.5 minikube &lt;none&gt; &lt;none&gt; å¯ä»¥çœ‹åˆ° IP æ˜¯ 172.17.0.5ï¼Œè¿›å…¥ minikube çš„ ssh ä¸­ï¼Œç„¶åä½¿ç”¨ curl å‘èµ· http è¯·æ±‚ 12345# è¿›è¡Œ minikube çš„ ssh ä¸­minikube ssh# ä½¿ç”¨ curl å‘èµ·è¯·æ±‚curl 172.17.0.5 åœ¨æŸ¥çœ‹ pod çš„ log æ˜¯å¦æœ‰è®°å½• 1234567891011kubectl logs nginx-deployment-59f854fb7c-vlkhj -n sjl# ä¸‹é¢æ˜¯æ‰“å°çš„æ—¥å¿—/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d//docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh/docker-entrypoint.sh: Configuration complete; ready for start up172.17.0.1 - - [27/Aug/2021:16:16:39 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.68.0&quot; &quot;-&quot; å¯ä»¥åœ¨æœ€åä¸€è¡Œçœ‹åˆ°ï¼Œå‘èµ·äº† http è¯·æ±‚ã€‚","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"},{"name":"yaml","slug":"yaml","permalink":"https://withoutcause.github.io/categories/yaml/"}],"tags":[{"name":"yaml","slug":"yaml","permalink":"https://withoutcause.github.io/tags/yaml/"},{"name":"yml","slug":"yml","permalink":"https://withoutcause.github.io/tags/yml/"},{"name":"k8sé…ç½®","slug":"k8sé…ç½®","permalink":"https://withoutcause.github.io/tags/k8s%E9%85%8D%E7%BD%AE/"}]},{"title":"Dockeré—®é¢˜è®°å½•","slug":"Dockeré—®é¢˜è®°å½•","date":"2021-08-25T09:13:01.000Z","updated":"2021-08-25T09:13:01.000Z","comments":true,"path":"2021/08/25/Dockeré—®é¢˜è®°å½•/","link":"","permalink":"https://withoutcause.github.io/2021/08/25/Docker%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/","excerpt":"Docker å®¢æˆ·ç«¯æ— æ³• push åˆ°è¿œç¨‹ä»“åº“ é—®é¢˜ åœ¨ä½¿ç”¨ Docker æœ¬åœ°ä»“åº“æ—¶ï¼Œpush é•œåƒåˆ°ä»“åº“æŠ¥é”™","text":"Docker å®¢æˆ·ç«¯æ— æ³• push åˆ°è¿œç¨‹ä»“åº“ é—®é¢˜ åœ¨ä½¿ç”¨ Docker æœ¬åœ°ä»“åº“æ—¶ï¼Œpush é•œåƒåˆ°ä»“åº“æŠ¥é”™ 1http: server gave HTTP response to HTTPS åŸå›  docker å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯ https åè®®å‘èµ·è¯·æ±‚ï¼Œè€Œä»“åº“ä½¿ç”¨çš„æ˜¯ http åè®®ç»™å‡ºçš„å“åº” è§£å†³æ–¹å¼ åœ¨ /etc/docker/deamon.json æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 1&quot;insecure-registries&quot; : &quot;192.168.3.202:8080&quot; å¦‚æœæ˜¯ mac ç³»ç»Ÿï¼Œåœ¨ docker ,æ“ä½œæ–¹å¼å¦‚ä¸‹ï¼šå³é”®ç‚¹å‡»æ¡Œé¢é¡¶æ çš„ docker å›¾æ ‡ï¼Œé€‰æ‹© Preferences ï¼Œåœ¨ Daemon æ ‡ç­¾ä¸‹çš„ Insecure registries åˆ—è¡¨ä¸­å°†åœ°å€æ·»åŠ åˆ°æ•°ç»„é‡Œã€‚ ä¸ªäººçŒœæµ‹ï¼Œ http æ˜¯ä¸å®‰å…¨çš„è¯·æ±‚ï¼Œé»˜è®¤æ˜¯å‘èµ· https è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦å°†è¯¥åˆ—è¡¨æ·»åŠ è¿›ä¸å®‰å…¨åˆ—è¡¨ä¸­ã€‚","categories":[{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/tags/Docker/"}]},{"title":"Dockerâ€”â€”æ“ä½œç¯‡","slug":"Dockerâ€”â€”æ“ä½œç¯‡","date":"2021-08-25T09:05:22.000Z","updated":"2021-08-25T09:05:22.000Z","comments":true,"path":"2021/08/25/Dockerâ€”â€”æ“ä½œç¯‡/","link":"","permalink":"https://withoutcause.github.io/2021/08/25/Docker%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%AF%87/","excerpt":"ä»¥å‰å­¦ä¹  Docker çš„ç¬”è®°ï¼Œä¸»è¦æ˜¯ä¸€äº› Docker çš„æ“ä½œã€‚ ä½¿ç”¨ Docker é•œåƒDocker è¿è¡Œå®¹å™¨å‰éœ€è¦æœ¬åœ°å­˜åœ¨å¯¹åº”çš„é•œåƒï¼Œå¦‚æœé•œåƒæ²¡ä¿å­˜åœ¨æœ¬åœ°ï¼Œ Docker ä¼šå°è¯•å…ˆä»é»˜è®¤é•œåƒä»“åº“ä¸‹è½½(é»˜è®¤ä½¿ç”¨ Docker Hub å…¬å…±æ³¨å†ŒæœåŠ¡å™¨ä¸­çš„ä»“åº“)ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„é•œåƒä»“åº“ã€‚","text":"ä»¥å‰å­¦ä¹  Docker çš„ç¬”è®°ï¼Œä¸»è¦æ˜¯ä¸€äº› Docker çš„æ“ä½œã€‚ ä½¿ç”¨ Docker é•œåƒDocker è¿è¡Œå®¹å™¨å‰éœ€è¦æœ¬åœ°å­˜åœ¨å¯¹åº”çš„é•œåƒï¼Œå¦‚æœé•œåƒæ²¡ä¿å­˜åœ¨æœ¬åœ°ï¼Œ Docker ä¼šå°è¯•å…ˆä»é»˜è®¤é•œåƒä»“åº“ä¸‹è½½(é»˜è®¤ä½¿ç”¨ Docker Hub å…¬å…±æ³¨å†ŒæœåŠ¡å™¨ä¸­çš„ä»“åº“)ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„é•œåƒä»“åº“ã€‚ è·å–é•œåƒä½¿ç”¨ docker pullå‘½ä»¤ç›´æ¥ä» Docker Hub é•œåƒæºæ¥ä¸‹è½½é•œåƒã€‚å‘½ä»¤æ ¼å¼ 1234docker pull NAME[: TAG]# NAME æ˜¯é•œåƒçš„ä»“åº“åç§°# TAG æ˜¯é•œåƒçš„æ ‡ç­¾# å¯¹äº Docker é•œåƒæ¥è¯´ï¼Œå¦‚æœä¸æ˜¾å¼æŒ‡å®š TAG åˆ™é»˜è®¤ä¼šé€‰æ‹© latest æ ‡ç­¾ï¼Œè¿™ä¼šä¸‹è½½ä»“åº“ä¸­æœ€æ–°ç‰ˆæœ¬çš„é•œåƒã€‚ docker pull å‘½ä»¤ NAME ä¸­è¿˜åº”åŒ…å« registry é»˜è®¤ä¸º docker hubï¼Œå³ registry.hub.docker.com ï¼Œå¦‚æœä»å…¶ä»– registry ä¸­ä¸‹è½½é•œåƒ 1docker pull hub.c.163.com/public/ubuntu:14.04 pull å‘½ä»¤æ”¯æŒçš„é€‰é¡¹ a, â€“all-tags=true|false: æ˜¯å¦è·å–ä»“åº“ä¸­æ‰€æœ‰é•œåƒï¼Œé»˜è®¤ä¸ºå¦ æŸ¥çœ‹é•œåƒä¿¡æ¯ä½¿ç”¨ images å‘½ä»¤åˆ—å‡ºé•œåƒ1docker images ä¸Šé¢å‘½ä»¤å¯ä»¥åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šå·²æœ‰é•œåƒçš„åŸºæœ¬ä¿¡æ¯ 12REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZEhub.c.163.com/public/ubuntu 14.04 f6a575b7c805 2 years ago 237.1 MB REPOSITORY æ¥è‡ªäºå“ªä¸ªä»“åº“ TAG é•œåƒçš„æ ‡ç­¾ä¿¡æ¯ IMAGE ID é•œåƒçš„ ID CREATED åˆ›å»ºæ—¶é—´ï¼Œè¯´æ˜é•œåƒçš„æœ€åæ›´æ–°æ—¶é—´ VIRTUAL SIZE é•œåƒå¤§å° images å­å‘½ä»¤ä¸»è¦æ”¯æŒçš„é€‰é¡¹ -a, â€“all=true|false : åˆ—å‡ºæ‰€æœ‰çš„é•œåƒæ–‡ä»¶ï¼ˆåŒ…æ‹¬ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼Œé»˜è®¤ä¸ºfalse â€“digests=true|false : åˆ—å‡ºé•œåƒçš„æ•°å­—æ‘˜è¦å€¼ï¼Œé»˜è®¤ä¸ºfalse -f, â€“filter=[] : è¿‡æ»¤åˆ—å‡ºçš„é•œåƒï¼Œ â€“format=â€TEMPLATEâ€ : æ§åˆ¶è¾“å‡ºæ ¼å¼ï¼Œå¦‚ ID ä»£è¡¨ ID ä¿¡æ¯ï¼Œ Repository ä»£è¡¨ä»“åº“ä¿¡æ¯ç­‰ â€“no-trunc=true|false : å¯¹è¾“å‡ºç»“æœä¸­å¤ªé•¿çš„éƒ¨åˆ†æ˜¯å¦è¿›è¡Œæˆªæ–­ï¼Œå¦‚é•œåƒçš„ ID ä¿¡æ¯ï¼Œé»˜è®¤ä¸º true -q, â€“quiet=true|false : ä»…è¾“å‡º ID ä¿¡æ¯ï¼Œé»˜è®¤ä¸º false ä½¿ç”¨ tag å‘½ä»¤æ·»åŠ é•œåƒæ ‡ç­¾1docker tag ubuntu:latest mybuntu:latest æ·»åŠ ä¸€ä¸ªæ–°çš„ myubuntu:latest é•œåƒæ ‡ç­¾ ä½¿ç”¨ inspect å‘½ä»¤æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯1docker inspect mybuntu:14.04 è¿”å›çš„æ˜¯ JSON æ ¼å¼çš„é•¿ä¿¡æ¯ï¼Œå¦‚æœåªéœ€è¦å…¶ä¸­ä¸€é¡¹å†…å®¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•° -f æ¥æŒ‡å®šã€‚ 1docker inspect -f &#123;&#123;&quot;.Architecture&quot;&#125;&#125; ä½¿ç”¨ history å‘½ä»¤æŸ¥çœ‹é•œåƒå†å²1docker history centos:7.0 è¿‡é•¿çš„å‘½ä»¤ä¼šè¢«è‡ªåŠ¨æˆªæ–­ï¼Œå¯ä»¥ä½¿ç”¨ --no-trunc é€‰é¡¹è¾“å‡ºå®Œæ•´å‘½ä»¤ 1docker history --no-trunc centos:7.0 æœå¯»é•œåƒä½¿ç”¨ docker search å‘½ä»¤å¯ä»¥æœç´¢è¿œç«¯ä»“åº“ä¸­å…±äº«çš„é•œåƒï¼Œé»˜è®¤æœç´¢å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒã€‚ç”¨æ³•ä¸º docker search TERM ï¼Œæ”¯æŒçš„å‚æ•°ä¸»è¦åŒ…æ‹¬ â€“automated=true|false : ä»…æ˜¾ç¤ºè‡ªåŠ¨åˆ›å»ºçš„é•œåƒï¼Œé»˜è®¤ä¸º false â€“no-trunc=true|false : è¾“å‡ºä¿¡æ¯ä¸æˆªæ–­æ˜¾ç¤ºï¼Œé»˜è®¤ä¸º false -s, â€“stars=X : æŒ‡å®šä»…æ˜¾ç¤ºè¯„ä»·ä¸ºæŒ‡å®šæ˜Ÿçº§ä»¥ä¸Šçš„é•œåƒï¼Œé»˜è®¤ä¸º 0ï¼Œè¾“å‡ºæ‰€æœ‰é•œåƒ åˆ é™¤é•œåƒä½¿ç”¨æ ‡ç­¾åˆ é™¤é•œåƒ1docker rmi myubuntu:latest å½“æŸä¸ªé•œåƒæœ‰å¤šä¸ªæ ‡ç­¾æ—¶ï¼Œåˆ é™¤æŒ‡å®šçš„æ ‡ç­¾ï¼Œè€Œä¸ä¼šåˆ é™¤æ ‡ç­¾æ‰€æŒ‡å‘çš„é•œåƒã€‚ä½†å½“é•œåƒåªæœ‰ä¸€ä¸ªæ ‡ç­¾æ—¶ï¼Œä¼šå°†é•œåƒå½»åº•åˆ é™¤ ä½¿ç”¨é•œåƒ ID åˆ é™¤é•œåƒ1docker rmi IMAGEID å½“æœ‰å®¹å™¨åœ¨è¿è¡Œæ—¶ï¼Œæ— æ³•åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨ -f é€‰é¡¹è¿›è¡Œå¼ºåˆ¶åˆ é™¤ åˆ›å»ºé•œåƒåˆ›å»ºé•œåƒçš„æ–¹å¼æœ‰ä¸‰ç§ï¼š åŸºäºå·²æœ‰é•œåƒçš„å®¹å™¨åˆ›å»º åŸºäºæœ¬åœ°æ¨¡æ¿å¯¼å…¥ åŸºäº Dockerfile åˆ›å»º åŸºäºå·²æœ‰é•œåƒçš„å®¹å™¨åˆ›å»ºå‘½ä»¤æ ¼å¼ï¼š 1docker commit[OPTIONS]CONTAINER[REPOSITORY[: TAG]] ä¸»è¦é€‰é¡¹åŒ…æ‹¬ï¼š -a, â€“author=â€â€: ä½œè€…ä¿¡æ¯ -c, â€“change=[]: æäº¤çš„æ—¶å€™æ‰§è¡Œ Dockerfile æŒ‡ä»¤ -m, â€“message=â€â€ : æäº¤æ¶ˆæ¯ -p, â€“pause=true : æäº¤æ—¶æš‚åœå®¹å™¨è¿è¡Œ 1docker commit -m &quot;new file&quot; -a &quot;sjl&quot; c8ac5a420141 test:1.0 åŸºäºæœ¬åœ°æ¨¡æ¿å¯¼å…¥ç”¨æˆ·å¯ä»¥ç›´æ¥ä»ä¸€ä¸ªæ“ä½œç³»ç»Ÿæ¨¡æ¿æ–‡ä»¶ä¸­å¯¼å…¥ä¸€ä¸ªé•œåƒï¼Œä¸»è¦ä½¿ç”¨ docker import å‘½ä»¤ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸º 1docker import[OPTIONS] file|URL|-[REPOSITORY[:TAG]] æœªæµ‹è¯• å­˜å‡ºå’Œè½½å…¥é•œåƒå­˜å‡ºé•œåƒå¦‚æœè¦å¯¼å‡ºé•œåƒåˆ°æœ¬åœ°æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ docker save å‘½ä»¤ã€‚ 1docker save -o outputpath image æ¼”ç¤ºå‘½ä»¤ 1docker save -0 centos_7.0.tar centos:7.0 è½½å…¥é•œåƒå¯ä»¥ä½¿ç”¨ docker load å‘½ä»¤å°†å¯¼å‡º/å­˜å‡ºçš„é•œåƒå¯¼å…¥åˆ°æœ¬åœ°é•œåƒåº“ 1docker load centos_7.0.tar ä¸Šä¼ é•œåƒä½¿ç”¨ docker push å‘½ä»¤ä¸Šä¼ é•œåƒåˆ°ä»“åº“ï¼Œé»˜è®¤ä¸Šä¼ åˆ° Docker Hub å®˜æ–¹ä»“åº“ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸ºï¼š 1docker push NAME[:TAG]|[REGISTRY_HOST [:REGISTRY_PORT]/]NAME[:TAG] æœªæµ‹è¯•ï¼Œæ³¨å†Œ docker hub æˆ–é˜¿é‡Œäº‘ docker è´¦å·åè¿›è¡Œæµ‹è¯• æ“ä½œ Docker å®¹å™¨å®¹å™¨æ˜¯ docker å¦ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®¹å™¨æ˜¯é•œåƒçš„è¿è¡Œå®æ—¶ã€‚é•œåƒæ˜¯é™æ€åªè¯»æ–‡ä»¶ï¼Œè€Œå®¹å™¨å¸¦æœ‰è¿è¡Œæ—¶éœ€è¦çš„å¯å†™æ–‡ä»¶å±‚ã€‚ åˆ›å»ºå®¹å™¨æ–°å»ºå®¹å™¨æ–°å»ºå®¹å™¨ä½¿ç”¨ docker create å‘½ä»¤ 1docker create -it centos:7.0 ä½¿ç”¨ docker crate å‘½ä»¤æ–°å»ºçš„å®¹å™¨å¤„äºåœæ­¢çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ docker start å‘½ä»¤æ¥å¯åŠ¨å®ƒã€‚ å¯åŠ¨å®¹å™¨ä½¿ç”¨ docker start å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨ 1docker start ID ä½¿ç”¨ docker ps -a æŸ¥çœ‹æ‰€æœ‰é•œåƒ docker ps æŸ¥çœ‹ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ æ–°å»ºå¹¶å¯åŠ¨å®¹å™¨å®¹å™¨å¯åŠ¨æ­¥éª¤ docker create åˆ›å»ºå®¹å™¨ docker start å¯åŠ¨å®¹å™¨ä½¿ç”¨ docker run å‘½ä»¤å°†åˆ›å»ºå®¹å™¨å’Œå¯åŠ¨å®¹å™¨åˆå¹¶æˆä¸€ä¸ªæ­¥éª¤1docker run centos:7.0 /bin/echo &#x27;hello world!&#x27; å½“åˆ©ç”¨ docker run æ¥åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨æ—¶ï¼ŒDocker åœ¨åå°è¿è¡Œæ“ä½œï¼š æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒï¼Œä¸å­˜åœ¨å°±ä»å…¬æœ‰ä»“åº“ä¸‹è½½ åˆ©ç”¨é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œå¹¶å¯åŠ¨è¯¥å®¹å™¨ åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç»™å®¹å™¨ï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚ ä»å®¿ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­ ä»ç½‘æ¡¥çš„åœ°å€æ± é…ç½®ä¸€ä¸ª IP åœ°å€ç»™å®¹å™¨ æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº æ‰§è¡Œå®Œæ¯•åå®¹å™¨è¢«è‡ªåŠ¨ç»ˆæ­¢ ä½¿ç”¨ Ctrl + d æˆ–è¾“å…¥ exit å‘½ä»¤æ¥é€€å‡ºå®¹å™¨ å¸¸è§çš„é”™è¯¯ä»£ç  125 : Docker daemon æ‰§è¡Œå‡ºé”™ï¼Œä¾‹èŒæŒ‡å®šäº†ä¸æ”¯æŒçš„ Docker å‘½ä»¤å‚æ•° 126 : æ‰€æŒ‡å®šå‘½ä»¤æ— æ³•æ‰§è¡Œï¼Œä¾‹å¦‚æƒé™å‡ºé”™ 127 : å®¹å™¨å†…å‘½ä»¤æ— æ³•æ‰¾åˆ° å®ˆæŠ¤æ€è¿è¡Œæ­£å¸¸çš„ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è®© Docker å®¹å™¨åœ¨åå°ä»¥å®ˆæŠ¤æ€(Daemonized)å½¢å¼è¿è¡Œï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡æ·»åŠ  -d å‚æ•°æ¥å®ç° 1docker run -d centos:7.0 è·å–å®¹å™¨çš„è¾“å‡ºä¿¡æ¯1docker logs id ç»ˆæ­¢å®¹å™¨ä½¿ç”¨ docker stop æ¥ç»ˆæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ã€‚è¯¥å‘½ä»¤æ ¼å¼ä¸º docker stop[-t|--time[=10]][CONTAINER...]é¦–å…ˆå‘å®¹å™¨å‘é€ SIGTERM ä¿¡å·ï¼Œç­‰å¾…ä¸€æ®µè¶…æ—¶æ—¶é—´(é»˜è®¤ä¸º 10 ç§’)åï¼Œå†å‘é€ SIGKILL ä¿¡å·æ¥ç»ˆæ­¢ å®¹å™¨ 1docker stop id docker killdocker kill å‘½ä»¤ä¼šç›´æ¥å‘é€ SIGKILL ä¿¡å·æ¥å¼ºè¡Œç»ˆæ­¢å®¹å™¨ã€‚ å½“ Docker å®¹å™¨ä¸­æŒ‡å®šçš„åº”ç”¨ç»ˆç»“æ—¶ï¼Œå®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨ç»ˆæ­¢å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡ docker start å‘½ä»¤æ¥é‡æ–°å¯åŠ¨ é‡å¯å®¹å™¨1docker restart id ä¼šå°†ä¸€ä¸ªè¿è¡ŒçŠ¶æ€çš„å®¹å™¨å…ˆç»ˆæ­¢ï¼Œç„¶åå†é‡å¯ è¿›å…¥å®¹å™¨ä½¿ç”¨ -d å‚æ•°å¯åŠ¨çš„ docker å®¹å™¨ï¼Œæ— æ³•çœ‹åˆ°å®¹å™¨çš„ä¿¡æ¯ï¼Œä¹Ÿæ— æ³•è¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶å¦‚æœéœ€è¦è¿›å…¥å®¹å™¨è¿›è¡Œæ“ä½œï¼Œæœ‰å¤šç§æ–¹æ³•ï¼š attach å‘½ä»¤1docker attach [--detach-keys[=[]]] [--no-stdin] [--sig-proxy[[=true]]CONTAINER æ”¯æŒä¸‰ä¸ªä¸»è¦é€‰é¡¹ â€“detach-keys[=[]] : æŒ‡å®šé€€å‡º attach æ¨¡å¼çš„å¿«æ·é”®åºåˆ—ï¼Œé»˜è®¤æ˜¯ CTRL -P CTRL -Q â€“no-stdin=true|false : æ˜¯å¦å…³é—­æ ‡å‡†è¾“å…¥ï¼Œé»˜è®¤æ˜¯ä¿æŒæ‰“å¼€ -sig-proxy=true|false : æ˜¯å¦ä»£ç†æ”¶åˆ°çš„ç³»ç»Ÿä¿¡å·ç»™åº”ç”¨è¿›ç¨‹ï¼Œé»˜è®¤ä¸º true exec å‘½ä»¤(æ¨è)docker ä» 1.3.0 æä¾›äº†ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿çš„ exec å‘½ä»¤ï¼Œå¯ä»¥åœ¨å®¹å™¨å†…ç›´æ¥æ‰§è¡Œä»»æ„å‘½ä»¤ 1docker exec [-d|--detach][--detach-keys[=[]]][-i|--interactive][--privileged][-t|--tty][-u|--user[=USER]]CONTAINER COMMAND [ARG...] å‚æ•°ï¼š -i, â€“interactive=true|false : æ‰“å¼€æ ‡å‡†è¾“å…¥æ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤ï¼Œé»˜è®¤ä¸º false â€“privileged=true|false : æ˜¯å¦ç»™æ‰§è¡Œå‘½ä»¤ä»¥æœ€é«˜æƒé™ï¼Œé»˜è®¤ä¸º false -t, â€“tty=true|false : åˆ†é…ä¼ªç»ˆç«¯ï¼Œé»˜è®¤ä¸º false u, â€“user=â€â€ : æ‰§è¡Œå‘½ä»¤çš„ç”¨æˆ·åæˆ– ID1docker exec -it id /bin/bash nsenter å·¥å…·é¢å¤–å®‰è£…å·¥å…·åŒ… åˆ é™¤å®¹å™¨ä½¿ç”¨ docker rm å‘½ä»¤æ¥åˆ é™¤å¤„äºç»ˆæ­¢æˆ–é€€å‡ºçŠ¶æ€çš„å®¹å™¨ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸º `docker rm[-f|â€“force][-l|â€“link][-v|â€“volumes]CONTAINER[CONTAINERâ€¦]ä¸»è¦æ”¯æŒçš„é€‰é¡¹ -f, â€“force=false : æ˜¯å¦å¼ºè¡Œç»ˆæ­¢å¹¶åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ -l, â€“link=false : åˆ é™¤å®¹å™¨çš„è¿æ¥ï¼Œä½†ä¿ç•™å®¹å™¨ -v, â€“volumes=false : åˆ é™¤å®¹å™¨æŒ‚è½½çš„æ•°æ®å· å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨å¯¼å‡ºå®¹å™¨å¯¼å‡ºå®¹å™¨æ˜¯æŒ‡å¯¼å‡ºä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ç®¡æ­¤æ—¶è¿™ä¸ªå®¹å™¨æ˜¯å¦ç‰Œè¿è¡ŒçŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ docker export å‘½ä»¤ï¼Œè¯¥å‘½ä»¤çš„æ ¼å¼ä¸º 1docker[-o|--output[=&quot;&quot;]]CONTAINER é€šè¿‡ -o é€‰é¡¹æ¥æŒ‡å®šå¯¼å‡ºçš„ tar æ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡é‡å®šå‘æ¥å®ç° å¯¼å…¥å®¹å™¨å¯¼å‡ºçš„æ–‡ä»¶å¯ä»¥ä½¿ç”¨ docker import å‘½ä»¤å˜æˆé•œåƒï¼Œè¯¥æ–‡ä»¶æ ¼å¼ä¸ºï¼š 1docker import [-c|--change[=[]]][-m|--message[=MESSAGE]]file|URL|-[REPOSITORY[:TAG]] ç”¨æˆ·å¯ä»¥é€šè¿‡ -c, --change=[] é€‰é¡¹åœ¨å¯¼å…¥çš„åŒæ—¶æ‰§è¡Œå®¹å™¨è¿›è¡Œä¿®æ”¹çš„ Dockerfile æŒ‡ä»¤ docker load å’Œ docker import çš„åŒºåˆ«ä¸¤è€…çš„åŒºåˆ«åœ¨äºå®¹å™¨å¿«ç…§æ–‡ä»¶å°†ä¸¢å¼ƒæ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•ï¼Œä½“ç§¯ä¹Ÿæ›´å¤§ã€‚å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶å¯ä»¥é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ä¿¡æ¯ è®¿é—® Docker ä»“åº“ä»“åº“(Repository)æ˜¯é›†ä¸­å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼Œåˆ†å…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚ä»“åº“å­˜æ”¾åœ¨æ³¨å†ŒæœåŠ¡å™¨ä¸Šï¼Œä¸€ä¸ªæ³¨å†ŒæœåŠ¡å™¨å¯ä»¥æœ‰å¤šä¸ªä»“åº“ï¼Œä¸€ä¸ªä»“åº“ä¸‹å¯ä»¥æœ‰å¤šä¸ªé•œåƒ Docker Hub å…¬æœ‰é•œåƒå¸‚åœºç™»å½•é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ docker login å‘½ä»¤æ¥è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±æ¥å®Œæˆæ³¨å†Œå’Œç™»å½•ã€‚æ³¨å†ŒæˆåŠŸåï¼Œæœ¬åœ°ç”¨æˆ·ç›®å½•çš„ .dockercfg ä¸­å°†ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ åŸºæœ¬æ“ä½œç”¨æˆ·æ— éœ€ç™»å½•å³å¯é€šè¿‡ docker search å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼Œå¹¶åˆ©ç”¨ docker pull å‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ° è‡ªåŠ¨åˆ›å»º å¾…æµ‹è¯• æ—¶é€Ÿäº‘é•œåƒå¸‚åœºæŸ¥çœ‹é•œåƒè®¿é—® https://hub.tenxcloud.com , å³å¯çœ‹åˆ°å·²å­˜åœ¨çš„ä»“åº“å’Œå­˜å‚¨çš„é•œåƒ ä¸‹è½½é•œåƒä¸‹è½½é•œåƒä½¿ç”¨ docker pull å‘½ä»¤ï¼Œéœ€è¦åœ¨é•œåƒåç§°å‰æ·»åŠ æ³¨å†ŒæœåŠ¡å™¨çš„å…·ä½“åœ°å€ã€‚æ ¼å¼ä¸ºï¼šindex.tenxcloud.com/&lt;namespace&gt;/&lt;repository&gt;:&lt;tag&gt; æ­å»ºæœ¬åœ°ç§æœ‰ä»“åº“ä½¿ç”¨ registry é•œåƒåˆ›å»ºç§æœ‰ä»“åº“å®‰è£… Docker åï¼Œå¯ä»¥é€šè¿‡å®˜æ–¹æä¾›çš„ registry é•œåƒæ¥ç®€å•æ­å»ºä¸€å¥—æœ¬åœ°ç§æœ‰ä»“åº“ç¯å¢ƒ 1docker run -d -p 50000:50000 registry ç®¡ç†ç§æœ‰ä»“åº“æŸ¥çœ‹ç³»ç»Ÿå·²ç»æœ‰é•œåƒä½¿ç”¨ docker push ä¸Šä¼ æ ‡è®°çš„é•œåƒDocker æ•°æ®ç®¡ç†æ•°æ®å·æ•°æ®å·æœ¬è´¨ä¸Šæ˜¯å°†ä¸€ä¸ª Linux ä¸­çš„ç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œæ•°æ®å·å­˜åœ¨åœ¨ç‰©ç†æœº(å®¿ä¸»æœº)ä¹‹ä¸Šï¼Œä¸ä¼šå› ä¸ºåˆ é™¤å®¹å™¨è€Œä¸¢å¤±æ•°æ®ã€‚ æŒ‚è½½ç›®å½•ä½œä¸ºæ•°æ®å· -v123456# åœ¨ /home/sjl/ ä¸‹åˆ›å»º dataVolume ç›®å½• [root@localhost ~]# mkdir /home/sjl/dataVolume# æ˜ å°„ dataVolume ä¸ºå®¹å™¨ä¸­çš„ home ç›®å½•[root@localhost ~]# docker run -it --name centos -v /home/sjl/dataVolume:/home centos /bin/bash# åœ¨å®¹å™¨ä¸­çš„ /home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨å®¿ä¸»æœºä¸­å³å¯æŸ¥çœ‹åˆ° æ˜ å°„çš„ç›®å½•å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¸å…è®¸æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œ Docker ä¼šè‡ªåŠ¨åˆ›å»º æ•°æ®å·æƒé™åœ¨å¯åŠ¨å®¹å™¨æ—¶ï¼Œé»˜è®¤çš„ç”¨æˆ·æƒé™æ˜¯ rwï¼Œå³å¯è¯»å†™ã€‚å¦‚æœä»…ä»…åªæ˜¯ä¸ºäº†å¯è¯»ï¼Œéœ€è¦æŒ‡å®šä¸º ro 12[root@localhost ~]# docker run -it --name centos -v /home/sjl/dataVolume:/home:ro centos /bin/bash åœ¨æ•°æ®å·ä¸­å¢åŠ é”™è¯¯æç¤ºï¼š touch: cannot touch â€˜b.mdâ€™: Read-only file system -v å‚æ•°ä¹Ÿæ”¯æŒæŒ‚è½½ä¸€ä¸ªæ–‡ä»¶åˆ° docker ä¸­ï¼Œä½†æ˜¯ä¸æ¨èè¿™æ ·åš æ•°æ®å·å®¹å™¨æ•°æ®å·å®¹å™¨ï¼Œå°±æ˜¯å°†ä¸€ä¸ªå®¹å™¨åšä¸ºæ•°æ®å·ï¼Œæä¾›å…¶ä»–å®¹å™¨æŒ‚è½½ã€‚å…¶æ–¹å¼ç±»ä¼¼äºæ•°æ®å·çš„åšæ³•ï¼ŒåŒºåˆ«åœ¨äºä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå®¹å™¨ã€‚ å‘½ä»¤ â€“volumes-fromåˆ›å»ºæ•°æ®å·å®¹å™¨12345[root@localhost ~]# docker -it -v /dataVolumes --name data centos# æ­¤æ—¶ä¼šåœ¨å®¹å™¨ä¸­çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª dataVolumes ç›®å½•[root@localhost ~]# docker -it --volumes-from data --name c1# æ­¤æ—¶åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œä½¿ç”¨æ•°æ®å·å®¹å™¨ data çš„ dataVolume æ˜ å°„ä¸ºæœ¬åœ°çš„ç›®å½• åœ¨å®¹å™¨ä¸­æ“ä½œçš„æ‰€æœ‰ç›®å½•éƒ½å°†ä¼šåœ¨å®¹å™¨å· data ä¸­äº§ç”Ÿï¼Œå³åˆ›å»ºæ–‡ä»¶ï¼Œåˆ é™¤æ–‡ä»¶ç­‰éƒ½åœ¨å¯¹åº”çš„å®¹å™¨å·ä¸­äº§ç”Ÿã€‚ ç«¯å£æ˜ å°„ä¸å®¹å™¨äº’è”ç«¯å£æ˜ å°„ä»å¤–éƒ¨è®¿é—®åˆ° Docker å®¹å™¨ä¸­çš„åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¦‚æœä¸å°†å®¹å™¨ä¸­çš„ç«¯å£å¼€æ”¾å‡ºæ¥ï¼Œå°±ä¸èƒ½è®¿é—®åˆ°å†…éƒ¨åº”ç”¨ï¼Œæƒ³è¦å®ç°è®¿é—®å†…éƒ¨åº”ç”¨çš„åŠŸèƒ½å°±å¿…é¡»è¦å°†ç«¯å£å¼€æ”¾ã€‚ç«¯å£å¼€æ”¾çš„æ–¹æ³•å°±æ˜¯å°†å®¹å™¨ä¸­çš„ç«¯å£æ˜ å°„ä¸ºå®¿ä¸»æœºçš„ç«¯å£ï¼Œé€šè¿‡è®¿é—®å®¿ä¸»æœºçš„ç«¯å£ä»è€Œè®¿é—®å®¹å™¨çš„ç«¯å£ã€‚ ç«¯å£æ˜ å°„å‘½ä»¤-p(å°å†™) -P(å¤§å†™)ï¼Œä¸¤ä¸ªå‚æ•°çš„åŒºåˆ«åœ¨äº -p(å°å†™)éœ€è¦æ‰‹åŠ¨æŒ‡å®šç«¯å£ -P(å¤§å†™)ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šç«¯å£ï¼Œè‡ªåŠ¨éšæœºæ˜ å°„å®¿ä¸»æœºç«¯å£ -p(å°å†™)æ”¯æŒçš„æ ¼å¼æœ‰ï¼š IP:HostPort:ContainerPort : æŒ‡å®š IP çš„æŒ‡å®šç«¯å£æ˜ å°„ IP::ContainerPort : æŒ‡å®š IP çš„éšæœºç«¯å£ HostPort:ContainerPort(å¸¸ç”¨) : æ‰€æœ‰ IP çš„éšæœºç«¯å£ ä½¿ç”¨ -P(å¤§å†™) éšæœºæ˜ å°„ redis çš„ç«¯å£ 1[root@localhost ~]# docker run -it -P --name redis redis ä½¿ç”¨ -p(å°å†™) æ˜ å°„æ‰€æœ‰å®¿ä¸»æœºçš„ IP çš„æŒ‡å®šç«¯å£ 1[root@localhost ~]# docker run -it -p 16379:6379 --name redis redis â€“name ä¸ºå®¹å™¨æŒ‡å®šåç§°ï¼Œå®¹å™¨åç§°ä¸èƒ½ç›¸åŒï¼Œå¦åˆ™ä¸èƒ½åˆ›å»ºå®¹å™¨ã€‚å¦‚æœå®¹å™¨åç§°å·²ç»å­˜åœ¨ï¼Œè¦åˆ é™¤ä¹‹å‰çš„å®¹å™¨æ‰èƒ½åˆ›å»ºã€‚ å®¹å™¨äº’è”å®¹å™¨äº’è”å‘½ä»¤ â€“link å‚æ•°ï¼Œå¯ä»¥è®©å®¹å™¨ä¹‹é—´è¿›è¡Œäº’è”å®¹å™¨äº’è”çš„æ„ä¹‰åœ¨äºï¼Œå¯ä»¥ç›´æ¥å°†å®¹å™¨è¿›è¡Œè¿æ¥ï¼Œè€Œä¸é€šè¿‡å®¿ä¸»æœºï¼Œè¿™æ ·å°±é¿å…äº†ç«¯å£æš´éœ²åœ¨å¤–ã€‚å¸¸ç”¨çš„å°±æ˜¯ï¼Œåœ¨éƒ¨ç½²åº”ç”¨çš„å®¹å™¨ä¸­ï¼Œè¿æ¥æ•°æ®åº“çš„å®¹å™¨ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚12[root@localhost ~]# docker run -d --name db mysql:5.7[root@localhost ~]# docker run -d -P --name web --link db:mysql java ä½¿ç”¨ Dockerfile åˆ›å»ºé•œåƒDockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Dockerfile æ¥å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰çš„é•œåƒã€‚ åŸºæœ¬ç»“æ„Dockerfile åˆ†ä¸ºå››éƒ¨åˆ†ï¼š åŸºç¡€é•œåƒä¿¡æ¯ ç»´æŠ¤è€…ä¿¡æ¯ é•œåƒæ“ä½œæŒ‡ä»¤ å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡ä»¤ æŒ‡ä»¤è¯´æ˜FROMæŒ‡å®šæ‰€åˆ›å»ºé•œåƒçš„åŸºç¡€é•œåƒï¼Œå¦‚æœæœ¬åœ°ä¸å­˜åœ¨ï¼Œåˆ™é»˜è®¤ä¼šå» Docker Hub ä¸‹è½½æŒ‡å®šé•œåƒã€‚æ ¼å¼ä¸º FROM &lt;image&gt; æˆ– FROM&lt;image&gt;:&lt;tag&gt;ï¼Œæˆ– FROM &lt;image&gt;@&lt;digest&gt;ä»»ä½• Dockerfile ä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤å¿…é¡»ä¸º FROM æŒ‡ä»¤ï¼Œå¦‚æœåŒä¸€ä¸ª Dockerfile ä¸­åˆ›å»ºå¤šä¸ªé•œåƒï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ª FROM æŒ‡ä»¤ã€‚ MAINTAINERæŒ‡å®šç»´æŠ¤è€…ä¿¡æ¯ï¼Œæ ¼å¼ä¸º MAINTAINER&lt;name&gt;ï¼Œè¯¥ä¿¡æ¯ä¼šå†™å…¥ç”Ÿæˆé•œåƒçš„ Author å±æ€§åŸŸä¸­ã€‚ RUNè¿è¡ŒæŒ‡ä»¤å‘½ä»¤ã€‚æ ¼å¼ä¸º RUN&lt;command&gt; æˆ– RUN[â€œexecutableâ€, â€œparam1â€, â€œparam2â€]ã€‚æ¯æ¡ RUN æŒ‡ä»¤åœ¨å½“å‰é•œåƒçš„åŸºç¡€ä¸Šæ‰§è¡ŒæŒ‡å®šå‘½ä»¤ï¼Œå¹¶æäº¤ä¸ºæ–°çš„é•œåƒã€‚å½“å‘½ä»¤è¾ƒé•¿æ—¶å¯ä»¥ä½¿ç”¨ \\ æ¥æ¢è¡Œã€‚ CMDCMD æŒ‡ä»¤ç”¨æ¥æŒ‡å®šå¯åŠ¨å®¹å™¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚å®ƒæ”¯æŒä¸‰ç§æ ¼å¼ï¼š CMD[â€œexecutableâ€, â€œparam1â€, â€œparam2â€] ä½¿ç”¨ exec æ‰§è¡Œï¼Œæ˜¯æ¨èçš„æ–¹å¼ CMD command param1 param2 åœ¨ /bin/bash ä¸­æ‰§è¡Œï¼Œæä¾›ç»™éœ€è¦äº¤äº’çš„åº”ç”¨ CMD[â€œparam1â€, â€œparam2â€] æä¾›ç»™ ENTRYPOINT çš„é»˜è®¤å‚æ•°å¦‚æœç”¨æˆ·å¯åŠ¨å®¹å™¨æ—¶æ‰‹åŠ¨æŒ‡å®šäº†è¿è¡Œçš„å‘½ä»¤(ä½œä¸ºrunçš„å‚æ•°)ï¼Œåˆ™ä¼šè¦†ç›–æ‰CMDæŒ‡å®šçš„å‘½ä»¤ã€‚ LABELLABEL æŒ‡ä»¤ç”¨æ¥æŒ‡å®šç”Ÿæˆé•œåƒçš„å…ƒæ•°æ®æ ‡ç­¾ä¿¡æ¯ã€‚æ ¼å¼ä¸º LABEL&lt;key&gt;=&lt;value&gt;â€¦ EXPOSEå£°æ˜é•œåƒå†…æœåŠ¡æ‰€ç›‘å¬çš„ç«¯å£ã€‚æ ¼å¼ä¸º EXPOSE&lt;port&gt;[&lt;port&gt;â€¦]è¯¥æŒ‡ä»¤åªæ˜¯èµ·åˆ°å£°æ˜ä½œç”¨ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨å®Œæˆç«¯å£æ˜ å°„ã€‚ ENVæŒ‡å®šç¯å¢ƒå˜é‡ï¼Œåœ¨é•œåƒç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šè¢«åç»­RUNæŒ‡ä»¤ä½¿ç”¨ï¼Œåœ¨é•œåƒå¯åŠ¨çš„å®¹å™¨ä¸­ä¹Ÿä¼šå­˜åœ¨ã€‚æ ¼å¼ä¸º ENV&lt;key&gt;&lt;value&gt; æˆ– ENV&lt;key&gt;=&lt;value&gt;â€¦æŒ‡ä»¤æŒ‡å®šçš„ç¯å¢ƒå˜é‡åœ¨è¿è¡Œæ—¶å¯ä»¥è¢«è¦†ç›–çš„ã€‚ docker run â€“env&lt;key&gt;=&lt;value&gt; built_image ADDè¯¥å‘½ä»¤å°†å¤åˆ¶æŒ‡å®šçš„&lt;src&gt;è·¯å¾„ä¸‹çš„å†…å®¹åˆ°å®¹å™¨ä¸­çš„&lt;dest&gt;è·¯å¾„ä¸‹ã€‚æ ¼å¼ä¸ºï¼šADD&lt;src&gt;&lt;dest&gt;ï¼Œå…¶ä¸­&lt;src&gt;å¯ä»¥æ˜¯ Dockerfile æ‰€åœ¨ç›®å½•çš„ä¸€ä¸ªç›¸å¯¹è·¯å¾„(æ–‡ä»¶æˆ–ç›®å½•)ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª URLï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ª tar æ–‡ä»¶ã€‚&lt;dest&gt;å¯ä»¥æ˜¯é•œåƒå†…çš„ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹äºå·¥ä½œç›®å½•(WORKDIR)çš„ç›¸å¯¹è·¯å¾„ã€‚è·¯å¾„æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ COPYå¤åˆ¶æœ¬åœ°ä¸»æœºçš„&lt;src&gt;(ä¸º Dockerfile æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€æ–‡ä»¶æˆ–ç›®å½•)ä¸‹çš„å†…å®¹åˆ°é•œåƒä¸­çš„&lt;dest&gt;ä¸‹ã€‚ç›®æ ‡è·¯å¾„ä¸å­˜åœ¨æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºã€‚è·¯å¾„åŒæ ·æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚å½“ä½¿ç”¨æœ¬åœ°ç›®å½•ä¸ºæºç›®å½•æ—¶ï¼Œæ¨èä½¿ç”¨ COPY ENTRYPOINTæŒ‡å®šé•œåƒçš„é»˜è®¤å…¥å‘½ä»¤ï¼Œè¯¥å…¥å£å‘½ä»¤ä¼šåœ¨å¯åŠ¨å®¹å™¨æ—¶ä½œä¸ºæ ¹å‘½ä»¤æ‰§è¡Œï¼Œæ‰€æœ‰ä¼ å…¥å€¼ä½œä¸ºè¯¥å‘½ä»¤çš„å‚æ•°ã€‚æ”¯æŒä¸¤ç§æ ¼å¼ï¼š ENTRYPOINT [â€œexecutableâ€, â€œparam1â€, â€œparam2â€](exec ä¸­æ‰§è¡Œ) ENTRYPOINT command param1 param2 (shell ä¸­æ‰§è¡Œ)æ¯ä¸ª Dockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ª ENTRYPOINT ï¼Œ å½“æŒ‡å®šå¤šä¸ªæ—¶ï¼Œåªæœ‰æœ€åä¸€ä¸ªæœ‰æ•ˆã€‚åœ¨è¿è¡Œæ—¶ï¼Œå¯ä»¥è¢« â€“entrypoint å‚æ•°è¦†ç›–æ‰ï¼Œå¦‚ docker run â€“entrypoint VOLUMEåˆ›å»ºä¸€ä¸ªæ•°æ®å·æŒ‚è½½ç‚¹ã€‚æ ¼å¼ä¸º VOLUME[â€œ/dataâ€] å¯ä»¥ä»æœ¬åœ°ä¸»æœºæˆ–å…¶ä»–å®«æŒ‚è½½æ•°æ®å·ï¼Œä¸€èˆ¬ç”¨æ¥å­˜æ”¾æ•°æ®åº“å’Œéœ€è¦ä¿å­˜çš„æ•°æ®ç­‰ã€‚ USERæŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ–UIDï¼Œåç»­çš„ RUN ç­‰æŒ‡ä»¤ä¹Ÿä¼šä½¿ç”¨æŒ‡å®šçš„ç”¨æˆ·èº«ä»½ã€‚æ ¼å¼ä¸º USER daemon WORKDIRä¸ºåç»­çš„ RUNã€CMD å’Œ ENTRYPOINT æŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•ã€‚æ ¼å¼ä¸º WORKDIR/path/to/workdirå¯ä»¥ä½¿ç”¨å¤šä¸ª WORKDIR æŒ‡ä»¤ï¼Œåç»­å‘½ä»¤å¦‚æœå‚æ•°æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™ä¼šåŸºäºä¹‹å‰å‘½ä»¤æŒ‡å®šçš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼š 12345WORKDIR /aWORKDIR bWORKDIR cRUN pwd# æœ€ç»ˆè·¯å¾„ä¸º /a/b/c ARGæŒ‡å®šä¸€äº›é•œåƒå†…ä½¿ç”¨çš„å‚æ•° (ä¾‹å¦‚ç‰ˆæœ¬å·ä¿¡æ¯ç­‰)ï¼Œè¿™äº›å‚æ•°åœ¨æ‰§è¡Œ docker build å‘½ä»¤æ—¶æ‰ä»¥ â€“build-arg&lt;varname&gt;=&lt;value&gt; æ ¼å¼ä¼ å…¥ã€‚æ ¼å¼ä¸ºï¼šARG&lt;name&gt;[=&lt;default value&gt;] ONBUILDé…ç½®å½“æ‰€åˆ›å»ºçš„é•œåƒä½œä¸ºå…¶ä»–é•œåƒçš„åŸºç¡€é•œåƒæ—¶ï¼Œæ‰€æ‰§è¡Œçš„åˆ›å»ºæ“ä½œæŒ‡ä»¤ã€‚æ ¼å¼ä¸º ONBUILD[INSTRUCTION] STOPSIGNALæŒ‡ä»¤æ‰€åˆ›å»ºé•œåƒå¯åŠ¨çš„å®¹å™¨æ¥æ”¶é€€å‡ºçš„ä¿¡å·å€¼ã€‚ä¾‹å¦‚ï¼š 1STOPSIGNAL signal HEALTHCHECKé…ç½®æ‰å¯åŠ¨å®¹å™¨å¦‚ä½•è¿›è¡Œå¥åº·æ£€æŸ¥(å¦‚ä½•åˆ¤æ–­å¥åº·ä¸å¦)ï¼Œè‡ª Docker 1.12 å¼€å§‹æ”¯æŒã€‚æ ¼å¼æœ‰ä¸¤ç§ï¼š HEALTHCHECK [OPTIONS] CMD command #æ ¹æ®æ‰€æ‰§è¡Œå‘½ä»¤è¿”å›å€¼æ˜¯å¦ä¸º 0 æ¥åˆ¤æ–­ HEALTHCHECK[OPTIONS] CMD command #æ ¹æ®æ‰€æ‰§è¡Œå‘½ä»¤è¿”å›å€¼æ˜¯å¦ä¸º 0 æ¥åˆ¤æ–­ SHELLæŒ‡å®šå…¶ä»–å‘½ä»¤ä½¿ç”¨ shell æ—¶é»˜è®¤ shell ç±»å‹ã€‚é»˜è®¤å€¼ä¸º [â€œ/bin/shâ€, â€œ-câ€] åˆ›å»ºé•œåƒç¼–å†™å®Œæˆ Dockerfile ä¹‹åï¼Œå¯ä»¥é€šè¿‡ docker build å‘½ä»¤æ¥åˆ›å»ºé•œåƒã€‚åŸºæœ¬æ ¼å¼ä¸º docker build [é€‰é¡¹]å†…å®¹è·¯å¾„ï¼Œè¯¥å‘½ä»¤å°†è¯»å–æŒ‡å®šè·¯å¾„ä¸‹(åŒ…æ‹¬å­ç›®å½•)çš„ Dockerfileï¼Œå¹¶å°†è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰å†…å®¹å‘é€ç»™ Docker æœåŠ¡ç«¯ï¼Œç”±æœåŠ¡ç«¯æ¥åˆ›å»ºé•œåƒã€‚ å¦‚æœä½¿ç”¨éå†…å®¹è·¯å¾„ä¸‹çš„ Dockerfileï¼Œå¯ä»¥é€šè¿‡ -f é€‰é¡¹æ¥æŒ‡å®šå…¶è·¯å¾„ è¦æŒ‡å®šç”Ÿæˆé•œåƒçš„æ ‡ç­¾ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ -t é€‰é¡¹ ä½¿ç”¨ .dockerignore æ–‡ä»¶å¯ä»¥é€šè¿‡ .dockerignore æ–‡ä»¶(æ¯ä¸€è¡Œæ·»åŠ ä¸€æ¡åŒ¹é…æ¨¡å¼)æ¥è®© Docker å¿½ç•¥åŒ¹é…æ¨¡å¼è·¯å¾„ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š 12345# comment */temp* */*/temp* tmp? -* ä½¿ç”¨ Dockerfile æ„å»º Docker é•œåƒ æ˜æ—¥ä»»åŠ¡,æœªå®Œæˆåœ¨å‘¨æœ«ä½¿ç”¨ Dockerfile æ„å»ºä¸€æ¬¡é•œåƒ æœ€ä½³å®è·µ ç²¾ç®€é•œåƒç”¨é€” : å°½é‡è®©æ¯ä¸ªé•œåƒçš„ç”¨é€”éƒ½æ¯”è¾ƒé›†ä¸­ã€å•ä¸€ï¼Œé¿å…æ„é€ å¤§è€Œå¤æ‚ã€å¤šåŠŸèƒ½çš„é•œåƒï¼› é€‰ç”¨åˆé€‚çš„åŸºç¡€é•œåƒ : è¿‡å¤§çš„åŸºç¡€é•œåƒä¼šé€ æˆç”Ÿæˆè‡ƒè‚¿çš„é•œåƒ æä¾›è¶³å¤Ÿæ¸…æ™°çš„å‘½ä»¤æ³¨é‡Šå’Œç»´æŠ¤è€…ä¸ª æ­£ç¡®ä½¿ç”¨ç‰ˆæœ¬å· å‡å°‘é•œåƒå±‚æ•° åŠæ—¶åˆ é™¤ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜æ–‡ä»¶ æé«˜ç”Ÿæˆé€Ÿåº¦ è°ƒæ•´åˆç†çš„æŒ‡ä»¤é¡ºåº å‡å°‘å¤–éƒ¨æºçš„å¹²æ‰° å®æˆ˜æ¡ˆä¾‹ä½¿ç”¨å®˜æ–¹é•œåƒåˆ›å»ºå®¹å™¨busybox çš„å®‰è£…12[root@localhost ~]# docker pull busybox[root@localhost ~]# docker run -it --name busybox busybox:latest Ubuntu çš„å®‰è£…1[root@localhost ~]# docker run -it ubuntu /bin/bash CentOS çš„å®‰è£…1[root@localhost ~]# docker run -it centos /bin/bash Nginx çš„å®‰è£…1[root@localhost ~]# docker run -d --name nginx -p 80:80 -p 443:443 nginx åœ¨å¯åŠ¨ nginx çš„æ—¶å€™ï¼Œå¯ä»¥æ·»åŠ  -v é€‰é¡¹æŒ‡å®šç›®å½• Jenkins çš„å®‰1[root@localhost ~]# docker run -p 8080:8080 -p 50000:50000 --name myjenkins jenkins ä½¿ç”¨æ–­å·å®¹å™¨æ˜ å°„å‡º Jenkins çš„æ“ä½œç›®å½• æ•°æ®åº“ç›¸å…³å®¹å™¨çš„åˆ›å»º MySQL1[root@localhost ~]# docker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123 mysql docker å®¹å™¨äº’è”ï¼Œåº”ç”¨å®¹å™¨è¿æ¥è‡³æ•°æ®åº“å®¹å™¨ æ—¥å¿— é…ç½®æ–‡ä»¶ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ ä½¿ç”¨å‘½ä»¤ä¼ å…¥ MongoDB1[root@localhost ~]# docker run -d --name mongodb -p 27017ï¼š2 mongo","categories":[{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/tags/Docker/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~02ä¹‹k8sä¸»è¦æ¦‚å¿µ","slug":"è‡ªå­¦k8sç³»åˆ—-02ä¹‹k8sä¸»è¦æ¦‚å¿µ","date":"2021-08-24T14:31:40.000Z","updated":"2021-08-24T14:31:40.000Z","comments":true,"path":"2021/08/24/è‡ªå­¦k8sç³»åˆ—-02ä¹‹k8sä¸»è¦æ¦‚å¿µ/","link":"","permalink":"https://withoutcause.github.io/2021/08/24/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-02%E4%B9%8Bk8s%E4%B8%BB%E8%A6%81%E6%A6%82%E5%BF%B5/","excerpt":"k8sä¸»è¦æ¦‚å¿µCluster","text":"k8sä¸»è¦æ¦‚å¿µCluster é›†ç¾¤ã€‚å„ç§èµ„æºçš„é›†åˆã€‚ Master Master æ˜¯ Cluster çš„å¤§è„‘ï¼Œä¸»è¦è´Ÿè´£è°ƒåº¦ï¼Œå†³å®šåº”ç”¨åœ¨å“ªé‡Œè¿è¡Œã€‚ Node è¿è¡Œå®¹å™¨çš„è½½ä½“ï¼Œç”± Master ç®¡ç†ã€‚Node ç®¡ç†å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸã€‚ Pod æ˜¯ k8s çš„æœ€å°å•å…ƒï¼Œpod å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ã€‚ pod ä¼šè¢« Master è°ƒåº¦åˆ°æŸä¸€ä¸ª node ä¸Šè¿è¡Œã€‚ Controller k8s é€šè¿‡ Controller æ¥ç®¡ç† podã€‚Controller æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š Deployment æœ€å¸¸ç”¨çš„ Controller ç”¨äºéƒ¨ç½²ã€‚ ReplicaSet ä½¿ç”¨ Deloyment æ—¶ä¼šè‡ªåŠ¨åˆ›å»º ReplicaSet ï¼Œåˆ›å»ºå¤šä¸ª Pod å‰¯ æœ¬ï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡ ReplicaSet æ¥å®ç°çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç›´æ¥ä½¿ç”¨ ReplicaSet ã€‚ DeamonSet ç”¨äºæ¯ä¸ª Node æœ€å¤šåªè¿è¡Œä¸€ä¸ª Pod çš„åœºæ™¯ã€‚é€šå¸¸ç”¨äºè¿è¡Œ Demon ã€‚ StatefuleSet èƒ½å¤Ÿä¿è¯æ¯ä¸ª Pod åœ¨ç”Ÿå‘½å‘¨æœŸå†…åç§°æ˜¯ä¸å˜çš„ï¼Œå…¶ä»– Controller ä¸èƒ½æä¾›è¯¥åŠŸèƒ½ã€‚ å½“å‘ç”Ÿæ•…éšœéœ€è¦åˆ é™¤ Pod å¹¶é‡å¯æ—¶ï¼ŒPod çš„åç§°ä¼šå‘ç”Ÿå˜åŒ–ï¼ŒåŒæ—¶ SttatefuleSet èƒ½ä¿è¯å‰¯æœ¬æŒ‰ç…§å›ºå®šçš„é¡ºåºå¯åŠ¨ã€æ›´æ–°æˆ–è€…åˆ é™¤ã€‚ Job ç”¨äºè¿è¡Œç»“æŸå°±åˆ é™¤çš„ Pod ï¼Œè€Œå…¶ä»– Controller åˆ›å»ºçš„ Pod ä¼šä¸€ç›´è¿è¡Œã€‚ Service è®¿é—®å®¹å™¨çš„å…¥å£ï¼Œå¯¹å¤–æä¾›è‡ªå·±çš„ ip å’Œ ç«¯å£ã€‚ ä¸º Pod æä¾›äº†è´Ÿè½½å‡è¡¡ã€‚ æœåŠ¡å‘ç°ã€‚é›†ç¾¤ä¸­å…¶ä»–æœåŠ¡å¯ä»¥é€šè¿‡ Service åå­—è®¿é—®åç«¯æœåŠ¡ï¼ˆDNSï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¿é—®ã€‚ Namespace å°†ä¸€ä¸ª Cluster è¿›è¡Œé€»è¾‘ä¸Šçš„åˆ’åˆ†ã€‚ ä¸åŒçš„ Namespace èµ„æºæ˜¯å®Œå…¨éš”ç¦»çš„ã€‚ ç³»ç»Ÿé»˜è®¤ä¼šåˆ›å»ºä¸¤ä¸ª Namespace :default å’Œ kube-system ã€‚ æ“ä½œk8sèµ„æºå®‰è£… k8sminikube å®‰è£…æ•™ç¨‹ k8så®˜æ–¹å®‰è£…æ•™ç¨‹ å¯åŠ¨ k8s1sjl@sjldeMacBook-Pro î‚° ~ î‚° minikube start å¯åŠ¨ä¹‹å‰å¿…é¡»å…ˆå®‰è£… Docker å¹¶å¯åŠ¨ï¼Œå¦åˆ™æ— æ³•æˆåŠŸå¯åŠ¨ã€‚ å‘½ä»¤è¡Œæ“ä½œ1kubectl [flags] [options] flags ä¸»è¦åŒ…å«ä»¥ä¸‹æ“ä½œ: create get edit delete run describe exec apply Namespaceåˆ›å»º Namespace å‘½ä»¤æ–¹å¼ 1kubectl create namespace sjl yaml æ–¹å¼ 1234apiVersion: v1kind: Namespacemetadata: name: sjl-yaml å°†ä¸Šé¢çš„è¿™ä¸€æ®µè„šæœ¬ä¿å­˜ä¸º ns_create.yaml ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1kubectl apply -f ./ns_create.yaml namespace å¯ä»¥ç®€å†™ä¸º nsã€‚namespace åç§°æ ¡éªŒè§„åˆ™: [a-z0-9]([-a-z0-9]*[a-z0-9])? ï¼Œåªèƒ½ä½¿ç”¨å°å†™å­—æ¯ä¸­æ¨ªçº¿å’Œæ•°å­—ï¼Œä¸”åªèƒ½ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚ åˆ é™¤ Namespace å‘½ä»¤æ–¹å¼ 1kubectl delete namespace sjl yaml æ–¹å¼ 1kubectl delete -f ./ns_create.yaml æŸ¥çœ‹æ‰€æœ‰ Namespace1kubectl get namespace Pod&amp;Deploymentåˆ›å»º Deployment å‘½ä»¤æ–¹å¼ 1kubectl create deployment nginx-deployment --image=nginx:1.7.9 --replicas=2 -n sjl åˆ›å»º deployment ï¼ŒæŒ‡å®šåç§°ä¸º nginx-deployment é•œåƒä¸º: nginx:1.7.9 å‰¯æœ¬ä¸º 2 ä¸ªï¼Œ namespace ä¸º sjl yaml 12345678910111213141516171819202122apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deployment namespace: sjl labels: app: nginxspec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.17.9 ports: - containerPort: 8088 1kubectl apply -f ./deployment_crate.yaml åˆ›å»ºäº† Deployment å°±ä¼šåˆ›å»ºå¯¹åº”çš„ Pod ã€‚æŸ¥çœ‹ Pod 1kubectl get pods -n sjl","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~01ä¹‹k8sæ˜¯ä»€ä¹ˆ","slug":"è‡ªå­¦k8sç³»åˆ—-01ä¹‹k8sæ˜¯ä»€ä¹ˆ","date":"2021-08-24T14:02:00.000Z","updated":"2021-08-24T14:02:00.000Z","comments":true,"path":"2021/08/24/è‡ªå­¦k8sç³»åˆ—-01ä¹‹k8sæ˜¯ä»€ä¹ˆ/","link":"","permalink":"https://withoutcause.github.io/2021/08/24/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-01%E4%B9%8Bk8s%E6%98%AF%E4%BB%80%E4%B9%88/","excerpt":"k8s çš„logo k8s æ˜¯ä»€ä¹ˆ?","text":"k8s çš„logo k8s æ˜¯ä»€ä¹ˆ?k8s æ˜¯ kubernetes çš„ç®€ç§°ï¼Œ kå’Œsä¹‹é—´æœ‰ 8 ä¸ªå­—æ¯ï¼Œè€å¤–çš„ç¼©å†™å°±æ˜¯è¿™æ ·ã€‚ é¦–å…ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨æ–°çš„åŸºäºå®¹å™¨æŠ€æœ¯çš„åˆ†å¸ƒå¼æ¶æ„é¢†å…ˆæ–¹æ¡ˆã€‚ æä¾›ä¼—å¤šåº•å±‚æ¨¡å—å’ŒåŠŸèƒ½ã€‚ Kubernetesæ˜¯ä¸€ä¸ªå¼€æ”¾çš„å¼€å‘å¹³å°ã€‚ å±è”½äº†åº•å±‚ k8s æ˜¯å½“å‰æœ€ç«çš„ä¸€é—¨æŠ€æœ¯ï¼Œè€Œä¸”å¾ˆå¤šå¤§å‚éƒ½åœ¨ä½¿ç”¨ã€‚å€¼å¾—å­¦ä¹  åé¢å†è¡¥ å­¦ä¹ èµ„æ–™ ã€Šæ¯å¤©5åˆ†é’Ÿç©è½¬Kubernetesã€‹ ã€ŠåŸºäºKubernetesçš„å®¹å™¨äº‘å¹³å°å®æˆ˜ã€‹ ã€ŠKubernetesè¿›é˜¶å®æˆ˜ã€‹ ã€ŠKubernetesæƒå¨æŒ‡å—ï¼šä»Dockeråˆ°Kuberneteså®è·µå…¨æ¥è§¦ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹ ã€Šå®¹å™¨äº‘è¿ç»´å®æˆ˜ï¼šDockerä¸Kubernetesé›†ç¾¤ã€‹ ã€Šç²¾é€šKubernetesã€‹ caicloud/kube-ladder: Learning Kubernetes, The Chinese Taoist Way (github.com)","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è‡ªå­¦k8sç³»åˆ—~00ä¹‹ç›®å½•","slug":"è‡ªå­¦k8sç³»åˆ—-00ä¹‹ç›®å½•","date":"2021-08-24T14:00:00.000Z","updated":"2021-08-24T14:00:00.000Z","comments":true,"path":"2021/08/24/è‡ªå­¦k8sç³»åˆ—-00ä¹‹ç›®å½•/","link":"","permalink":"https://withoutcause.github.io/2021/08/24/%E8%87%AA%E5%AD%A6k8s%E7%B3%BB%E5%88%97-00%E4%B9%8B%E7%9B%AE%E5%BD%95/","excerpt":"2024-01-31 10:25:35ï¼Œå‡†å¤‡é‡å¯ K8s ç›¸å…³åšå®¢å†™ä½œã€‚åé¢çš„å†…å®¹ï¼š K8s æ¶æ„ K8s ç½‘ç»œåŸç† K8s çš„è°ƒè¯• è‡ªå­¦k8sç³»åˆ—-01ä¹‹k8sæ˜¯ä»€ä¹ˆ","text":"2024-01-31 10:25:35ï¼Œå‡†å¤‡é‡å¯ K8s ç›¸å…³åšå®¢å†™ä½œã€‚åé¢çš„å†…å®¹ï¼š K8s æ¶æ„ K8s ç½‘ç»œåŸç† K8s çš„è°ƒè¯• è‡ªå­¦k8sç³»åˆ—-01ä¹‹k8sæ˜¯ä»€ä¹ˆ è‡ªå­¦k8sç³»åˆ—-02ä¹‹k8sä¸»è¦æ¦‚å¿µ è‡ªå­¦k8sç³»åˆ—-03ä¹‹YAML è‡ªå­¦k8sç³»åˆ—-04ä¹‹Pod è‡ªå­¦k8sç³»åˆ—-05ä¹‹Service è‡ªå­¦k8sç³»åˆ—~06ä¹‹æ»šåŠ¨æ›´æ–°","categories":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"}],"tags":[{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"}]},{"title":"è¸©å‘è®°å½•","slug":"è¸©å‘è®°å½•","date":"2021-08-24T13:47:53.000Z","updated":"2021-08-24T13:47:53.000Z","comments":true,"path":"2021/08/24/è¸©å‘è®°å½•/","link":"","permalink":"https://withoutcause.github.io/2021/08/24/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/","excerpt":"IDEA ç¼–è¯‘OOMç°è±¡fms å·¥ç¨‹åœ¨ç¼–è¯‘æ—¶ï¼ŒæŠ›å‡º OOM å¼‚å¸¸ï¼Œä½¿ç”¨ Maven ç¼–è¯‘æ˜¯æ­£å¸¸çš„ã€‚åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å‘ç°ä¸¤ä¸ªé—®é¢˜ã€‚","text":"IDEA ç¼–è¯‘OOMç°è±¡fms å·¥ç¨‹åœ¨ç¼–è¯‘æ—¶ï¼ŒæŠ›å‡º OOM å¼‚å¸¸ï¼Œä½¿ç”¨ Maven ç¼–è¯‘æ˜¯æ­£å¸¸çš„ã€‚åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å‘ç°ä¸¤ä¸ªé—®é¢˜ã€‚ é™¤äº† javac ç¼–è¯‘å¤–ï¼Œè¿˜åœ¨ä½¿ç”¨ kotlin ç¼–è¯‘ ç³»ç»Ÿå‰©ä½™å†…å­˜è¶³å¤Ÿï¼Œä½¿ç”¨ Maven ç¼–è¯‘çš„ war åŒ…å¯ä»¥åœ¨ tomcat ä¸­æ­£å¸¸å¯åŠ¨ã€‚ åŸå› IDEA å¯ä»¥è®¾ç½®ç¼–è¯‘æ—¶çš„å †(HEAP)å¤§å°ï¼Œé»˜è®¤å€¼æ˜¯ 700(MBytes) ,ä¸€èˆ¬çš„å·¥ç¨‹ä¹Ÿè¶³å¤Ÿä½†æ˜¯ fms ä¸å¤Ÿï¼Œè¶…è¿‡äº† 700(MBytes) å°±æŠ¥ OOMã€‚ è§£å†³åŠæ³• åœ¨ IDEA ä¸­è®¾ç½®ç¼–è¯‘æ—¶çš„å †å¤§å°ã€‚ æ³›å‹æ“¦é™¤ç°è±¡åœ¨ doraemon-fs ä¸­å†™äº† spring çš„ beanï¼Œç„¶åå¢åŠ äº†ä¸€ä¸ªé…ç½®ç±»ï¼Œåœ¨é…ç½®ç±»ä¸­ä½¿ç”¨ @ComponentScan æ³¨è§£é…ç½®å¯¹æ‰«æçš„åŒ…åï¼Œåœ¨å†™äº†ä¸€ä¸ª @EnableFsQuery æ³¨è§£ï¼Œåœ¨ mdm å¯åŠ¨ç±»ä¸Šæ‰“æ³¨è§£ @EnableFsQueryï¼Œmdm å¯åŠ¨æ—¶æ— æ³•æ³¨å…¥æŒ‡å®šçš„ beanã€‚ 123@Import(FsMongoConfig.class)public @interface EnableFsQuery &#123;&#125; åŸå› @EnableFsQuery æ³¨è§£ä¸Šæ²¡æœ‰æ‰“ç”Ÿå‘½å‘¨æœŸå¯¹åº”çš„æ³¨è§£ã€‚æ³›å‹çš„é»˜è®¤ RetentionPolicy.CLASS ï¼Œåœ¨è¿è¡ŒæœŸé—´ä¸ä¿ç•™æ³¨è§£ã€‚ è§£å†³åŠæ³•12345@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Import(FsMongoConfig.class)public @interface EnableFsQuery &#123;&#125; è‡ªå®šä¹‰åˆ‡é¢å¯åŠ¨å¼‚å¸¸ç°è±¡Spring å¯åŠ¨æŠ¥å¼‚å¸¸: 1:0 can&#x27;t find referenced pointcut åŸå› AspectJ ä¾èµ–åŒ… aspectjweaver ç‰ˆæœ¬è¿‡ä½å¯¼è‡´ã€‚ è§£å†³åŠæ³•å‡çº§ä¾èµ–åŒ… 12345&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.8&lt;/version&gt;&lt;/dependency&gt;","categories":[{"name":"è¸©è¿‡çš„å‘","slug":"è¸©è¿‡çš„å‘","permalink":"https://withoutcause.github.io/categories/%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"https://withoutcause.github.io/tags/IDEA/"},{"name":"è¸©å‘","slug":"è¸©å‘","permalink":"https://withoutcause.github.io/tags/%E8%B8%A9%E5%9D%91/"},{"name":"æ³›å‹æ“¦é™¤","slug":"æ³›å‹æ“¦é™¤","permalink":"https://withoutcause.github.io/tags/%E6%B3%9B%E5%9E%8B%E6%93%A6%E9%99%A4/"}]},{"title":"git hooksâ€”â€”commit message æ ¡éªŒ","slug":"git-hooksâ€”â€”commit-message-æ ¡éªŒ","date":"2021-08-23T07:29:01.000Z","updated":"2021-08-23T07:29:01.000Z","comments":true,"path":"2021/08/23/git-hooksâ€”â€”commit-message-æ ¡éªŒ/","link":"","permalink":"https://withoutcause.github.io/2021/08/23/git-hooks%E2%80%94%E2%80%94commit-message-%E6%A0%A1%E9%AA%8C/","excerpt":"gitæ˜¯ç°åœ¨æœ€æµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹¦å†™è‰¯å¥½çš„commit messageèƒ½å¤§å¤§æé«˜ä»£ç ç»´æŠ¤çš„æ•ˆç‡ã€‚ä½†æ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”±äºç¼ºå°‘å¯¹äºcommit messageçš„çº¦æŸï¼Œå¯¼è‡´å¡«å†™å†…å®¹éšæ„ã€è´¨é‡å‚å·®ä¸é½ï¼Œå¯è¯»æ€§ä½äº¦éš¾ä»¥ç»´æŠ¤ã€‚åœ¨é¡¹ç›®ä¸­å¼•å…¥commit messageè§„èŒƒå·²æ˜¯è¿«åœ¨çœ‰ç«ã€‚ æäº¤è§„èŒƒ æºäº Angular è§„èŒƒ æäº¤æ ¼å¼ &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt; commit message ç¤ºä¾‹: 1feat(æ•°æ®ä¸­å¿ƒ): HS001 å¢åŠ è®¢å•åˆ—è¡¨ type é€‰é¡¹ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ perf: æ€§èƒ½æå‡å˜æ›´ ci : æŒç»­é›†æˆå˜æ›´ build ï¼š ä»£ç æ„å»ºå˜æ›´ temp ï¼š ä¸´æ—¶ä»£ç  scope å˜æ›´èŒƒå›´(ç²’åº¦è¾ƒå°ï¼Œå¹¶åœ¨ä¸€æƒ³ é¡¹ç›®ä¸­ä¿æŒä¸€è‡´)ï¼šä¾‹å¦‚é¡µé¢åç§°ã€æ¨¡å—åç§°ã€ç»„ä»¶åç§°â€¦â€¦ subject ç®€çŸ­çš„æè¿°","text":"gitæ˜¯ç°åœ¨æœ€æµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹¦å†™è‰¯å¥½çš„commit messageèƒ½å¤§å¤§æé«˜ä»£ç ç»´æŠ¤çš„æ•ˆç‡ã€‚ä½†æ˜¯åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”±äºç¼ºå°‘å¯¹äºcommit messageçš„çº¦æŸï¼Œå¯¼è‡´å¡«å†™å†…å®¹éšæ„ã€è´¨é‡å‚å·®ä¸é½ï¼Œå¯è¯»æ€§ä½äº¦éš¾ä»¥ç»´æŠ¤ã€‚åœ¨é¡¹ç›®ä¸­å¼•å…¥commit messageè§„èŒƒå·²æ˜¯è¿«åœ¨çœ‰ç«ã€‚ æäº¤è§„èŒƒ æºäº Angular è§„èŒƒ æäº¤æ ¼å¼ &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt; commit message ç¤ºä¾‹: 1feat(æ•°æ®ä¸­å¿ƒ): HS001 å¢åŠ è®¢å•åˆ—è¡¨ type é€‰é¡¹ featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ perf: æ€§èƒ½æå‡å˜æ›´ ci : æŒç»­é›†æˆå˜æ›´ build ï¼š ä»£ç æ„å»ºå˜æ›´ temp ï¼š ä¸´æ—¶ä»£ç  scope å˜æ›´èŒƒå›´(ç²’åº¦è¾ƒå°ï¼Œå¹¶åœ¨ä¸€æƒ³ é¡¹ç›®ä¸­ä¿æŒä¸€è‡´)ï¼šä¾‹å¦‚é¡µé¢åç§°ã€æ¨¡å—åç§°ã€ç»„ä»¶åç§°â€¦â€¦ subject ç®€çŸ­çš„æè¿° æ·»åŠ  hook åœ¨ç›®å‰æ·»åŠ åœ¨æœ¬åœ°çš„ git hook ä¸­ï¼Œæ ¡éªŒé˜¶æ®µæ˜¯ commit-msg é˜¶æ®µã€‚è„šæœ¬å†…å®¹å¦‚ä¸‹: 1234567891011121314151617181920#!/bin/shmsg=`awk &#x27;&#123;printf(&quot;%s&quot;,$0)&#125;&#x27; $1`# Merge çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ Commit Message, é•¿æˆè¿™æ ·çš„: Merge branch &#x27;master&#x27; into test-abc, è¿™ç§è·³è¿‡mergePatten=&#x27;^Merge &#x27;if [[ $msg =~ $mergePatten ]]; then echo &quot;ğŸ˜ğŸ˜ğŸ˜åˆå¹¶åˆ†æ”¯è‡ªåŠ¨ç”Ÿæˆçš„ CommitMessage, è·³è¿‡!&quot; exit 0fi# é Merge å¼€å¤´çš„ï¼Œè®¤ä¸ºæ˜¯æ‰‹åŠ¨æäº¤çš„ä¿¡æ¯ï¼Œéœ€è¦éµå¾ªè¿™ç§æ ¼å¼patten=&#x27;^(feat|fix|test|refactor|docs|style|chroe)\\(.*\\):.*$&#x27;if [[ $msg =~ $patten ]]; then echo &quot;ğŸ˜ğŸ˜ğŸ˜å¤ªæ£’äº†!&quot;else echo &quot;ğŸ˜­ğŸ˜­ğŸ˜­ å…„å¼Ÿï¼Œåˆ«çææäº¤çš„ message æ ¼å¼ä¸å¯¹&quot; echo &quot;æäº¤å‚è€ƒæ ¼å¼: &lt;ç±»å‹&gt;[å¯é€‰çš„ä½œç”¨åŸŸ]: &lt;æè¿°&gt;&quot; exit 1fi æ·»åŠ ç›®å½• å°†ä¸Šé¢çš„è„šæœ¬ä¿å­˜æˆ commit-msg æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œä»¥ä¸‹æ“ä½œã€‚ å·¥ç¨‹.git ç›®å½• -&gt; hooks -&gt; commit-msg hooks ç›®å½•ä¸­ä¼šå­˜åœ¨ commit-msg.sampleï¼Œè¿™æ˜¯ git çš„ hook å‚è€ƒæ–‡ä»¶ã€‚ å…¨å±€æ·»åŠ å¦‚æœæ¯ä¸ªå·¥ç¨‹çš„ .git ç›®å½•ä¸‹çš„ hooks éƒ½æ·»åŠ ä¸€éä¼šè¿‡äºç¹çï¼Œä½¿ç”¨å…¨å±€çš„ä¼šå¾ˆçœäº‹(å¯é€‰)ã€‚ åœ¨ home ç›®å½•ä¸‹åˆ›å»º .git_hook ç›®å½• 1mkdir ~/.git_hooks å¤åˆ¶ commit-msg æ–‡ä»¶åˆ°ä¸Šé¢åˆ›å»ºçš„ .git_hook ç›®å½•ä¸‹ 1cp comit-msg /.git_hooks å…¨å±€æ·»åŠ è¯¥è„šæœ¬ 1git config --global core.hooksPath ~/.git_hooks","categories":[{"name":"git","slug":"git","permalink":"https://withoutcause.github.io/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://withoutcause.github.io/tags/git/"},{"name":"hook","slug":"hook","permalink":"https://withoutcause.github.io/tags/hook/"}]},{"title":"Linux Shell","slug":"Linux-Shell","date":"2021-08-23T07:00:05.000Z","updated":"2021-08-23T07:00:05.000Z","comments":true,"path":"2021/08/23/Linux-Shell/","link":"","permalink":"https://withoutcause.github.io/2021/08/23/Linux-Shell/","excerpt":"æœ€è¿‘åœ¨ç»„å†…æ¨ git æäº¤è§„èŒƒï¼Œä½¿ç”¨åˆ°äº† shell è„šæœ¬ï¼Œå¯¹ä¸€äº›å†…å®¹å†å­¦ä¹ äº†ä¸€éï¼Œåšä¸€ä¸ªç¬”è®°ã€‚ Shell çš„æ ¼å¼1#!/bin/bash","text":"æœ€è¿‘åœ¨ç»„å†…æ¨ git æäº¤è§„èŒƒï¼Œä½¿ç”¨åˆ°äº† shell è„šæœ¬ï¼Œå¯¹ä¸€äº›å†…å®¹å†å­¦ä¹ äº†ä¸€éï¼Œåšä¸€ä¸ªç¬”è®°ã€‚ Shell çš„æ ¼å¼1#!/bin/bash","categories":[{"name":"Linux","slug":"Linux","permalink":"https://withoutcause.github.io/categories/Linux/"},{"name":"Shell","slug":"Linux/Shell","permalink":"https://withoutcause.github.io/categories/Linux/Shell/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://withoutcause.github.io/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://withoutcause.github.io/tags/Shell/"}]},{"title":"æµé‡å›æ”¾","slug":"æµé‡å›æ”¾","date":"2021-08-23T03:19:06.000Z","updated":"2021-08-23T03:19:06.000Z","comments":true,"path":"2021/08/23/æµé‡å›æ”¾/","link":"","permalink":"https://withoutcause.github.io/2021/08/23/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE/","excerpt":"","text":"çœ‹äº†ç¾¤é‡Œè®¨è®ºçš„é—®é¢˜ï¼Œä¹Ÿæ˜¯æˆ‘ä¸€ç›´åœ¨è€ƒè™‘å¦‚ä½•è§£å†³çš„é—®é¢˜ï¼Œè¿™é‡Œåšä¸ªæ¢³ç†å’Œæ€»ç»“ï¼Œå¸Œæœ›èƒ½åœ¨æ¢³ç†çš„åŸºç¡€ä¸Šç†æ¸…æ€è·¯ï¼Œç»Ÿä¸€é—®é¢˜éš¾ç‚¹ï¼Œå¸Œæœ›æœ‰èƒ½åŠ›ï¼Œæœ‰æƒ³æ³•çš„åŒå­¦èƒ½å¤Ÿæ›´æœ‰é’ˆå¯¹æ€§çš„æå‡ºè§£å†³æ–¹æ¡ˆé¦–å…ˆï¼Œå°†æµé‡å›æ”¾è¿›è¡Œåˆ†ç±»ï¼Œæ— éå°±æ˜¯è¯»å’Œå†™ä¸¤å¤§ç±»ï¼šè¯»æµé‡ï¼šå¤„ç†èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œå½•åˆ¶å¥½åç›´æ¥å›æ”¾å³å¯ï¼ˆæ³¨æ„æ˜¯ç›¸åŒç¯å¢ƒå›æ”¾ï¼Œæˆ–ç›¸åŒæ•°æ®åº“åŸºç¡€ä¸Šï¼Œå¦‚æœæ˜¯çº¿ä¸Šå½•åˆ¶ï¼Œå¯ä»¥ç›´æ¥åœ¨ç°åº¦æˆ–é¢„å‘ç¯å¢ƒå›æ”¾ï¼‰ï¼Œæ€»ç»“ä¸‹æ¥è¯»æµé‡çš„ç‰¹ç‚¹æ˜¯ï¼š 1. ä¸ç”¨æ‹…å¿ƒæ•°æ®æ²¡æœ‰å‡†å¤‡å¥½ï¼ˆå› ä¸ºå½•åˆ¶æ—¶å·²ç»åˆ›å»ºå¥½äº†ï¼‰ a. é—®é¢˜ï¼šå¦‚æœæ˜¯ä¸åŒç¯å¢ƒï¼Œæˆ–å½±å­åº“ï¼Œå°±è¦è€ƒè™‘æ•°æ®å‡†å¤‡çš„é—®é¢˜ 2. ä¹Ÿä¸ç”¨æ‹…å¿ƒæ±¡æŸ“ï¼ˆåªæ˜¯è¯»ï¼‰ 3. å¯ä»¥é‡å¤å›æ”¾ï¼ˆè¯·æ±‚æ˜¯å¹‚ç­‰çš„ï¼‰ å†™æµé‡ï¼šä¸è¯»æµé‡çš„ç‰¹ç‚¹ç›¸åï¼Œè¯»æµé‡å›æ”¾çš„ä¼˜åŠ¿ï¼Œæ­£æ˜¯å†™æµé‡å›æ”¾çš„éš¾ç‚¹ 1. å†™æµé‡æœ¬èº«å°±å¯ä»¥çœ‹åšæ˜¯å‡†å¤‡æ•°æ®çš„è¿‡ç¨‹ a. é—®é¢˜ï¼šå†™å…¥æ–°çš„æ•°æ®åï¼Œå¦‚ä½•é€šçŸ¥åˆ°ä¸‹æ¸¸ 2. è¦ä¹ˆå†™å…¥å¤±è´¥ï¼Œè¦ä¹ˆäº§ç”Ÿæ–°çš„æ•°æ®ï¼ˆè„æ•°æ®ï¼Œäº§ç”Ÿæ±¡æŸ“ï¼Œå†™å½±å­åº“æ˜¯ä¸€ç§è§£æ³•ï¼‰ a. å¦‚åˆ›å»ºç”¨æˆ·ï¼Œç›¸åŒå§“åå’Œèº«ä»½è¯å·çš„ï¼Œåªèƒ½æœ‰ä¸€ä¸ªï¼Œå†æ¬¡åˆ›å»ºå°±ä¼šå¤±è´¥ b. å¦‚åˆ›å»ºè®¢å•ï¼Œæ¯æ¬¡éƒ½ç”Ÿæˆæ–°çš„è®¢å•å·ï¼Œé—®é¢˜åŒ1.aæ˜¯è¿™ä¸ªæ–°ç”Ÿæˆçš„è®¢å•å·ï¼Œå¦‚ä½•é€šçŸ¥ä¸‹æ¸¸ 3. å…³äºå†™æ¥å£çš„é‡å¤å›æ”¾ a. åŒ2.aå¦‚æœæ˜¯å†™æ¥å£æ˜¯åœ¨å‚æ•°ç›¸åŒçš„æƒ…å†µä¸‹æ˜¯æ’ä»–çš„ï¼Œåˆ™ä¸èƒ½é‡å¤å›æ”¾ b. åŒ2.båˆ›å»ºè®¢å•ç±»çš„å¯ä»¥é‡å¤å›æ”¾ï¼Œä½†æ˜¯ä¸€æ˜¯ä¼šäº§ç”Ÿå¾ˆå¤šè„æ•°æ®ï¼ŒäºŒæ˜¯å¦‚ä½•é€šçŸ¥ä¸‹æ¸¸ æ€»ç»“ä¸€ä¸‹é—®é¢˜å’Œç¾¤é‡Œè®¨è®ºçš„è§£å†³æ–¹æ¡ˆï¼š 1. è¯»æµé‡çš„æ•°æ®å¦‚ä½•å‡†å¤‡ï¼Ÿ è§£1ï¼šäººå·¥ä»‹å…¥ï¼Œæå‰å‡†å¤‡ï¼Œå›æ”¾æ—¶è¯»å–é…ç½®è¿›è¡Œæ›¿æ¢ è§£2ï¼šå½•åˆ¶æ—¶ä¹ŸåŒ…æ‹¬å†™æµé‡ï¼Œå›æ”¾æ—¶ä¹Ÿå›æ”¾å†™æµé‡ï¼Œä½†æ˜¯è¦æå–å†™æµç¨‹çš„å‡ºå‚ï¼Œæ”¾å…¥ç¯å¢ƒå˜é‡æˆ–æœ¬æ¬¡å›æ”¾çš„å±€éƒ¨å˜é‡ä¸­ï¼Œä¾›ä¸‹æ¸¸æ¥å£åœ¨éœ€è¦æ—¶è¿›è¡Œæ›¿æ¢ æ€»çš„æ¥è¯´è¿™ä¸¤ç§è§£æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯æ•°æ®åç§»ï¼Œä¸ªäººæ„Ÿè§‰è¿™ä¹Ÿæ˜¯æŸ¯å—å¼€æºçš„ä¸€ä¸ªäº®ç‚¹ï¼Œæå‡ºäº†æ•°æ®åç§»çš„æ¦‚å¿µï¼ˆå½“ç„¶å…·ä½“å®ç°æ˜¯ä»€ä¹ˆç›¸çš„æˆ‘è¿˜ä¸æ¸…æ¥šï¼Œä½†æˆ‘ä¸ªäººè§‰å¾—è¿™ä¸ªæŒ‡æ˜äº†è§£å†³é—®é¢˜çš„æ–¹å‘ï¼Œè®©æˆ‘ä»¬åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ä¸Šä¸å†è¿·èŒ«ï¼‰ 2. å†™æµé‡äº§ç”Ÿçš„å“åº”å‡ºå‚ï¼Œå¦‚ä½•é€šçŸ¥ä¸‹æ¸¸è¿›è¡Œæ›¿æ¢ï¼Ÿ åŸºäºæˆ‘ä¸ªäººå¯¹æµé‡å›æ”¾çš„æ€è€ƒå’Œç†è§£ï¼Œæˆ‘çŸ¥é“æ›¿æ¢æ˜¯å¿…é¡»è¦åšçš„ï¼Œå…·ä½“æ€ä¹ˆåšï¼Œæœ‰ä¸€ç‚¹æ€è·¯ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰å®è·µè¿‡ï¼Œå¸Œæœ›æŸ¯å—å¼€æºçš„å¤§ä½¬ï¼Œèƒ½è®²è®²è¿™éƒ¨åˆ†æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ 3. 3.1 æ’ä»–æ€§çš„å†™æµé‡ï¼Œå¦‚ä½•åšåˆ°é‡å¤å›æ”¾æ—¶ä¸å¤±è´¥æŠ¥é”™ï¼Ÿ å½“ç„¶ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œæœ€ç»ˆä¹Ÿå¾—å›åˆ°åç§»æ›¿æ¢ä¸Šï¼Œå¯¹å…¥å‚è¿›è¡Œåç§»æ›¿æ¢å°±å¯ä»¥äº†å—ï¼Ÿå¦‚ä½•åšåˆ°ï¼ŒåŒé—®é¢˜2ï¼Œå¸Œæœ›æœ‰å¤§ä½¬å›ç­”ä¸‹ã€‚ 3.2 è„æ•°æ®çš„é—®é¢˜ï¼Œå¦‚ä½•é¿å…æ±¡æŸ“ï¼Ÿ å›ç­”å¯èƒ½æ˜¯å½±å­åº“ã€‚ä½†æ˜¯ä»ç¾¤å†…çš„è®¨è®ºæ¥çœ‹ï¼Œå¥½åƒæ„æ€æ˜¯ï¼Œåœ¨å›æ”¾çš„æ—¶å€™å†™çš„æµé‡å¯ä»¥å†™åˆ°å½±å­åº“ï¼Œä½†æ˜¯è¯»çš„æµé‡ï¼Œä»ç„¶å¯ä»¥è¯»æ­£å¼åº“ã€‚ï¼ˆè¯·æŸ¯å—çš„å¤§ä½¬ç¡®è®¤ä¸€ä¸‹ï¼Œå¯ä»¥è¿™ä¹ˆåšå—ï¼Ÿï¼‰è¿™ä¹ˆåšä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä¸ªäººè®¤ä¸ºè¯»å†™è¿˜æ˜¯ä¿æŒè¿è´¯æ¯”è¾ƒé«˜ï¼Œå³å†™åœ¨å“ªé‡Œï¼Œè¯»å°±åœ¨å“ªé‡Œã€‚ å¦å¤–ï¼Œå¤šè¯´ä¸€å¥ï¼Œæœ‰äººå¯èƒ½ä¼šé—®ï¼Œé‡å¤å›æ”¾å¤±è´¥çš„é—®é¢˜ï¼Œå†™å½±å­åº“ä¸ä¹Ÿå°±è§£å†³äº†å—ï¼Ÿæˆ‘ä¹‹æ‰€ä»¥åœ¨3.1æ—¶æ²¡æå½±å­åº“ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜ä¸æ˜¯å½±å­åº“èƒ½è§£å†³çš„ï¼Œå› ä¸ºä¸€æ—¦åœ¨å½±å­åº“å›æ”¾è¿‡ä¸€æ¬¡ä¹‹åï¼Œå½±å­åº“é‡Œä¹Ÿå°±æœ‰ç›¸åŒçš„æ•°æ®äº†ï¼Œå†æ¬¡å›æ”¾è‚¯å®šè¿˜æ˜¯ä¼šæŠ¥é”™çš„ã€‚ è¿™é‡Œå†å¼•ç”³ä¸€ä¸‹ï¼Œå…¶å®å…³äºé‡å¤å†™çš„é—®é¢˜æˆ‘è·ŸåŒäº‹è®¨è®ºè¿‡ï¼Œä»–æå‡ºäº†ä¸€ä¸ªå¾ˆå¤§èƒ†çš„æƒ³æ³•ï¼Œå³å½±å­åº“é•œåƒï¼Œå³åœ¨æµé‡å½•åˆ¶å‰ï¼Œå°†å½±å­åº“åšæˆé•œåƒï¼Œæ¯æ¬¡æµé‡å›æ”¾æ—¶ï¼Œå°†é•œåƒåº“è¿˜åŸï¼Œè¿™æ ·åšçš„è¯ï¼Œå¯ä»¥åšåˆ°å½•åˆ¶æµé‡ä¸€ä¸ä¸€æ¯«ä¿®æ”¹éƒ½ä¸éœ€è¦å¸®ï¼Œ100%çœŸå®æµé‡å›æ”¾ã€‚æˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆæœ‰åˆ›æ„ï¼Œè‡³äºå®è·µèµ·æ¥ä¼šé‡åˆ°ä»€ä¹ˆæ ·çš„å›°éš¾ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œå°±ç®—æŠ›è½¬å¼•ç‰äº†ã€‚ å¦å¤–ï¼Œæ€»ç»“äº†è¿™ä¹ˆå¤šï¼Œä¸€ç›´æ²¡æœ‰æåˆ°mockï¼Œè¿™é‡Œå†è¿½åŠ ä¸€ä¸‹å†™æµé‡çš„å¦å¤–ä¸€ç§è§£æ³•ï¼šå³é‡‡ç”¨mockï¼Œå¦‚æœæ˜¯ç”¨jvm-sandbox-repeateråšæµé‡å›æ”¾çš„è¯ï¼Œå¯ä»¥åšåˆ°æ–¹æ³•çº§åˆ«çš„mockï¼Œå³é‡åˆ°å†™åº“çš„æ“ä½œï¼Œå¹¶ä¸çœŸçš„æ‰§è¡Œå†™å…¥æ“ä½œï¼Œå¯ä»¥mockä¸ºè¿”å›æŒ‡å®šçš„æ•°æ®ã€‚ä»”ç»†æƒ³æƒ³ï¼Œå¦‚æœé‡‡ç”¨mockçš„è¯å³ä¸ç”¨å†™å½±å­åº“ï¼Œåˆä¸ç”¨è€ƒè™‘æ•°æ®åç§»ï¼ŒçœŸæ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¯¹äºæœåŠ¡ç«¯æ˜¯javaåº”ç”¨æ¥è¯´ï¼Œæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ï¼ˆå½“ç„¶ï¼Œé€šç”¨æ€§æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå¿…é¡»æ˜¯javaåº”ç”¨ï¼Œå¦å¤–ï¼Œå¯¹äºmocké’ˆå¯¹å…¶ä»–æ•°æ®æºçš„æ”¯æŒæƒ…å†µè¿˜æœ‰å¾…è€ƒè¯ï¼Œå¦‚ESï¼Œhbaseï¼Œredisç­‰ï¼‰","categories":[{"name":"æµé‡å›æ”¾","slug":"æµé‡å›æ”¾","permalink":"https://withoutcause.github.io/categories/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE/"}],"tags":[{"name":"æµé‡å›æ”¾","slug":"æµé‡å›æ”¾","permalink":"https://withoutcause.github.io/tags/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE/"}]},{"title":"ChannelHandleräº‹ä»¶","slug":"ChannelHandleräº‹ä»¶","date":"2021-08-11T11:55:30.000Z","updated":"2021-08-11T11:55:30.000Z","comments":true,"path":"2021/08/11/ChannelHandleräº‹ä»¶/","link":"","permalink":"https://withoutcause.github.io/2021/08/11/ChannelHandler%E4%BA%8B%E4%BB%B6/","excerpt":"ChannelHandlerChannelInboundHandlerchannelInBoundHandler äº‹ä»¶, å…·ä½“å¯ä»¥çœ‹ io.netty.channel.ChannelInboundHandler æ¥å£çš„æ–¹æ³•ã€‚","text":"ChannelHandlerChannelInboundHandlerchannelInBoundHandler äº‹ä»¶, å…·ä½“å¯ä»¥çœ‹ io.netty.channel.ChannelInboundHandler æ¥å£çš„æ–¹æ³•ã€‚ äº‹ä»¶å›è°ƒæ–¹æ³• è§¦å‘æ—¶æœº channelRegistered Channel è¢«æ³¨å†Œåˆ° EventLoop channelUnReistered Channel ä» EventLoop ä¸Šå–æ¶ˆæ³¨å†Œ channelActive Channel è¢«æ¿€æ´»ï¼Œå¤„äºå°±ç»ªçŠ¶æ€ï¼Œå¯ä»¥è¢«è¯»å†™ channelInActive Channel å¤„äºéå°±ç»ªçŠ¶æ€ï¼Œå¯ä»¥ä»è¿œç«¯è¯»å–åˆ°æ•°æ® channelRead Channel å¯ä»¥ä»è¿œç«¯è¯»å–åˆ°æ•°æ® channelReadComplate Channel ä»è¿œç«¯è¯»å–æ•°æ®å®Œæˆ userEventTriggered ç”¨æˆ·äº‹ä»¶è¢«è§¦å‘æ—¶ channelWritabilityChanged Channel çš„å†™çŠ¶æ€å‘ç”Ÿå˜åŒ– ChannelOutboundHandler äº‹ä»¶å›è°ƒæ–¹æ³• è§¦å‘æ—¶æœº bind ç›‘å¬åœ°å€(IP + ç«¯å£)ç»‘å®š(ç”¨äºæœåŠ¡ç«¯) connect è¿æ¥æœåŠ¡å™¨(ç”¨äºå®¢æˆ·ç«¯) disconnect æ–­å¼€æœåŠ¡å™¨è¿æ¥ close ä¸»åŠ¨å…³é—­ Channel deregister read è¯»æ•°æ® write å®šå±€æ•°æ® flush åˆ·æ•°æ® ChannelInitializerè£…é… handler 123456789server.childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() &#123; @Override protected void initChannel(NioSocketChannel nioSocketChannel) throws Exception &#123; nioSocketChannel.pipeline() .addLast(new StringDecoder()) .addLast(new StringEncoder()) .addLast(handler); &#125; &#125;); åœ¨ initChannel æ–¹æ³•ä¸­è£…é…å„ç§ handler ä»¥å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚ äº‹ä»¶å›è°ƒChannelHandler çš„è°ƒç”¨é¡ºåºã€‚","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"}]},{"title":"IDEAå¿«æ·é”®","slug":"IDEAå¿«æ·é”®","date":"2021-08-05T11:30:53.000Z","updated":"2021-08-05T11:30:53.000Z","comments":true,"path":"2021/08/05/IDEAå¿«æ·é”®/","link":"","permalink":"https://withoutcause.github.io/2021/08/05/IDEA%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"Macé”®ç›˜ç¬¦å·å’Œä¿®é¥°é”®è¯´æ˜ â‡ Page Upï¼ˆFn+â†‘ï¼‰ â‡Ÿ Page Downï¼ˆFn+â†“ï¼‰ Home Fn + â† End Fn + â†’ Editingï¼ˆç¼–è¾‘ï¼‰","text":"Macé”®ç›˜ç¬¦å·å’Œä¿®é¥°é”®è¯´æ˜ â‡ Page Upï¼ˆFn+â†‘ï¼‰ â‡Ÿ Page Downï¼ˆFn+â†“ï¼‰ Home Fn + â† End Fn + â†’ Editingï¼ˆç¼–è¾‘ï¼‰ Command + Shift + Enter è‡ªåŠ¨ç»“æŸä»£ç ï¼Œè¡Œæœ«è‡ªåŠ¨æ·»åŠ åˆ†å· Command + P æ˜¾ç¤ºæ–¹æ³•çš„å‚æ•°ä¿¡æ¯ Control + J, Mid. button click å¿«é€ŸæŸ¥çœ‹æ–‡æ¡£ Shift + F1 æŸ¥çœ‹å¤–éƒ¨æ–‡æ¡£ï¼ˆåœ¨æŸäº›ä»£ç ä¸Šä¼šè§¦å‘æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºç›¸å…³æ–‡æ¡£ï¼‰ Command + +é¼ æ ‡æ”¾åœ¨ä»£ç ä¸Š æ˜¾ç¤ºä»£ç ç®€è¦ä¿¡æ¯ Command + F1 åœ¨é”™è¯¯æˆ–è­¦å‘Šå¤„æ˜¾ç¤ºå…·ä½“æè¿°ä¿¡æ¯ Command + N, Control + Enter, Control + N ç”Ÿæˆä»£ç ï¼ˆgetterã€setterã€æ„é€ å‡½æ•°ã€hashCode/equals,toStringï¼‰ Control + O è¦†ç›–æ–¹æ³•ï¼ˆé‡å†™çˆ¶ç±»æ–¹æ³•ï¼‰ Control + I å®ç°æ–¹æ³•ï¼ˆå®ç°æ¥å£ä¸­çš„æ–¹æ³•ï¼‰ Command + Option + T åŒ…å›´ä»£ç ï¼ˆä½¿ç”¨iF..else, try..catch, For, synchronizedç­‰åŒ…å›´é€‰ä¸­çš„ä»£ç ï¼‰ Command + / æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šä¸è¡Œæ³¨é‡Š Command + Option/ æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šä¸å—æ³¨é‡Š Option + â†‘ è¿ç»­é€‰ä¸­ä»£ç å— Option + â†“ å‡å°‘å½“å‰é€‰ä¸­çš„ä»£ç å— Control + Shift + Q æ˜¾ç¤ºä¸Šä¸‹æ–‡ä¿¡æ¯ OptionEnter æ˜¾ç¤ºæ„å‘åŠ¨ä½œå’Œå¿«é€Ÿä¿®å¤ä»£ç  Command + Option + L æ ¼å¼åŒ–ä»£ç  Control + Option + O ä¼˜åŒ–import Control + Option + I è‡ªåŠ¨ç¼©è¿›çº¿ Tab / Shift + Tab ç¼©è¿›ä»£ç  / åç¼©è¿›ä»£ç  Command + X å‰ªåˆ‡å½“å‰è¡Œæˆ–é€‰å®šçš„å—åˆ°å‰ªè´´æ¿ Command + C å¤åˆ¶å½“å‰è¡Œæˆ–é€‰å®šçš„å—åˆ°å‰ªè´´æ¿ Command + V ä»å‰ªè´´æ¿ç²˜è´´ Command + Shift + V ä»æœ€è¿‘çš„ç¼“å†²åŒºç²˜è´´ Command + D å¤åˆ¶å½“å‰è¡Œæˆ–é€‰å®šçš„å— Command + Delete åˆ é™¤å½“å‰è¡Œæˆ–é€‰å®šçš„å—çš„è¡Œ Control + Shift + J æ™ºèƒ½çš„å°†ä»£ç æ‹¼æ¥æˆä¸€è¡Œ Command + Enter æ™ºèƒ½çš„æ‹†åˆ†æ‹¼æ¥çš„è¡Œ Shift + Enter å¼€å§‹æ–°çš„ä¸€è¡Œ Command + Shift + U å¤§å°å†™åˆ‡æ¢ Command + Shift + ] / Command + Shift + [ åˆ‡æ¢ Tab é¡µ OptionFn + Delete åˆ é™¤åˆ°å•è¯çš„æœ«å°¾ï¼ˆFn + Deleteé”®ä¸ºFn+Deleteï¼‰ Option + Delete åˆ é™¤åˆ°å•è¯çš„å¼€å¤´ Command + +/Command + - å±•å¼€ / æŠ˜å ä»£ç å— Command + Shift + + å±•å¼€æ‰€ä»¥ä»£ç å— Command + Shift + - æŠ˜å æ‰€æœ‰ä»£ç å— Command + W å…³é—­æ´»åŠ¨çš„ç¼–è¾‘å™¨é€‰é¡¹å¡ Command+Y æŸ¥çœ‹é€‰ä¸­å½“å‰æºç  Search/Replaceï¼ˆæŸ¥è¯¢/æ›¿æ¢ï¼‰ Double Shift (è¿æŒ‰ä¸¤ä¸‹ Shift) æŸ¥è¯¢ä»»ä½•ä¸œè¥¿ Command + F æ–‡ä»¶å†…æŸ¥æ‰¾ Command + G æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå‘ä¸‹æŸ¥æ‰¾ Command + Shift + G æŸ¥æ‰¾æ¨¡å¼ä¸‹ï¼Œå‘ä¸ŠæŸ¥æ‰¾ Command + R æ–‡ä»¶å†…æ›¿æ¢ Command + Shift + F å…¨å±€æŸ¥æ‰¾ï¼ˆæ ¹æ®è·¯å¾„ï¼‰ Command + Shift + R å…¨å±€æ›¿æ¢ï¼ˆæ ¹æ®è·¯å¾„ï¼‰ Command + Shift + M æ›¿æ¢ç»“æ„ï¼ˆUltimate Edition ç‰ˆä¸“ç”¨ï¼Œéœ€è¦åœ¨Keymapä¸­è®¾ç½®ï¼‰ Usage Searchï¼ˆä½¿ç”¨æŸ¥è¯¢ï¼‰ OptionF7 / Command + F7 åœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ç”¨æ³• / åœ¨ç±»ä¸­æŸ¥æ‰¾ç”¨æ³• Command + Shift + F7 åœ¨æ–‡ä»¶ä¸­çªå‡ºæ˜¾ç¤ºçš„ç”¨æ³• Command + OptionF7 æ˜¾ç¤ºç”¨æ³• Compile and Runï¼ˆç¼–è¯‘å’Œè¿è¡Œï¼‰ Command + F9 ç¼–è¯‘Project Command + Shift + F9 ç¼–è¯‘é€‰æ‹©çš„æ–‡ä»¶ã€åŒ…æˆ–æ¨¡å— Control + Option + R å¼¹å‡º Run çš„å¯é€‰æ‹©èœå• Control + Option + D å¼¹å‡º Debug çš„å¯é€‰æ‹©èœå• Control + R è¿è¡Œ Control + D è°ƒè¯• Control + Shift + R, Control + Shift + D ä»ç¼–è¾‘å™¨è¿è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒé…ç½® Debuggingï¼ˆè°ƒè¯•ï¼‰ F8 è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™ä¸è¿›å…¥å½“å‰æ–¹æ³•ä½“å†… F7 è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚æœå½“å‰è¡Œæ–­ç‚¹æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆ™è¿›å…¥å½“å‰æ–¹æ³•ä½“å†…ï¼Œå¦‚æœè¯¥æ–¹æ³•ä½“è¿˜æœ‰æ–¹æ³•ï¼Œåˆ™ä¸ä¼šè¿›å…¥è¯¥å†…åµŒçš„æ–¹æ³•ä¸­ Shift + F7 æ™ºèƒ½æ­¥å…¥ï¼Œæ–­ç‚¹æ‰€åœ¨è¡Œä¸Šæœ‰å¤šä¸ªæ–¹æ³•è°ƒç”¨ï¼Œä¼šå¼¹å‡ºè¿›å…¥å“ªä¸ªæ–¹æ³• Shift + F8 è·³å‡º Option + F9 è¿è¡Œåˆ°å…‰æ ‡å¤„ï¼Œå¦‚æœå…‰æ ‡å‰æœ‰å…¶ä»–æ–­ç‚¹ä¼šè¿›å…¥åˆ°è¯¥æ–­ç‚¹ Option + F8 è®¡ç®—è¡¨è¾¾å¼ï¼ˆå¯ä»¥æ›´æ”¹å˜é‡å€¼ä½¿å…¶ç”Ÿæ•ˆï¼‰ Command + OptionR æ¢å¤ç¨‹åºè¿è¡Œï¼Œå¦‚æœè¯¥æ–­ç‚¹ä¸‹é¢ä»£ç è¿˜æœ‰æ–­ç‚¹åˆ™åœåœ¨ä¸‹ä¸€ä¸ªæ–­ç‚¹ä¸Š Command + F8 åˆ‡æ¢æ–­ç‚¹ï¼ˆè‹¥å…‰æ ‡å½“å‰è¡Œæœ‰æ–­ç‚¹åˆ™å–æ¶ˆæ–­ç‚¹ï¼Œæ²¡æœ‰åˆ™åŠ ä¸Šæ–­ç‚¹ï¼‰ Command + Shift + F8 æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯ Navigationï¼ˆå¯¼èˆªï¼‰ Command + O æŸ¥æ‰¾ç±»æ–‡ä»¶ Command + Shift + O æŸ¥æ‰¾æ‰€æœ‰ç±»å‹æ–‡ä»¶ã€æ‰“å¼€æ–‡ä»¶ã€æ‰“å¼€ç›®å½•ï¼Œæ‰“å¼€ç›®å½•éœ€è¦åœ¨è¾“å…¥çš„å†…å®¹å‰é¢æˆ–åé¢åŠ ä¸€ä¸ªåæ–œæ / Command + OptionO å‰å¾€æŒ‡å®šçš„å˜é‡ / æ–¹æ³• Control + â† / Control + â†’ å·¦å³åˆ‡æ¢æ‰“å¼€çš„ç¼–è¾‘tabé¡µ F12 è¿”å›åˆ°å‰ä¸€ä¸ªå·¥å…·çª—å£ Esc ä»å·¥å…·çª—å£è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ Shift + Esc éšè—å½“å‰æˆ–æœ€åä¸€ä¸ªæ´»åŠ¨çš„çª—å£ï¼Œä¸”å…‰æ ‡è¿›å…¥ä»£ç æ–‡ä»¶çª—å£ Command + Shift + F4 å…³é—­æ´»åŠ¨run/messages/Find/â€¦ tab Command + L åœ¨å½“å‰æ–‡ä»¶è·³è½¬åˆ°æŸä¸€è¡Œçš„æŒ‡å®šå¤„ Command + E æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶è®°å½•åˆ—è¡¨ Command + Option + â† / Command + Option + â†’ é€€å› / å‰è¿›åˆ°ä¸Šä¸€ä¸ªæ“ä½œçš„åœ°æ–¹ Command + Shift + Delete è·³è½¬åˆ°æœ€åä¸€ä¸ªç¼–è¾‘çš„åœ°æ–¹ Option + F1 æ˜¾ç¤ºå½“å‰æ–‡ä»¶é€‰æ‹©ç›®æ ‡å¼¹å‡ºå±‚ï¼Œå¼¹å‡ºå±‚ä¸­æœ‰å¾ˆå¤šç›®æ ‡å¯ä»¥è¿›è¡Œé€‰æ‹©(å¦‚åœ¨ä»£ç ç¼–è¾‘çª—å£å¯ä»¥é€‰æ‹©æ˜¾ç¤ºè¯¥æ–‡ä»¶çš„Finder) Command + B / Command + é¼ æ ‡ç‚¹å‡» è¿›å…¥å…‰æ ‡æ‰€åœ¨çš„æ–¹æ³•/å˜é‡çš„æ¥å£æˆ–æ˜¯å®šä¹‰å¤„ Command + Option + B è·³è½¬åˆ°å®ç°å¤„ï¼Œåœ¨æŸä¸ªè°ƒç”¨çš„æ–¹æ³•åä¸Šä½¿ç”¨ä¼šè·³åˆ°å…·ä½“çš„å®ç°å¤„ï¼Œå¯ä»¥è·³è¿‡æ¥å£ Command + Y å¿«é€Ÿæ‰“å¼€å…‰æ ‡æ‰€åœ¨æ–¹æ³•ã€ç±»çš„å®šä¹‰ Control + Shift + B è·³è½¬åˆ°ç±»å‹å£°æ˜å¤„ Command + U å‰å¾€å½“å‰å…‰æ ‡æ‰€åœ¨æ–¹æ³•çš„çˆ¶ç±»çš„æ–¹æ³• / æ¥å£å®šä¹‰ Control + â†“ / Control + â†‘ å½“å‰å…‰æ ‡è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„å‰ä¸€ä¸ª/åä¸€ä¸ªæ–¹æ³•åä½ç½® Command + ] / Command + [ ç§»åŠ¨å…‰æ ‡åˆ°å½“å‰æ‰€åœ¨ä»£ç çš„èŠ±æ‹¬å·å¼€å§‹/ç»“æŸä½ç½® Command + F12 å¼¹å‡ºå½“å‰æ–‡ä»¶ç»“æ„å±‚ï¼Œå¯ä»¥åœ¨å¼¹å‡ºçš„å±‚ä¸Šç›´æ¥è¾“å…¥è¿›è¡Œç­›é€‰ï¼ˆå¯ç”¨äºæœç´¢ç±»ä¸­çš„æ–¹æ³•ï¼‰ Control + H æ˜¾ç¤ºå½“å‰ç±»çš„å±‚æ¬¡ç»“æ„ Command + Shift + H æ˜¾ç¤ºæ–¹æ³•å±‚æ¬¡ç»“æ„ Control + OptionH æ˜¾ç¤ºè°ƒç”¨å±‚æ¬¡ç»“æ„ F2 / Shift + F2 è·³è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªçªå‡ºé”™è¯¯æˆ–è­¦å‘Šçš„ä½ç½® F4 / Command + â†“ ç¼–è¾‘/æŸ¥çœ‹ä»£ç æº Option Home æ˜¾ç¤ºåˆ°å½“å‰æ–‡ä»¶çš„å¯¼èˆªæ¡ F3é€‰ä¸­æ–‡ä»¶/æ–‡ä»¶å¤¹/ä»£ç è¡Œï¼Œæ·»åŠ /å–æ¶ˆä¹¦ç­¾ Option + F3 é€‰ä¸­æ–‡ä»¶/æ–‡ä»¶å¤¹/ä»£ç è¡Œï¼Œä½¿ç”¨åŠ©è®°ç¬¦æ·»åŠ /å–æ¶ˆä¹¦ç­¾ Control + 0...Control + 9 å®šä½åˆ°å¯¹åº”æ•°å€¼çš„ä¹¦ç­¾ä½ç½® Command + F3 æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç­¾ ReFactoringï¼ˆé‡æ„ï¼‰ F5 å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šç›®å½• F6 ç§»åŠ¨æ–‡ä»¶åˆ°æŒ‡å®šç›®å½• Command + Delete åœ¨æ–‡ä»¶ä¸Šä¸ºå®‰å…¨åˆ é™¤æ–‡ä»¶ï¼Œå¼¹å‡ºç¡®è®¤æ¡† Shift + F6 é‡å‘½åæ–‡ä»¶ Command + F6 æ›´æ”¹ç­¾å Command + Option + N ä¸€è‡´æ€§ Command + Option + M å°†é€‰ä¸­çš„ä»£ç æå–ä¸ºæ–¹æ³• Command + Option + V æå–å˜é‡ Command + Option + F æå–å­—æ®µ Command + Option + C æå–å¸¸é‡ Command + Option +P æå–å‚æ•° VCS/Local Historyï¼ˆç‰ˆæœ¬æ§åˆ¶/æœ¬åœ°å†å²è®°å½•ï¼‰ Control + 9 å¿«é€Ÿå¼¹å‡ºç‰ˆæœ¬æ§åˆ¶å™¨æ“ä½œé¢æ¿ Command + K æäº¤ä»£ç åˆ°ç‰ˆæœ¬æ§åˆ¶å™¨ Command + T ä»ç‰ˆæœ¬æ§åˆ¶å™¨æ›´æ–°ä»£ç  Option + Shift + C æŸ¥çœ‹æœ€è¿‘çš„å˜æ›´è®°å½• Live Templatesï¼ˆåŠ¨æ€ä»£ç æ¨¡æ¿ï¼‰ Command + Option + J å¼¹å‡ºæ¨¡æ¿é€‰æ‹©çª—å£ï¼Œå°†é€‰å®šçš„ä»£ç ä½¿ç”¨åŠ¨æ€æ¨¡æ¿åŒ…ä½ Command + J æ’å…¥è‡ªå®šä¹‰åŠ¨æ€ä»£ç æ¨¡æ¿ Generalï¼ˆé€šç”¨ï¼‰ Command + 1...Command + 9 æ‰“å¼€ç›¸åº”ç¼–å·çš„å·¥å…·çª—å£ Command + S ä¿å­˜æ‰€æœ‰ Command + OptionY åŒæ­¥ã€åˆ·æ–° Control + Command + F åˆ‡æ¢å…¨å±æ¨¡å¼ Command + Shift + F12 åˆ‡æ¢æœ€å¤§åŒ–ç¼–è¾‘å™¨ Option + Shift + F æ·»åŠ åˆ°æ”¶è—å¤¹ Option + Shift + I æ£€æŸ¥å½“å‰æ–‡ä»¶ä¸å½“å‰çš„é…ç½®æ–‡ä»¶ Control + ` å¿«é€Ÿåˆ‡æ¢å½“å‰çš„schemeï¼ˆåˆ‡æ¢ä¸»é¢˜ã€ä»£ç æ ·å¼ç­‰ï¼‰ Command + , æ‰“å¼€IDEAç³»ç»Ÿè®¾ç½® Command + ; æ‰“å¼€é¡¹ç›®ç»“æ„å¯¹è¯æ¡† Shift + Command + A æŸ¥æ‰¾åŠ¨ä½œï¼ˆå¯è®¾ç½®ç›¸å…³é€‰é¡¹ï¼‰ Control + Tab ç¼–è¾‘çª—å£æ ‡ç­¾å’Œå·¥å…·çª—å£ä¹‹é—´åˆ‡æ¢ï¼ˆå¦‚æœåœ¨åˆ‡æ¢çš„è¿‡ç¨‹åŠ æŒ‰ä¸Šdeleteï¼Œåˆ™æ˜¯å…³é—­å¯¹åº”é€‰ä¸­çš„çª—å£ï¼‰ Otherï¼ˆä¸€äº›å®˜æ–¹æ–‡æ¡£ä¸Šæ²¡æœ‰ä½“ç°çš„å¿«æ·é”®ï¼‰ Command + Shift + 8 ç«–ç¼–è¾‘æ¨¡å¼ Command + Shift + A æŸ¥æ‰¾åŠ¨ä½œ Alt + F1 å¿«æ·é€‰æ‹© Command + Option+F7 è¿™ä¸ªæ˜¯æŸ¥æ‰¾é€‰ä¸­çš„å­—ç¬¦åœ¨å·¥ç¨‹ä¸­å‡ºç°çš„åœ°æ–¹ï¼Œå¯ä»¥ä¸æ˜¯æ–¹æ³•å˜é‡ç±»ç­‰ï¼Œè¿™ä¸ªå’Œä¸Šé¢çš„æœ‰åŒºåˆ«çš„ Commandï¼‹F7 å¯ä»¥æŸ¥è¯¢å½“å‰å…ƒç´ åœ¨å½“å‰æ–‡ä»¶ä¸­çš„å¼•ç”¨ï¼Œç„¶åæŒ‰F3å¯ä»¥é€‰æ‹© ï¼ŒåŠŸèƒ½åŸºæœ¬åŒä¸Š é€‰ä¸­æ–‡æœ¬ï¼ŒæŒ‰ Command + Shift + F7 ï¼Œé«˜äº®æ˜¾ç¤ºæ‰€æœ‰è¯¥æ–‡æœ¬ï¼ŒæŒ‰Escé«˜äº®æ¶ˆå¤±ã€‚ Option+F7 æŸ¥æ‰¾å˜é‡æ–¹æ³•ä½¿ç”¨çš„åœ°æ–¹ Command + Shift + R å¯ä»¥åœ¨æ•´ä¸ªå·¥ç¨‹æˆ–ç€æŸä¸ªç›®å½•ä¸‹é¢æ›¿æ¢å˜é‡ Control + Shift + J æŠŠå¤šè¡Œè¿æ¥æˆä¸€è¡Œï¼Œä¼šå»æ‰ç©ºæ ¼çš„è¡Œ Command + J å¯ä»¥ç”Ÿæˆä¸€äº›è‡ªåŠ¨ä»£ç ï¼Œæ¯”å¦‚Forå¾ªç¯ Command + B æ‰¾å˜é‡çš„æ¥æº åŒF4 æŸ¥æ‰¾å˜é‡æ¥æº Control + Shift + B æ‰¾å˜é‡æ‰€å±çš„ç±» Command + G æŸ¥æ‰¾å˜é‡å¹¶ä¸”å®šä½ Command + Shift + F å¯ä»¥åœ¨æ•´ä¸ªå·¥ç¨‹æˆ–ç€æŸä¸ªç›®å½•ä¸‹é¢æŸ¥æ‰¾å˜é‡ ç›¸å½“äºeclipseé‡Œçš„ ctrl+H Option + Shift + C æœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶ Command + Option+L æ ¼å¼åŒ–ä»£ç  Command + Shift + enter ä»£ç è¡¥å…¨ï¼Œè¿™ä¸ªä¼šåˆ¤æ–­å¯èƒ½ç”¨åˆ°çš„ï¼Œè¿™ä¸ªä»£ç è¡¥å…¨å’Œä»£ç æç¤ºæ˜¯ä¸ä¸€æ ·çš„ Command + Option+T æŠŠé€‰ä¸­çš„ä»£ç æ”¾åœ¨ TRY{} IF{} ELSE{} é‡Œ Command + Option+/ æ³¨é‡Š/â€¦/ Command + Option+å·¦å³ç®­å¤´ è¿”å›ä¸Šæ¬¡ç¼–è¾‘çš„ä½ç½® Command + å·¦å³ç®­å¤´ è¿”å›æœ€å·¦è¾¹æœ€å³è¾¹ Command + Shift + ä¸Šä¸‹ç®­å¤´ æŠŠä»£ç ä¸Šç§»æˆ–ç€ä¸‹ç§» Command + F12 å¯ä»¥æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ç»“æ„","categories":[{"name":"IDEA","slug":"IDEA","permalink":"https://withoutcause.github.io/categories/IDEA/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"https://withoutcause.github.io/tags/IDEA/"}]},{"title":"MapStructå®ç”¨","slug":"MapStructå®ç”¨","date":"2021-08-02T15:46:16.000Z","updated":"2021-08-02T15:46:16.000Z","comments":true,"path":"2021/08/02/MapStructå®ç”¨/","link":"","permalink":"https://withoutcause.github.io/2021/08/02/MapStruct%E5%AE%9E%E7%94%A8/","excerpt":"Maven ä¾èµ–åœ¨ pom.xml ä¸­åŠ å…¥ä»¥ä¸‹ä¾èµ– 1234567891011121314151617181920212223242526272829303132&lt;properties&gt; &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;annotationProcessorPaths&gt; &lt;path&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/path&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;","text":"Maven ä¾èµ–åœ¨ pom.xml ä¸­åŠ å…¥ä»¥ä¸‹ä¾èµ– 1234567891011121314151617181920212223242526272829303132&lt;properties&gt; &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;annotationProcessorPaths&gt; &lt;path&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/path&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; å¦‚æœä½¿ç”¨äº† lombok è¿˜éœ€è¦å†æ·»åŠ ä»¥ä¸‹å†…å®¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;properties&gt; &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt; &lt;org.projectlombok.version&gt;1.18.16&lt;/org.projectlombok.version&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;$&#123;org.projectlombok.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;annotationProcessorPaths&gt; &lt;path&gt; &lt;groupId&gt;org.mapstruct&lt;/groupId&gt; &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt; &lt;version&gt;$&#123;org.mapstruct.version&#125;&lt;/version&gt; &lt;/path&gt; &lt;!-- lombok éœ€è¦æ·»åŠ ä»¥ä¸‹å†…å®¹ --&gt; &lt;path&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;$&#123;org.projectlombok.version&#125;&lt;/version&gt; &lt;/path&gt; &lt;!-- lombok ç‰ˆæœ¬å¤§äºç­‰äº 1.18.16 è¿˜éœ€è¦æ·»åŠ ä»¥ä¸‹å†…å®¹ --&gt; &lt;path&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt; &lt;version&gt;0.1.0&lt;/version&gt; &lt;/path&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; MapStruct æ˜¯ç”¨æ¥åšä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œåœ¨å¹³å¸¸çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨åˆ° BeanUtils è¿™ç§å·¥å…·ã€‚BeanUtils çš„é—®é¢˜åœ¨äºï¼Œä»–å¯¹æ¯ä¸ªæˆå‘˜äº¦æ˜¯èµ‹å€¼æ˜¯é€šè¿‡åå°„æ¥åšçš„ï¼Œå¹¶ä¸”æˆå‘˜å˜é‡çš„å­—æ®µåå¿…é¡»ä¸€è‡´ã€‚è€Œ MapStruct æ˜¯åœ¨ç¼–è¯‘æœŸå®Œæˆè¿™ä»¶äº‹æƒ…çš„ï¼Œè¿˜å¯ä»¥å°†ä¸åŒåç§°ï¼Œä¸åŒç±»å‹çš„æˆå‘˜å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ å®šä¹‰ Mapperåœ¨æ¥å£ä¸Šæ‰“ä¸Š @Mapper æ³¨è§£, MapStruct ä¼šç”Ÿæˆå¯¹åº”çš„æ¥å£å®ç°ã€‚ 1234@Mapperpublic interface Convert &#123;&#125; ä½¿ç”¨ Convertæ™®é€šæ–¹å¼(æ¨è)123456@Mapperpublic interface Convert &#123; Convert INSTANCE = Mappers.getMapper(Convert.class); @Mapping(source = &quot;createTime&quot;, target = &quot;createTime&quot;, dateFormat = &quot;yyyy-MM-dd&quot;) Person personDTO2Person(PersonDTO personDTO);&#125; è°ƒç”¨æ˜ å°„ä½¿ç”¨æ—¶ï¼ŒConvert.INSTANCE.personDTO2Person(personDTO) å³å¯ã€‚ Springæ–¹å¼12345@Mapper(componentModel = &quot;spring&quot;)public interface PersonConvert &#123; @Mapping(source = &quot;createTime&quot;, target = &quot;createTime&quot;, dateFormat = &quot;yyyy-MM-dd&quot;) Person personDTO2Person(PersonDTO personDTO);&#125; ä¼šæ£€æŸ¥ classpath ä¸‹æ˜¯å¦é¥®é£Ÿ spring ç›¸å…³ä¾èµ– ä½¿ç”¨æ—¶ï¼Œ ç”¨ Spring çš„æ³¨è§£ @Autowired æ³¨å…¥ã€‚ @Mapping æ³¨è§£source æŒ‡å®šæºåç§°ï¼Œå³è¦æ˜ å°„çš„å¯¹è±¡çš„åç§° ä¸èƒ½ä¸constant æˆ– expression target æŒ‡å®šç›®æ ‡åç§°ï¼Œå³è¢«æ˜ å°„çš„å¯¹è±¡åç§° constant å°†ç›®æ ‡å¯¹è±¡èµ‹å€¼ä¸ºæŒ‡å®šçš„å¸¸é‡ ä¸èƒ½ä¸source ï¼Œ defaultValue ï¼Œ defaultExpression æˆ– expression åŒæ—¶å­˜åœ¨ dateFormat å°†ä» String æ˜ å°„åˆ° Date ï¼Œ SimpleDateFormat è¿›è¡Œå¤„ç†ã€‚ numberFormat å°†ä» Number æ˜ å°„åˆ° String , DecimalFormat è¿›è¡Œå¤„ç†ã€‚å…¶ä»–ç±»å‹å°†è¢«å¿½ç•¥ expression ä½¿ç”¨ java è¡¨è¾¾å¼è¿›è¡Œæ˜ å°„ã€‚ æ ¼å¼ä¸º: java()ã€‚ä¾‹: 12@Mapping(target = &quot;name&quot;, expresession = &quot;java(new Date().getTime())&quot;)Person personDTO2Person(PersonDTO personDTO); ä¸èƒ½ä¸ ä¸sourceï¼Œ defaultValue ï¼Œ defaultExpression å’Œ constant åŒæ—¶ä½¿ç”¨ defaultExpression ä½œç”¨ä¸ expression ç±»ä¼¼ï¼Œåœ¨ source ä¸º null çš„æ—¶å€™åº”ç”¨ã€‚ ä¸èƒ½ä¸ expression ï¼Œ defaultValue æˆ– constant ignore æŒ‡å®šå­—æ®µå¿½ç•¥ defaultValue å½“ source ä¸º null çš„æ—¶å€™ï¼Œä¸º target å­—æ®µæŒ‡å®šé»˜è®¤å€¼ã€‚ qualifiedByqualifiedByNameresultTypedependsOnnullValueCheckStrategynullValuePropertyMappingStrategyæ˜ å°„æŠ€å·§ç›¸åŒç±»å‹ç›¸åŒåç§°çš„æ˜ å°„ ç›´æ¥å†™å¯¹åº”çš„æ˜ å°„æ–¹æ³•å³å¯ï¼Œåœ¨å‚æ•°å’Œè¿”å›å€¼åˆ†åˆ«å†™å¯¹è±¡çš„ Bean å¯¹è±¡å³å¯ã€‚ 12345@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); Person personDTO2Person(PersonDTO personDTO);&#125; ç›¸åŒç±»å‹ä¸åŒåç§°çš„æ˜ å°„ ä½¿ç”¨ @Mapping æ³¨è§£æ ‡æ³¨å¯¹åº”çš„ source å’Œ target ï¼Œsource æºå¯¹è±¡çš„åç§°, target ç›®æ ‡åç§°ã€‚ 123456@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;createTime&quot;, target = &quot;time&quot;) Person personDTO2Person(PersonDTO personDTO);&#125; ä¸åŒç±»å‹ç›¸åŒåç§°çš„æ˜ å°„int åˆ° String12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455@Datapublic class Person &#123; private String name; private String age; private LocalDate createTime;&#125;@Datapublic class PersonDTO &#123; private String name; private Integer age; private LocalDate createTime;&#125;@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); Person personDTO2Person(PersonDTO personDTO);&#125;// PersonDTO æ˜ å°„åˆ° Personï¼Œage å­—æ®µåœ¨ Person ä¸­æ˜¯ Stringï¼ŒPersonDTO ä¸­æ˜¯ Integerï¼Œç›´æ¥æ˜ å°„å³å¯ï¼Œä¸ç”¨åŠ é¢å¤–çš„ä¸œè¥¿// ç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼špublic class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTO2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); person.setName( personDTO.getName() ); if ( personDTO.getAge() != null ) &#123; // è¿™é‡Œä¼šè‡ªåŠ¨åŠ ä¸Šè½¬æ¢çš„ä»£ç ã€‚ person.setAge( String.valueOf( personDTO.getAge() ) ); &#125; person.setCreateTime( personDTO.getCreateTime() ); return person; &#125;&#125;// åè¿‡æ¥æ˜ å°„ï¼Œ personDTO ä¸­æ˜¯ String, Person ä¸­æ˜¯ Integer,ç”Ÿæˆçš„ä»£ç å¦‚ä¸‹ï¼špublic class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTO2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); person.setName( personDTO.getName() ); if ( personDTO.getAge() != null ) &#123; // è¿™é‡Œä¼šè‡ªåŠ¨åŠ ä¸Šè½¬æ¢çš„ä»£ç ã€‚ person.setAge( Integer.parseInt( personDTO.getAge() ) ); &#125; person.setCreateTime( personDTO.getCreateTime() ); return person; &#125;&#125; enum åˆ° String è°ƒç”¨å¯¹åº”æšä¸¾çš„ name() æ–¹æ³•ï¼Œç„¶åå† set åˆ°å¯¹åº”å­—æ®µã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142@Datapublic class Person &#123; private String name; private Integer age; private LocalDate createTime; private String sex;&#125;@Datapublic class Person &#123; private String name; private Integer age; private LocalDate createTime; private String sex;&#125;// è½¬æ¢ Convert@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); Person personDTO2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTO2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); person.setName( personDTO.getName() ); if ( personDTO.getAge() != null ) &#123; person.setAge( Integer.parseInt( personDTO.getAge() ) ); &#125; person.setCreateTime( personDTO.getCreateTime() ); if ( personDTO.getSex() != null ) &#123; person.setSex( personDTO.getSex().name() ); &#125; return person; &#125;&#125; æ€è€ƒ:å¦‚æœæ˜¯æšä¸¾ä¸­çš„æŸä¸ªå­—æ®µï¼Œä¾‹å¦‚: 123456789@Getterpublic enum SexEnum &#123; MAN(1), WOMAN(0); private int sex; SexEnum(int sex) &#123; this.sex = sex; &#125;&#125; å…¶ä¸­çš„æ•°å­—è¦æ˜ å°„åˆ°å¯¹åº”çš„å¯¹è±¡å¦‚ä½•è½¬æ¢ï¼Ÿ Person å®šä¹‰å¦‚ä¸‹: 123456789@Datapublic class Person &#123; private String name; private Integer age; private LocalDate createTime; // 1-ç”·ï¼Œ0-å¥³ private Integer sex;&#125; åè¿‡æ¥å‘¢ï¼Ÿ 0/1 æ˜ å°„æˆå¯¹åº”çš„æšä¸¾ã€‚ BigDecimal åˆ° String å°†æ•°å­—è¿›è¡Œæ ¼å¼åŒ–å¤„ç† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455@Datapublic class PersonDTO &#123; private String name; private String age; private LocalDate createTime; private SexEnum sex; private BigDecimal power;&#125;@Datapublic class Person &#123; private String name; private Integer age; private LocalDate createTime; private String sex; private String power;&#125;// æ˜ å°„ Convert@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(target = &quot;power&quot;, source = &quot;power&quot;, numberFormat = &quot;#.##E0&quot;) Person personDTO2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„ä»£ç ï¼Œä½¿ç”¨ DecimalFormat è¿›è¡Œæ ¼å¼åŒ–å¤„ç†public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTO2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); if ( personDTO.getPower() != null ) &#123; person.setPower( createDecimalFormat( &quot;#.##E0&quot; ).format( personDTO.getPower() ) ); &#125; person.setName( personDTO.getName() ); if ( personDTO.getAge() != null ) &#123; person.setAge( Integer.parseInt( personDTO.getAge() ) ); &#125; person.setCreateTime( personDTO.getCreateTime() ); if ( personDTO.getSex() != null ) &#123; person.setSex( personDTO.getSex().name() ); &#125; return person; &#125; private DecimalFormat createDecimalFormat( String numberFormat ) &#123; DecimalFormat df = new DecimalFormat( numberFormat ); df.setParseBigDecimal( true ); return df; &#125;&#125; Date åˆ° String æ”¯æŒ Date ã€Calendarã€LocalDateã€Instantã€ZonedDateTimeã€LocalDateTime ç­‰å¤šç§ç±»å‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Datapublic class PersonDTO &#123; private String name; private String age; private LocalDate createTime; private SexEnum sex;&#125;@Datapublic class Person &#123; private String name; private Integer age; private String createTime; private String sex;&#125;// æ˜ å°„çš„ Convertï¼Œ@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(target = &quot;createTime&quot;, source = &quot;createTime&quot;, dateFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;) Person personDTO2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„ä»£ç ï¼Œ ä½¿ç”¨ DateTimeFormatter è¿›è¡Œæ ¼å¼ï¼Œå¦‚æœæ˜¯ Date ä¼šä½¿ç”¨ SimpleDateFormt è¿›è¡Œæ ¼å¼åŒ–ã€‚public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTO2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); if ( personDTO.getCreateTime() != null ) &#123; person.setCreateTime( DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd HH:mm:ss&quot; ).format( personDTO.getCreateTime() ) ); &#125; person.setName( personDTO.getName() ); if ( personDTO.getAge() != null ) &#123; person.setAge( Integer.parseInt( personDTO.getAge() ) ); &#125; if ( personDTO.getSex() != null ) &#123; person.setSex( personDTO.getSex().name() ); &#125; return person; &#125;&#125; ä¸åŒç±»å‹ä¸åŒåç§°çš„æ˜ å°„ éœ€è¦åœ¨ @Mapping æ³¨è§£çš„ target ä¸­æŒ‡å®šç›®æ ‡åç§°ã€‚ 1234567@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;createTime&quot;, target = &quot;time&quot;, dateFormat = &quot;yyyy-MM-dd HH:mm:ss&quot;) Person personDTO2Person(PersonDTO personDTO);&#125; å¤šä¸ªåŒåå‚æ•°çš„æˆå‘˜å˜é‡ åœ¨è½¬æ¢çš„æ–¹æ³•ä¸­æœ‰å¤šä¸ªå‚æ•°ï¼Œå‚æ•°ä¸º DTO å¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡å¯èƒ½ä¼šå‡ºç°é‡åçš„æƒ…å†µã€‚ä¾‹å¦‚: 12345678910111213141516@Datapublic class PersonDTO &#123; private String name;&#125;@Datapublic class UserDTO &#123; private String name;&#125;// æ˜ å°„åçš„å¯¹è±¡ï¼Œ userDTO.name -&gt; nickname; personDTO.name -&gt; name;@Datapublic class Person &#123; private String name; private String nickName;&#125; æ˜ å°„æ—¶éœ€è¦æŒ‡å®šæ˜ å°„çš„åç§° 123456789101112131415161718192021222324252627@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;userDTO.name&quot;, target = &quot;nickName&quot;) @Mapping(source = &quot;personDTO.name&quot;, target = &quot;name&quot;) Person personDTOUSer2Person(PersonDTO personDTO, UserDTO userDTO);&#125;// ç”Ÿæˆçš„ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTOUSer2Person(PersonDTO personDTO, UserDTO userDTO) &#123; if ( personDTO == null &amp;&amp; userDTO == null ) &#123; return null; &#125; Person person = new Person(); if ( personDTO != null ) &#123; person.setName( personDTO.getName() ); &#125; if ( userDTO != null ) &#123; person.setNickName( userDTO.getName() ); &#125; return person; &#125;&#125; åœ¨å‚æ•°ä¸Šæ˜ å°„è€Œä¸è¿”å›å€¼ ä¸Šé¢çš„æ˜ å°„å…¨éƒ½æ˜¯æŠŠå‚æ•°æ˜ å°„æˆå¯¹åº”çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬æ¥æ”¶åˆ°çš„è¿”å›å€¼æ˜¯æ˜ å°„åçš„å¯¹è±¡ã€‚è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼Œè¿”å›å¯¹è±¡æ˜¯æ–° new çš„ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜ å°„éƒ¨åˆ†å­—æ®µæƒ³è¦ä¼ å…¥ä¸€ä¸ªå·²ç»æ‰‹åŠ¨ new å¥½çš„å¯¹è±¡æ¥æ˜ å°„ã€‚ ä½¿ç”¨ @MappingTarget æ¥æ ‡è®°è¿”å›çš„å¯¹è±¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940@Datapublic class PersonDTO &#123; private String name;&#125;@Datapublic class UserDTO &#123; private String name;&#125;@Datapublic class Person &#123; private String name; private String nickName;&#125;@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;userDTO.name&quot;, target = &quot;nickName&quot;) @Mapping(source = &quot;personDTO.name&quot;, target = &quot;name&quot;) void personDTOUSer2Person(PersonDTO personDTO, UserDTO userDTO, @MappingTarget Person person);&#125;// ç”Ÿæˆçš„ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public void personDTOUSer2Person(PersonDTO personDTO, UserDTO userDTO, Person person) &#123; if ( personDTO == null &amp;&amp; userDTO == null ) &#123; return; &#125; if ( personDTO != null ) &#123; person.setName( personDTO.getName() ); &#125; if ( userDTO != null ) &#123; person.setNickName( userDTO.getName() ); &#125; &#125;&#125; æˆå‘˜å˜é‡ç›´æ¥æ˜ å°„ å³æ²¡æœ‰ get å’Œ set æ–¹æ³•ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ public å®šä¹‰çš„æˆå‘˜å˜é‡ 123456789101112131415161718192021222324252627282930public class PersonDTO &#123; public String name; public Integer age;&#125;public class Person &#123; public String name; public Integer age;&#125;// æ˜ å°„@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); Person personDTOUSer2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTOUSer2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); person.name = personDTO.name; person.age = personDTO.age; return person; &#125;&#125; åµŒå¥—çš„ Bean æ˜ å°„ å¯¹è±¡ä¸­æœ‰å¤šå±‚åµŒå¥— 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061@Datapublic class PersonDTO &#123; private String name; private Integer age; private Record record; @Data public static class Record &#123; private String recordName; private Integer number; &#125;&#125;@Datapublic class Person &#123; private String personName; private Integer age; private Integer account;&#125;// å°† PersonDTO ä¸­çš„ name æ˜ å°„ä¸º personName// age æ˜ å°„ä¸º age// Record ä¸­çš„ number æ˜ å°„ä¸º Person ä¸­çš„ account@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;record.number&quot;, target = &quot;account&quot;) @Mapping(source = &quot;name&quot;, target = &quot;personName&quot;) Person personDTOUSer2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTOUSer2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Person person = new Person(); person.setAccount( personDTORecordNumber( personDTO ) ); person.setPersonName( personDTO.getName() ); person.setAge( personDTO.getAge() ); return person; &#125; private Integer personDTORecordNumber(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; Record record = personDTO.getRecord(); if ( record == null ) &#123; return null; &#125; Integer number = record.getNumber(); if ( number == null ) &#123; return null; &#125; return number; &#125;&#125; Builder æ¨¡å¼æ˜ å°„ è¢«æ˜ å°„ä»£ç æ˜¯åŸºäº Builder æ¨¡å¼è®¾è®¡çš„ 12345678910111213141516171819202122232425262728293031@Datapublic class PersonDTO &#123; private String name; private Integer age;&#125;@Builderpublic class Person &#123; private String name; private Integer age;&#125;// æ˜ å°„å™¨@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); Person personDTOUSer2Person(PersonDTO personDTO);&#125;// ç”Ÿæˆçš„æ˜ å°„å™¨ä»£ç public class PersonConvertImpl implements PersonConvert &#123; @Override public Person personDTOUSer2Person(PersonDTO personDTO) &#123; if ( personDTO == null ) &#123; return null; &#125; PersonBuilder person = Person.builder(); person.name( personDTO.getName() ); person.age( personDTO.getAge() ); return person.build(); &#125;&#125; æ„é€ å™¨æ˜ å°„ åªæœ‰ä¸€ä¸ªå…¬å…±çš„æ„é€ å™¨ æœ‰ä¸€ä¸ª @Default æ³¨è§£ï¼Œå¯ä»¥æ¥è‡ªä»»ä½•åŒ…ã€‚ æœ‰ä¸€ä¸ªæ— å‚æ„é€ å™¨ï¼ŒåŒæ—¶è¿˜åŒ…å«å…¶ä»–æ„é€ å™¨ã€‚ æœ‰å¤šä¸ªå…¬å…±æ„é€ å™¨ï¼Œä¸å«æ— å‚æ„é€ å™¨ï¼Œï¼ˆç¼–è¯‘é”™è¯¯ï¼‰ã€‚ 1234567891011121314151617@Getter@AllArgsConstructorpublic class PersonDTO &#123; private String name; private Integer age;&#125;@Getter@AllArgsConstructorpublic class Person &#123; private String name; private Integer age;&#125; åªæœ‰ä¸€ä¸ªå…¬å…±çš„æ„é€ å™¨1 é›†åˆæ˜ å°„Mapæ˜ å°„å…¶ä»–ç”¨æ³•å‘æ˜ å°„å™¨æ·»åŠ è‡ªå®šä¹‰æ–¹æ³• åœ¨æ¥å£ä¸­å†™ä¸€ä¸ª default æ–¹æ³•å³å¯ï¼Œè¿™å…¶å®å°±æ˜¯è‡ªå·±æ‰‹åŠ¨å†™ä¸ªæ–¹æ³•ã€‚**(å¾ˆå°‘ä¼šç”¨)** 1234567891011121314@Mapperpublic interface PersonConvert &#123; PersonConvert INSTANCE = Mappers.getMapper(PersonConvert.class); @Mapping(source = &quot;createTime&quot;, target = &quot;createTime&quot;, dateFormat = &quot;yyyy-MM-dd&quot;) Person personDTO2Person(PersonDTO personDTO); default PersonDTO person2PersonDTO(Person person) &#123; PersonDTO dto = new PersonDTO(); dto.setName(&quot;å¼ ä¸‰&quot;); dto.setAge(person.getAge() + 13); dto.setCreateTime(&quot;è¿™ä¸ªæ—¶é—´å¾ˆå¥‡æ€ªï¼Œæˆ‘å¿…é¡»æ‰‹åŠ¨å®ç°&quot;); return dto; &#125;&#125; åœ¨æŠ½è±¡ç±»ä¸­å®ç°ã€‚ä¹Ÿæ˜¯ä¸€æ ·å†™ä¸€ä¸ª public çš„æ–¹æ³•å³å¯ï¼ŒMapstruct çš„å®ç°æ˜¯ï¼Œç»§æ‰¿æˆ‘ä»¬è‡ªå·±å†™çš„é‚£ä¸ªæŠ½è±¡ç±»ã€‚(åŸºæœ¬ä¸ç”¨)","categories":[{"name":"MapStruct","slug":"MapStruct","permalink":"https://withoutcause.github.io/categories/MapStruct/"}],"tags":[{"name":"MapStruct","slug":"MapStruct","permalink":"https://withoutcause.github.io/tags/MapStruct/"}]},{"title":"Nettyä¹‹IMåˆè¯•","slug":"Nettyä¹‹IMåˆè¯•","date":"2021-08-02T15:27:59.000Z","updated":"2021-08-02T15:27:59.000Z","comments":true,"path":"2021/08/02/Nettyä¹‹IMåˆè¯•/","link":"","permalink":"https://withoutcause.github.io/2021/08/02/Netty%E4%B9%8BIM%E5%88%9D%E8%AF%95/","excerpt":"è§„åˆ’Netty æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯ç½‘ç»œç¼–ç¨‹ï¼Œåœ¨å­¦ä¹  Netty çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‡†å¤‡ä¸€è¾¹å­¦ä¸€è¾¹å®Œå–„ä¸€ä¸ªå°çš„å­¦ä¹ é¡¹ç›®ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Demoçº§ çš„ IM æ¡ˆä¾‹ï¼Œè¦å®ç°çš„ä¸œè¥¿ä¹Ÿä¸å¤šï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹åŠŸèƒ½: ä¸€ä¸ªæœåŠ¡ç«¯å’Œä¸¤ä¸ªå®¢æˆ·ç«¯(åŒä¸€å°æœºå™¨ä¸Š) å®¢æˆ·ç«¯ä»æ§åˆ¶å°å‘é€ä»»åŠ¡æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯åŸæ ·åœ¨æ§åˆ¶å°æ‰“å°è¯¥æ¶ˆæ¯ï¼Œè¦å¯¹ä¸¤ä¸ªå®¢æˆ·ç«¯åˆ†å¼€è¿›è¡Œæ ‡è®°ã€‚ æœåŠ¡ç«¯å‘é€æ¶ˆæ¯ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½èƒ½ç»Ÿä¸€æ¥æ”¶ï¼ˆå•èŠï¼‰ã€‚ æœåŠ¡ç«¯å¯ä»¥æŒ‡å®šå•ç‹¬æŸä¸€ä¸ªå®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯ï¼ˆç¾¤å‘ï¼‰ã€‚","text":"è§„åˆ’Netty æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯ç½‘ç»œç¼–ç¨‹ï¼Œåœ¨å­¦ä¹  Netty çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‡†å¤‡ä¸€è¾¹å­¦ä¸€è¾¹å®Œå–„ä¸€ä¸ªå°çš„å­¦ä¹ é¡¹ç›®ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Demoçº§ çš„ IM æ¡ˆä¾‹ï¼Œè¦å®ç°çš„ä¸œè¥¿ä¹Ÿä¸å¤šï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹åŠŸèƒ½: ä¸€ä¸ªæœåŠ¡ç«¯å’Œä¸¤ä¸ªå®¢æˆ·ç«¯(åŒä¸€å°æœºå™¨ä¸Š) å®¢æˆ·ç«¯ä»æ§åˆ¶å°å‘é€ä»»åŠ¡æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯åŸæ ·åœ¨æ§åˆ¶å°æ‰“å°è¯¥æ¶ˆæ¯ï¼Œè¦å¯¹ä¸¤ä¸ªå®¢æˆ·ç«¯åˆ†å¼€è¿›è¡Œæ ‡è®°ã€‚ æœåŠ¡ç«¯å‘é€æ¶ˆæ¯ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½èƒ½ç»Ÿä¸€æ¥æ”¶ï¼ˆå•èŠï¼‰ã€‚ æœåŠ¡ç«¯å¯ä»¥æŒ‡å®šå•ç‹¬æŸä¸€ä¸ªå®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯ï¼ˆç¾¤å‘ï¼‰ã€‚ æœåŠ¡ç«¯ä»£ç  æœåŠ¡ç«¯å¯åŠ¨å™¨ å®¢æˆ·ç«¯ä»£ç ","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"}]},{"title":"å…³äºNettyå¿ƒè¯­ä¸€äºŒ","slug":"å…³äºNettyå¿ƒè¯­ä¸€äºŒ","date":"2021-07-30T15:53:57.000Z","updated":"2021-07-30T15:53:57.000Z","comments":true,"path":"2021/07/30/å…³äºNettyå¿ƒè¯­ä¸€äºŒ/","link":"","permalink":"https://withoutcause.github.io/2021/07/30/%E5%85%B3%E4%BA%8ENetty%E5%BF%83%E8%AF%AD%E4%B8%80%E4%BA%8C/","excerpt":"æˆ‘ä¸ºä»€ä¹ˆå­¦Nettyæˆ‘ä¸ºä»€ä¹ˆå­¦ Netty æˆ‘ç°åœ¨æƒ³æƒ³ï¼Œå½“åˆæœ€ä¸»è¦çš„åŸå› è¿˜æ˜¯å› ä¸ºç„¦è™‘ã€‚å›æƒ³è‡ªå·±ï¼Œ2016 å¹´æ€€ç€æ»¡è…”çƒ­è¡€åˆ°ä¸Šæµ·ä»äº‹äº†ç¬¬ä¸€ä»½ Java åç«¯å¼€å‘çš„å·¥ä½œã€‚æˆ‘æ¸…æ¥šçš„è®°å¾—é‚£ä¸ªæ—¶å€™å› ä¸º DBCP è¿æ¥æ± çš„ä¸€ä¸ªå‚æ•°ï¼Œå›°æƒ‘äº†å¤§æ¦‚ä¸€ä¸ªç¤¼æ‹œçš„æ—¶é—´ã€‚å½“åˆçš„åŸå› æ˜¯ DBCP è¿æ¥æ± çš„ class é…ç½®é¡¹æˆ‘æ”¾çš„å€¼æ˜¯æ•°æ®åº“é©±åŠ¨ç±»çš„å…¨é™å®šåï¼Œè€Œè¿™é¡¹é…ç½®åº”è¯¥æ˜¯ class-name è¿™é¡¹é…ç½®ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œé‚£æ—¶å€™ç¡®å®è¿˜æŒºèœçš„ã€‚æ‰€ä»¥è¦æ„Ÿè°¢äº® å“¥ å’Œ é¾šæ€» å¯¹å½“æ—¶çš„æˆ‘çš„æ”¶ç•™ã€‚ ä»Šå¹´å¹´åˆçš„æ—¶å€™ï¼Œç®—èµ·è‡ªå·±å·²ç»æ˜¯ç¬¬äº”ä¸ªå¹´å¤´äº†(ä»2016å¹´å®ä¹ å¼€å§‹ç®—)ï¼Œåçœè‡ªå·±çš„æ—¶å€™å†æƒ³ï¼šâ€œæˆ‘ä¼šä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯æŠŠä¸€å¹´çš„ç»éªŒé‡å¤äº†è¿™å››äº”å¹´å‘¢ã€‚â€","text":"æˆ‘ä¸ºä»€ä¹ˆå­¦Nettyæˆ‘ä¸ºä»€ä¹ˆå­¦ Netty æˆ‘ç°åœ¨æƒ³æƒ³ï¼Œå½“åˆæœ€ä¸»è¦çš„åŸå› è¿˜æ˜¯å› ä¸ºç„¦è™‘ã€‚å›æƒ³è‡ªå·±ï¼Œ2016 å¹´æ€€ç€æ»¡è…”çƒ­è¡€åˆ°ä¸Šæµ·ä»äº‹äº†ç¬¬ä¸€ä»½ Java åç«¯å¼€å‘çš„å·¥ä½œã€‚æˆ‘æ¸…æ¥šçš„è®°å¾—é‚£ä¸ªæ—¶å€™å› ä¸º DBCP è¿æ¥æ± çš„ä¸€ä¸ªå‚æ•°ï¼Œå›°æƒ‘äº†å¤§æ¦‚ä¸€ä¸ªç¤¼æ‹œçš„æ—¶é—´ã€‚å½“åˆçš„åŸå› æ˜¯ DBCP è¿æ¥æ± çš„ class é…ç½®é¡¹æˆ‘æ”¾çš„å€¼æ˜¯æ•°æ®åº“é©±åŠ¨ç±»çš„å…¨é™å®šåï¼Œè€Œè¿™é¡¹é…ç½®åº”è¯¥æ˜¯ class-name è¿™é¡¹é…ç½®ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œé‚£æ—¶å€™ç¡®å®è¿˜æŒºèœçš„ã€‚æ‰€ä»¥è¦æ„Ÿè°¢äº® å“¥ å’Œ é¾šæ€» å¯¹å½“æ—¶çš„æˆ‘çš„æ”¶ç•™ã€‚ ä»Šå¹´å¹´åˆçš„æ—¶å€™ï¼Œç®—èµ·è‡ªå·±å·²ç»æ˜¯ç¬¬äº”ä¸ªå¹´å¤´äº†(ä»2016å¹´å®ä¹ å¼€å§‹ç®—)ï¼Œåçœè‡ªå·±çš„æ—¶å€™å†æƒ³ï¼šâ€œæˆ‘ä¼šä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯æŠŠä¸€å¹´çš„ç»éªŒé‡å¤äº†è¿™å››äº”å¹´å‘¢ã€‚â€","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"},{"name":"éæŠ€æœ¯","slug":"éæŠ€æœ¯","permalink":"https://withoutcause.github.io/tags/%E9%9D%9E%E6%8A%80%E6%9C%AF/"}]},{"title":"Nettyä¹‹HelloWorld","slug":"Nettyä¹‹HelloWorld","date":"2021-07-30T15:26:35.000Z","updated":"2021-07-30T15:26:35.000Z","comments":true,"path":"2021/07/30/Nettyä¹‹HelloWorld/","link":"","permalink":"https://withoutcause.github.io/2021/07/30/Netty%E4%B9%8BHelloWorld/","excerpt":"Netty çš„ Hello World æ¡ˆä¾‹åˆ†æˆä¸¤éƒ¨åˆ†ã€‚ä¸€éƒ¨åˆ†æ˜¯æœåŠ¡ç«¯ï¼Œå°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ‰“å°å‡ºæ¥å³å¯ã€‚å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å®¢æˆ·ç«¯ï¼Œå‘é€æ¶ˆæ¯ã€‚ æœåŠ¡ç«¯123456789101112131415161718192021222324252627282930313233public class Server &#123; public static void main(String[] args) &#123; EventLoopGroup boss = new NioEventLoopGroup(); EventLoopGroup worker = new NioEventLoopGroup(); try &#123; ServerBootstrap serverBootstrap = new ServerBootstrap(); serverBootstrap.group(boss, worker) .channel(NioServerSocketChannel.class) .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() &#123; @Override protected void initChannel(NioSocketChannel nioSocketChannel) throws Exception &#123; nioSocketChannel.pipeline() .addLast(new StringDecoder()) .addLast(new SimpleChannelInboundHandler&lt;String&gt;() &#123; @Override protected void channelRead0(ChannelHandlerContext channelHandlerContext, String s) throws Exception &#123; System.out.println(&quot;server æ¥æ”¶åˆ°çš„æ¶ˆæ¯&quot; + s); &#125; &#125;); &#125; &#125;); ChannelFuture channelFuture = serverBootstrap.bind(&quot;localhost&quot;, 8888); channelFuture.channel().closeFuture().sync(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; worker.shutdownGracefully(); boss.shutdownGracefully(); &#125; &#125;&#125;","text":"Netty çš„ Hello World æ¡ˆä¾‹åˆ†æˆä¸¤éƒ¨åˆ†ã€‚ä¸€éƒ¨åˆ†æ˜¯æœåŠ¡ç«¯ï¼Œå°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ‰“å°å‡ºæ¥å³å¯ã€‚å¦å¤–ä¸€éƒ¨åˆ†æ˜¯å®¢æˆ·ç«¯ï¼Œå‘é€æ¶ˆæ¯ã€‚ æœåŠ¡ç«¯123456789101112131415161718192021222324252627282930313233public class Server &#123; public static void main(String[] args) &#123; EventLoopGroup boss = new NioEventLoopGroup(); EventLoopGroup worker = new NioEventLoopGroup(); try &#123; ServerBootstrap serverBootstrap = new ServerBootstrap(); serverBootstrap.group(boss, worker) .channel(NioServerSocketChannel.class) .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() &#123; @Override protected void initChannel(NioSocketChannel nioSocketChannel) throws Exception &#123; nioSocketChannel.pipeline() .addLast(new StringDecoder()) .addLast(new SimpleChannelInboundHandler&lt;String&gt;() &#123; @Override protected void channelRead0(ChannelHandlerContext channelHandlerContext, String s) throws Exception &#123; System.out.println(&quot;server æ¥æ”¶åˆ°çš„æ¶ˆæ¯&quot; + s); &#125; &#125;); &#125; &#125;); ChannelFuture channelFuture = serverBootstrap.bind(&quot;localhost&quot;, 8888); channelFuture.channel().closeFuture().sync(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; worker.shutdownGracefully(); boss.shutdownGracefully(); &#125; &#125;&#125; EventLoopGroup åˆ›å»ºäº†ä¸¤ä¸ªååº”å™¨çº¿ç¨‹ç»„ï¼Œåˆ†åˆ«ä¸º boss å’Œ worker ï¼Œboss æ¥æ”¶åˆ°è¯·æ±‚åäº¤ç”± worker å¤„ç†ã€‚ ServerBootstrap æœåŠ¡ç«¯å¼•å¯¼å™¨ï¼ŒæœåŠ¡ç«¯å¼•å¯¼å™¨ä¸»è¦æ˜¯ä¸ºäº†è¿›è¡Œä¸€äº›é…ç½®ï¼Œä¸»è¦æœ‰ä»¥ä¸‹é…ç½®ã€‚ group é…ç½®çº¿ç¨‹ç»„ channel é…ç½®é€šé“ç±»å‹ childHandler é…ç½®ä¸€äº› Handler ç»‘å®šçš„åœ°å€å’Œç«¯å£ å®¢æˆ·ç«¯123456789101112131415161718192021222324252627282930public class Client &#123; public static void main(String[] args) &#123; EventLoopGroup worker = new NioEventLoopGroup(); Bootstrap bootstrap = new Bootstrap(); try &#123; bootstrap.group(worker) .channel(NioSocketChannel.class) .option(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT) .handler(new ChannelInitializer&lt;SocketChannel&gt;() &#123; @Override protected void initChannel(SocketChannel socketChannel) throws Exception &#123; socketChannel.pipeline().addLast(new StringEncoder()); &#125; &#125;); ChannelFuture channelFuture = bootstrap.connect(&quot;localhost&quot;, 8888); Channel channel = channelFuture.channel(); while (true) &#123; String msg = LocalDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME) + &quot;: Hello world!!!&quot;; channel.writeAndFlush(msg); TimeUnit.SECONDS.sleep(2); &#125; &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; worker.shutdownGracefully(); &#125; &#125;&#125; NioEventLoopGroup åœ¨å®¢æˆ·ç«¯ï¼Œåªæœ‰ worker çº¿ç¨‹ç»„ï¼Œæ²¡æœ‰ boss ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸ª worker å³å¯ã€‚ å…¶ä½™ä¸ æœåŠ¡ç«¯ å¤§è‡´ç±»ä¼¼ã€‚ æœ€ç»ˆæ•ˆæœï¼Œå®¢æˆ·ç«¯æ§åˆ¶å°æ— ä»»ä½•è¾“å‡ºã€‚æœåŠ¡ç«¯æ§åˆ¶å°ï¼Œæ¯éš”ä¸¤ç§’é’Ÿå°±ä¼šæ‰“å°å½“å‰æ—¶é—´ + Hello Wold çš„å­—æ ·ã€‚","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"}]},{"title":"Nettyç»„ä»¶","slug":"Nettyç»„ä»¶","date":"2021-07-28T08:55:04.000Z","updated":"2021-07-28T08:55:04.000Z","comments":true,"path":"2021/07/28/Nettyç»„ä»¶/","link":"","permalink":"https://withoutcause.github.io/2021/07/28/Netty%E7%BB%84%E4%BB%B6/","excerpt":"EventLoopGroup NioEventLoopGroup","text":"EventLoopGroup NioEventLoopGroup12EventLoopGroup boss = new NioEventLoopGroup();EventLoopGroup worker = new NioEventLoopGroup(); åˆ›å»ºçš„ boss å’Œ worker å°±æ˜¯ NioEventLoopGroup Bootstrap ServerBootstrap æœåŠ¡ç«¯å¼•å¯¼å™¨ Bootstrap å®¢æˆ·ç«¯å¼•å¯¼å™¨ å¼•å¯¼å™¨çš„ä½œç”¨ä¸»è¦ä½œç”¨: boss å’Œ worker çš„æŒ‡å®š è®¾ç½® Channel ç±»å‹ Handler è®¾ç½® TCP å‚æ•°è®¾ç½® ç«¯å£ç»‘å®š ChannelNioServerSocketChannel æœåŠ¡ç«¯ Channel ç±»å‹ NioSocketChannel å®¢æˆ·ç«¯ Channel ç±»å‹ Option ä¸º boss è®¾ç½® TCP å‚æ•° ChildOption ä¸º worker è®¾ç½® TCP å‚æ•° å‚æ•° å«ä¹‰ SO_KEEPALIVE è®¾ç½®ä¸º true ä»£è¡¨å¯ç”¨äº† TCP SO_KEEPALIVE å±æ€§ï¼ŒTCP ä¼šä¸»åŠ¨æ¢æµ‹è¿æ¥çŠ¶æ€ï¼Œå³è¿æ¥ä¿æ´» SO_BACKLOG å·²å®Œæˆä¸‰æ¬¡æ¡æ‰‹çš„è¯·æ±‚é˜Ÿåˆ—æœ€å¤§é•¿åº¦ï¼ŒåŒä¸€æ—¶åˆ»æœåŠ¡ç«¯å¯èƒ½ä¼šå¤„ç†å¤šä¸ªè¿æ¥ï¼Œåœ¨é«˜å¹¶å‘æµ·é‡è¿æ¥çš„åœºæ™¯ä¸‹ï¼Œè¯¥å‚æ•°åº”é€‚å½“è°ƒå¤§ TCP_NODELAY Netty é»˜è®¤æ˜¯ trueï¼Œè¡¨ç¤ºç«‹å³å‘é€æ•°æ®ã€‚å¦‚æœè®¾ç½®ä¸º false è¡¨ç¤ºå¯ç”¨ Nagle ç®—æ³•ï¼Œè¯¥ç®—æ³•ä¼šå°† TCP ç½‘ç»œæ•°æ®åŒ…ç´¯ç§¯åˆ°ä¸€å®šé‡æ‰ä¼šå‘é€ï¼Œè™½ç„¶å¯ä»¥å‡å°‘æŠ¥æ–‡å‘é€çš„æ•°é‡ï¼Œä½†æ˜¯ä¼šé€ æˆä¸€å®šçš„æ•°æ®å»¶è¿Ÿã€‚Netty ä¸ºäº†æœ€å°åŒ–æ•°æ®ä¼ è¾“çš„å»¶è¿Ÿï¼Œé»˜è®¤ç¦ç”¨äº† Nagle ç®—æ³• SO_SNDBUF TCP æ•°æ®å‘é€ç¼“å†²åŒºå¤§å° SO_RCVBUF TCPæ•°æ®æ¥æ”¶ç¼“å†²åŒºå¤§å°ï¼ŒTCPæ•°æ®æ¥æ”¶ç¼“å†²åŒºå¤§å° SO_LINGER è®¾ç½®å»¶è¿Ÿå…³é—­çš„æ—¶é—´ï¼Œç­‰å¾…ç¼“å†²åŒºä¸­çš„æ•°æ®å‘é€å®Œæˆ CONNECT_TIMEOUT_MILLIS å»ºç«‹è¿æ¥çš„è¶…æ—¶æ—¶é—´ Handler ChannelInboundHandlerå…¥ç«™å¤„ç†å™¨ ChannelOutboundHandlerå‡ºç«™å¤„ç†å™¨ PiplineFuture&amp;PromiseByteBufByteBuf çš„åˆ†ç±» æ± åŒ–/éæ± åŒ–çš„ ByteBuf ç›´æ¥å†…å­˜/å †å†…å­˜çš„ ByteBuf Unsafe/éUnsafeçš„ByteBuf ByteBuf çš„å†…éƒ¨ç»“æ„ readerIndex : è¯»æŒ‡é’ˆ writrerIndexer : å†™æŒ‡é’ˆ maxCapactity : æœ€å¤§å®¹é‡ å¸¸ç”¨APIå¯¹è±¡åˆ›å»º Unpooled Pooled æŒ‡é’ˆæ“ä½œ readerIndex resetReaderIndex markReaderIndex writerIndex resetWriterIndex markWriterIndex setIndex æ•°æ®è¯»å†™ isReadable isReadOnly asReadOnly readableBytes readBytes readSlice readRetainedSlice readType readByte() readChar() readBoolean() readShort() readInt() readLong() readFloat() readDouble() isWritable() writeBytes(ByteBuf src) writeCharSequence(CharSequence sequence, Charset charset) writeType writeBoolean(boolean value) writeByte(int value) writeShort(int value) writeInt(int value) writeLong(long value) writeChar(int value) writeFloat(float value) writeDouble(double value) å†…å­˜ç®¡ç† refCnt() retain() retain(int increment) touch() touch(Object hint) release() release(int decrement)","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"}]},{"title":"Reactoræ¨¡å‹","slug":"Reactoræ¨¡å‹","date":"2021-07-28T08:40:44.000Z","updated":"2021-07-28T08:42:59.051Z","comments":true,"path":"2021/07/28/Reactoræ¨¡å‹/","link":"","permalink":"https://withoutcause.github.io/2021/07/28/Reactor%E6%A8%A1%E5%9E%8B/","excerpt":"Netty Reactorçº¿ç¨‹æ¨¡å‹å•çº¿ç¨‹ Reactor","text":"Netty Reactorçº¿ç¨‹æ¨¡å‹å•çº¿ç¨‹ Reactor acceptor äº‹ä»¶è¯»å– dispatch äº‹ä»¶åˆ†å‘ read è¯» send å‘é€ ä»¥ä¸Šæ“ä½œè¿™éƒ½éƒ½æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹é‡Œå®Œæˆï¼Œç¼ºé™·å¾ˆæ˜æ˜¾ã€‚ä¸€æ¬¡åªèƒ½ç”±ä¸€ä¸ªäº‹ä»¶è¿›è¡Œï¼Œè¯¥äº‹ä»¶æœªå®Œæˆï¼Œåé¢çš„äº‹ä»¶åªèƒ½æ— æ³•æ‰§è¡Œã€‚ å¤šçº¿ç¨‹ Reactor è¯¥æ¨¡å‹ç”±å•çº¿ç¨‹ Reactor æ¨¡å‹æ”¹è¿›è€Œæ¥ï¼Œæ¯ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ã€‚åç»­çš„å¤„ç†æµç¨‹äºå•çº¿ç¨‹æ¨¡å‹ä¸€è‡´ã€‚ ä¸»ä» Reactor MainReactor åªè´Ÿè´£è¿æ¥äº‹ä»¶ç›‘å¬ï¼Œå½“ client è¿æ¥ä»¥åï¼Œå°†åç»­çš„å¤„ç†äº¤ç»™ SubReactor æ¥å®Œæˆã€‚ä¸ Nginx ä¸­çš„ master è¿›ç¨‹åŸç†ä¸€è‡´ï¼Œæ¥æ”¶è¯·æ±‚åæœ¬èº«ä¸å¤„ç†è¯·æ±‚äº¤ç”±å¯¹åº”çš„ worker æ¥å¤„ç†ã€‚ åš Netty å¼€å‘æ—¶ï¼Œé€‰æ‹©çš„éƒ½æ˜¯ä¸»ä» Reactor æ¨¡å‹ã€‚","categories":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"}],"tags":[{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"},{"name":"Reactoræ¨¡å‹","slug":"Reactoræ¨¡å‹","permalink":"https://withoutcause.github.io/tags/Reactor%E6%A8%A1%E5%9E%8B/"}]},{"title":"Optional","slug":"Optional","date":"2021-07-27T15:38:44.000Z","updated":"2021-07-28T09:38:20.942Z","comments":true,"path":"2021/07/27/Optional/","link":"","permalink":"https://withoutcause.github.io/2021/07/27/Optional/","excerpt":"é—®é¢˜12345678910111213141516171819202122232425262728293031323334public class A &#123; private B b; public B getB() &#123; return b; &#125; public void setB(B b) &#123; this.b = b; &#125;&#125;public class B &#123; private String bName; private String bAge; public String getbName() &#123; return bName; &#125; public void setbName(String bName) &#123; this.bName = bName; &#125; public String getbAge() &#123; return bAge; &#125; public void setbAge(String bAge) &#123; this.bAge = bAge; &#125;&#125; å·²ç»å­˜åœ¨ä¸¤ä¸ªç±»ï¼Œå¹¶ä¸”äº’ç›¸åµŒå¥—ï¼Œè€Œä¸”ä¸å…è®¸ä¿®æ”¹ï¼Œ A ã€B ä¸¤ä¸ªç±»çš„ç»“æ„ï¼Œæˆ‘ä»¬è¦å®‰å…¨çš„è®¿é—® A Bä¸­çš„å€¼ï¼Œå°½å¯èƒ½å°‘çš„ä½¿ç”¨ if è¯­å¥ã€‚","text":"é—®é¢˜12345678910111213141516171819202122232425262728293031323334public class A &#123; private B b; public B getB() &#123; return b; &#125; public void setB(B b) &#123; this.b = b; &#125;&#125;public class B &#123; private String bName; private String bAge; public String getbName() &#123; return bName; &#125; public void setbName(String bName) &#123; this.bName = bName; &#125; public String getbAge() &#123; return bAge; &#125; public void setbAge(String bAge) &#123; this.bAge = bAge; &#125;&#125; å·²ç»å­˜åœ¨ä¸¤ä¸ªç±»ï¼Œå¹¶ä¸”äº’ç›¸åµŒå¥—ï¼Œè€Œä¸”ä¸å…è®¸ä¿®æ”¹ï¼Œ A ã€B ä¸¤ä¸ªç±»çš„ç»“æ„ï¼Œæˆ‘ä»¬è¦å®‰å…¨çš„è®¿é—® A Bä¸­çš„å€¼ï¼Œå°½å¯èƒ½å°‘çš„ä½¿ç”¨ if è¯­å¥ã€‚ 12345A a = null;Optional&lt;A&gt; a1 = Optional.ofNullable(a);Optional&lt;B&gt; b = a1.filter((t) -&gt; t.getB() != null).map(A::getB);// ä¸Šé¢ä¸€è¡Œä»£ç çš„é—®é¢˜æ˜¯ï¼Œ t æœ‰å¯èƒ½ä¼šä¸º null ,ä»è€Œå¼•å‘ NPEB b2 = b.get(); 123456Optional&lt;A&gt; a1 = Optional.ofNullable(a);Optional&lt;B&gt; b = a1.map(A::getB);b.get(); // æœ‰å¯èƒ½ä¼šæŠ›å¼‚å¸¸,å› ä¸ºå¦‚æœ b ä¸º null,é‚£ä¹ˆå¾—åˆ°çš„ Optional ä¸º empty åˆ›å»ºçš„b.orElse(new B()); // æ²¡æœ‰é—®é¢˜ï¼Œè¿”å› new B çš„å¯¹è±¡b.orElseGet(() -&gt; B :: new); // æ²¡æœ‰é—®é¢˜ï¼Œè¿”å› new B çš„å¯¹è±¡b.orElseThrow(() -&gt; YdException::new); // æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸ ä½¿ç”¨ Optional å¸¦æ¥çš„å˜åŒ–123456789101112131415161718192021222324public class PersonNoOptional &#123; private Car car; public Car getCar() &#123; return car; &#125; public void setCar(Car car) &#123; this.car = car; &#125; public static class Car&#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; &#125;&#125; ä¸Šé¢çš„ä»£ç æ˜¯æ²¡æœ‰ä½¿ç”¨ Optional æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå†™çš„æ ·å¼ã€‚ä¼šå‡ºç°çš„é—®é¢˜ï¼š å¦‚æœæŸä¸ªå€¼ä¸º nullï¼Œç«‹é©¬ä¼šæŠ¥å‡º NPE æˆ‘ä»¬çš„è§£å†³æ–¹å¼ 123456789101112public class OptionService &#123; public void opt() &#123; PersonNoOptional p = new PersonNoOptional(); PersonNoOptional.Car car = p.getCar(); if (car != null) &#123; // .... &#125; &#125; &#125; ä¼šæ·»åŠ å¾ˆå¤šçš„ if æ¥è¿›è¡Œåˆ¤æ–­ï¼Œç”šè‡³è¿˜æœ‰ç©ºå¯¹è±¡è®¾è®¡æ¨¡å¼(Null Object Pattern) æ¥å¤„ç†è¿™ä¸€ç±»çš„é—®é¢˜ã€‚Java 8 ä¸ºæˆ‘ä»¬å¸¦æ¥äº† Optional æ·»åŠ æ–°çš„è§£å†³æ–¹å¼ã€‚ 1234567891011121314151617181920212223public class PersonOptional &#123; private Optional&lt;PersonNoOptional.Car&gt; car; public Optional&lt;PersonNoOptional.Car&gt; getCar() &#123; return car; &#125; public void setCar(PersonNoOptional.Car car) &#123; this.car = Optional.of(car); &#125; public static class Car &#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; &#125;&#125; Peron æœ‰å¯èƒ½ä¼šæ²¡æœ‰ Carï¼Œä½†æ˜¯æ¯ä¸€è¾† Car éƒ½å¿…é¡»æœ‰ nameï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹ Car ä½¿ç”¨äº† Optional åŒ…è£…ï¼Œè€Œ name æ²¡æœ‰ä½¿ç”¨ Optional çš„åŸå› å°±åœ¨è¿™é‡Œã€‚ Optional çš„åˆ›å»ºemptyåˆ›å»ºä¸€ä¸ªç©ºçš„ Optional å¯¹è±¡ 1Optional&lt;Object&gt; empty = Optional.empty(); empty() æ–¹æ³•çš„å®ç°123456789private static final Optional&lt;?&gt; EMPTY = new Optional&lt;&gt;();private Optional() &#123; this.value = null; &#125;public static&lt;T&gt; Optional&lt;T&gt; empty() &#123; @SuppressWarnings(&quot;unchecked&quot;) Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY; return t;&#125; of1Optional&lt;B&gt; optionalB = Optional.of(new B()); of æ–¹æ³•ä¸­çš„å‚æ•°å¦‚æœä¸º null,ä¼šå‘ç”Ÿ NPE 1Optional&lt;Object&gt; optional = Optional.of(null); of() æ–¹æ³•çš„å®ç°1234567891011121314// Objects.requireNonNull çš„å®ç°public static &lt;T&gt; T requireNonNull(T obj) &#123; if (obj == null) throw new NullPointerException(); return obj;&#125;private Optional(T value) &#123; this.value = Objects.requireNonNull(value);&#125;public static &lt;T&gt; Optional&lt;T&gt; of(T value) &#123; return new Optional&lt;&gt;(value);&#125; ofNullableofNullable å…è®¸ä¼ å…¥çš„å‚æ•°ä¸º null 12A a = null;Optional&lt;A&gt; optonal = Optional.ofNullable(a); ofNullable çš„å®ç°123public static &lt;T&gt; Optional&lt;T&gt; ofNullable(T value) &#123; return value == null ? empty() : of(value);&#125; #Optinal ä¸­è·å–å€¼ get1A a = optionalA.get(); å¦‚æœ Optional å®¹å™¨ä¸­ä¸å­˜åœ¨å€¼ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ NoSuchElementException(&quot;No value present&quot;) get çš„å®ç°123456public T get() &#123; if (value == null) &#123; throw new NoSuchElementException(&quot;No value present&quot;); &#125; return value;&#125; orElse1A a = optionalA.orElse(new A()); å¦‚æœ Optional å®¹å™¨ä¸­ä¸å­˜åœ¨å€¼ï¼Œä½¿ç”¨ orElse æ–¹æ³•ä¸­å®šä¹‰çš„å€¼ã€‚ orElse çš„å®ç°123public T orElse(T other) &#123; return value != null ? value : other;&#125; orElseGet1A a = optionalA.orElseGet(A::new); å¦‚æœ Optional å®¹å™¨ä¸­ä¸å­˜åœ¨å€¼ï¼Œä¼šæ‰§è¡Œå®šä¹‰çš„å‡½æ•°ã€‚ orElseGet çš„å®ç°123public T orElseGet(Supplier&lt;? extends T&gt; other) &#123; return value != null ? value : other.get();&#125; orElseThrow1A a = optionalA.orElseThrow(RuntimeException::new); å¦‚æœ Optional å®¹å™¨ä¸­ä¸å­˜åœ¨å€¼ï¼Œä¼šæŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸ã€‚ä¸ get æ–¹æ³•çš„åŒºåˆ«æ˜¯ï¼Œget æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ä¸ºå›ºå®šçš„ï¼Œè¯¥æ–¹æ³•å¯ä»¥æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸ã€‚ orElseThrow çš„å®ç°1234567public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X &#123; if (value != null) &#123; return value; &#125; else &#123; throw exceptionSupplier.get(); &#125;&#125; å½“ Optional å®¹å™¨ä¸­çš„å€¼ä¸ºç©ºæ—¶ï¼Œä½¿ç”¨äº† throw å…³é”®å­—ã€‚ map å’Œ flatMapmap1234567891011121314151617181920212223242526272829303132333435363738public class A &#123; private B b; public B getB() &#123; return b; &#125;&#125;public class B &#123; private Name bName; private String bAge; public Name getbName() &#123; return bName; &#125; public void setbName(Name bName) &#123; this.bName = bName; &#125; public String getbAge() &#123; return bAge; &#125; public void setbAge(String bAge) &#123; this.bAge = bAge; &#125; public static class Name&#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; &#125;&#125; A B ä¸¤ä¸ªç±»çš„ç»“æ„å…³ç³»æ˜¯äº’ç›¸åµŒå¥—ï¼Œæˆ‘ä»¬è¦å–å‡º b.Name.getName() çš„å€¼ 1234Optional&lt;String&gt; aName = optionalA.map(A::getB) .map(B::getbName) .map(B.Name::getName);System.out.println(aName.orElse(&quot;kkk&quot;)); flatMapå¦‚æœ B åœ¨ A çš„åµŒå¥—ä¸­ï¼Œä½¿ç”¨äº† Optional åŒ…è£… 12345678public class A &#123; private Optional&lt;B&gt; b; public Optional&lt;B&gt; getB() &#123; return b; &#125;&#125; å†ä½¿ç”¨ä¸Šé¢çš„è®¿é—®ï¼Œå°±ä¼šç¼–è¯‘æŠ¥é”™ã€‚ åŸå› : 1Optional&lt;Optional&lt;B&gt;&gt; optional = optionalA.map(A::getB); map çš„è¿”å›å¤–é¢è¢«åŒ…è£…äº†ä¸€å±‚ Optional ï¼Œæƒ³è¦è¾¾åˆ°ä¸Šé¢çš„æ•ˆæœï¼Œéœ€è¦æ‹†æ‰ä¸€å±‚ Optional çš„åŒ…è£…ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ flatMap æ¥æ‰“æ•£ä¸€å±‚ Optional çš„åŒ…è£… 1234String kkk = optionalA.flatMap(A::getB) .map(B::getbName) .map(B.Name::getName) .orElse(&quot;kkk&quot;); ypxhå°±å¯ä»¥é¡ºåˆ©è®¿é—®äº† map å’Œ flatMap çš„åŒºåˆ«åœ¨äºï¼ŒflatMap ä¼šè¿›è¡Œæ‹†åŒ…(å°†å¤–é¢çš„å±‚åŒ…è£…æ‹†é™¤)çš„åŠ¨ä½œï¼Œè€Œ map ä¸ä¼šè¿›è¡Œæ‹†åŒ… Optional æä¾›çš„å…¶ä»–æ–¹æ³•isPresentisPresent ç”¨äºåˆ¤æ–­ Optional å®¹å™¨ä¸­å€¼æ˜¯å¦ä¸ºç©º(null)ï¼Œä¸ä¸ºç©ºè¿”å›ä¼š trueï¼Œç©ºè¿”å› false 123public boolean isPresent() &#123; return value != null;&#125; ifPresentifPresent æä¾›äº†æ‰§è¡Œå‡½æ•°å¼ä»£ç çš„èƒ½åŠ›ï¼Œå½“ Optional å®¹å™¨ä¸­çš„å€¼ä¸ä¸ºç©ºæ—¶ï¼Œä¼šæ‰§è¡Œä¼ å…¥çš„å‡½æ•°å¼ä»£ç ã€‚ 1optionalA.ifPresent(c -&gt; System.out.println(c.getB())); ifPresent çš„å®ç°1234public void ifPresent(Consumer&lt;? super T&gt; consumer) &#123; if (value != null) consumer.accept(value);&#125; filteré€šè¿‡æ‰§è¡Œä¼ å…¥çš„è°“è¯ è¿›è¡Œè¿‡æ»¤ï¼Œå¦‚æœä¼ å…¥çš„ è°“è¯ æ‰§è¡Œç»“æœä¸º true è¿”å› Optional å®¹å™¨æœ¬èº«ï¼Œå¦åˆ™è¿”å›ç©ºå®¹å™¨ã€‚ 1234567public Optional&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) &#123; Objects.requireNonNull(predicate); if (!isPresent()) return this; else return predicate.test(value) ? this : empty();&#125;","categories":[{"name":"java8","slug":"java8","permalink":"https://withoutcause.github.io/categories/java8/"}],"tags":[{"name":"optional","slug":"optional","permalink":"https://withoutcause.github.io/tags/optional/"},{"name":"java8","slug":"java8","permalink":"https://withoutcause.github.io/tags/java8/"}]},{"title":"httpåè®®","slug":"httpåè®®","date":"2021-07-21T08:47:37.000Z","updated":"2021-07-28T09:40:04.000Z","comments":true,"path":"2021/07/21/httpåè®®/","link":"","permalink":"https://withoutcause.github.io/2021/07/21/http%E5%8D%8F%E8%AE%AE/","excerpt":"[TOC] HTTPåè®®å®¢æˆ·ç«¯(Client)","text":"[TOC] HTTPåè®®å®¢æˆ·ç«¯(Client) å‘èµ· http è¯·æ±‚çš„ä¸€æ–¹ç§°ä¸ºå®¢æˆ·ç«¯ï¼Œä¸€èˆ¬æ˜¯æµè§ˆå™¨ï¼Œæ¯”å¦‚å¸¸è§çš„ Chromeã€360æµè§ˆå™¨ã€MicroSoft Edgeã€Safairæµè§ˆå™¨ ç­‰ï¼›é™¤äº†æµè§ˆå™¨è¿˜æœ‰ä¸€äº›èƒ½å¤Ÿå‘èµ· http è¯·æ±‚çš„è½¯ä»¶ï¼Œæ¯”å¦‚: postmanã€Jmeter ç­‰ã€‚ æœåŠ¡ç«¯(Server) æä¾› http æœåŠ¡çš„ä¸€æ–¹ç§°ä¸º æœåŠ¡ç«¯ï¼Œä¸€èˆ¬æ˜¯å„ç§ WebæœåŠ¡å™¨ã€‚ http è¯·æ±‚æ˜¯è¯·æ±‚-å“åº”æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ä¸€å‘å‡ºä¸€æ¬¡è¯·æ±‚ï¼Œä¼šæ”¶åˆ°ä¸€æ¬¡åº”ç­¾ã€‚ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡ HTTPåè®®è§„å®šï¼Œè¯·æ±‚ä»å®¢æˆ·ç«¯å‘å‡ºï¼Œæœ€åæœåŠ¡å™¨ç«¯å“åº”è¯¥è¯·æ±‚å¹¶è¿”å›ã€‚å…ˆä»å®¢æˆ·ç«¯å¼€å§‹å»ºç«‹é€šä¿¡çš„ï¼ŒæœåŠ¡å™¨ç«¯åœ¨æ²¡æœ‰æ¥æ”¶åˆ°è¯·æ±‚ä¹‹å‰ä¸ä¼šå‘é€å“åº”ã€‚ è¯·æ±‚æŠ¥æ–‡12GET /index.html HTTP/1.1Host: 127.0.0.1 è¯·æ±‚æŠ¥æ–‡æ˜¯ç”±è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚URIã€åè®®ç‰ˆæœ¬ã€å¯é€‰çš„è¯·æ±‚é¦–éƒ¨å­—æ®µå’Œå†…å®¹å®ä½“æ„æˆçš„ã€‚ å“åº”æŠ¥æ–‡1234567HTTP/1.1200 OKDate: Tue, 10 Jul 2012 06:50:15 GMTContent-Length: 362Content-Type: text/html&lt;html&gt;...&lt;/html&gt; å“åº”æŠ¥æ–‡åŸºæœ¬ä¸Šç”±åè®®ç‰ˆæœ¬ã€çŠ¶æ€ç ï¼ˆè¡¨ç¤ºè¯·æ±‚æˆåŠŸæˆ–å¤±è´¥çš„æ•°å­—ä»£ç ï¼‰ã€ç”¨ä»¥è§£é‡ŠçŠ¶æ€ç çš„åŸå› çŸ­è¯­ã€å¯é€‰çš„å“åº”é¦–éƒ¨å­—æ®µä»¥åŠå®ä½“ä¸»ä½“æ„æˆã€‚ç¨åæˆ‘ä»¬ä¼šå¯¹è¿™äº›å†…å®¹è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚ httpæ— çŠ¶æ€ HTTPåè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨HTTPè¿™ä¸ªçº§åˆ«ï¼Œåè®®å¯¹äºå‘é€è¿‡çš„è¯·æ±‚æˆ–å“åº”éƒ½ä¸åšæŒä¹…åŒ–å¤„ç†ã€‚ ä½¿ç”¨HTTPåè®®ï¼Œæ¯å½“æœ‰æ–°çš„è¯·æ±‚å‘é€æ—¶ï¼Œå°±ä¼šæœ‰å¯¹åº”çš„æ–°å“åº”äº§ç”Ÿã€‚åè®®æœ¬èº«å¹¶ä¸ä¿ç•™ä¹‹å‰ä¸€åˆ‡çš„è¯·æ±‚æˆ–å“åº”æŠ¥æ–‡çš„ä¿¡æ¯ã€‚ åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›çŠ¶æ€ã€‚æ¯”å¦‚ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼Œå°±éœ€è¦ä½¿ç”¨ Cookie åšä¸€äº›å­˜å‚¨ã€‚ URL(URI) url å¯¹èµ„æºè¿›è¡Œå®šä½ 1http://www.baidu.com http method(è¯·æ±‚æ–¹æ³•) è¯·æ±‚æ–¹æ³• è¯´æ˜ GET è·å–èµ„æº POST ä¼ è¾“å®ä½“ PUT ä¼ è¾“æ–‡ä»¶(åœ¨ Restful ä¸­ä¸»è¦ç”¨äºä¿®æ”¹èµ„æº) DELETE åˆ é™¤æ–‡ä»¶ OPTIONS è¯¢é—®æ”¯æŒçš„æ–¹æ³• TRACE è¿½è¸ª CONNECT å»ºç«‹è¿æ¥ HTTP åè®®æŠ¥æ–‡ httpåè®®åˆ†ä¸ºå¤´éƒ¨å’Œä¸»ä½“ï¼Œä¸­é—´ç”¨ä¸€ä¸ªç©ºè¡Œéš”å¼€ã€‚ è¯·æ±‚ è¯·æ±‚è¡Œï¼ŒåŒ…å«è¯·æ±‚çš„æ–¹æ³•ï¼Œè¯·æ±‚çš„ url å’Œåè®®ç‰ˆæœ¬å· çŠ¶æ€è¡Œï¼Œhttp è¯·æ±‚çš„å“åº”çŠ¶æ€ å¤´éƒ¨å­—æ®µï¼Œä¸€äº›æ ‡å‡†çš„æˆ–è€…è‡ªå®šä¹‰çš„ http å¤´å­—æ®µ å…¶ä»– å“åº”çŠ¶æ€ç  çŠ¶æ€ç  ç±»åˆ« æè¿° 1xx Informational(ä¿¡æ¯çŠ¶æ€ç ) æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç† 2xx Success(æˆåŠŸçŠ¶æ€ç ) è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯• 3xx Redirection(é‡å®šå‘çŠ¶æ€ç ) éœ€è¦è¯·æ±‚å…¶ä»–æ“ä½œ 4xx Client Error(å®¢æˆ·ç«¯é”™è¯¯) æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ 5xx Server Error(æœåŠ¡ç«¯é”™è¯¯) æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ 2xx 200: ok è¯·æ±‚æˆåŠŸ 204: Not Content 206: Partial Content 3xx 301: Moved Permanentlyï¼Œæ°¸ä¹…é‡å®šå‘ 302: Foundï¼Œä¸´æ—¶é‡å®šå‘ 303: See Otherï¼Œå¯¹åº”å¦å¤–ä¸€ä¸ªèµ„æºï¼Œåº”è¯¥ç”± GET è¯·æ±‚å»è·å– 304: Not Modifiedï¼Œè™½ç„¶åŒå± 3xx ç³»åˆ—ï¼Œä½†æ˜¯ä¸é‡å®šå‘æ— å…³ã€‚å«ä¹‰ï¼šæœåŠ¡ç«¯èµ„æºæœªæ”¹å˜ï¼Œå¯ç›´æ¥ä½¿ç”¨å®¢æˆ·ç«¯æœªè¿‡æœŸç¼“å­˜ã€‚ 307: Temporary Redirectï¼Œä¸´æ—¶é‡å®šå‘ï¼Œä¸ 302 å«ä¹‰ç›¸åŒï¼Œä½†æ˜¯å¦‚æœå‘èµ·çš„æ˜¯ POST è¯·æ±‚ï¼Œé‡å®šå‘æ—¶ä¸ä¼šæ”¹æˆ GET(301ã€302ä¼šå°† POST è¯·æ±‚æ”¹æˆ GET) 4xx 400: Bad Requestï¼Œè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ 401: Unauthorizedï¼Œæ²¡æœ‰é€šè¿‡è®¤è¯ 403: Forbiddenï¼Œè¯·æ±‚è¢«æ‹’ç» 404: Not Foundï¼Œèµ„æºæ— æ³•æ‰¾åˆ° 5xx 500: Internal Server Errorï¼ŒæœåŠ¡å™¨å†…éƒ¨å‘é”™è¯¯ 502: Bad Gatewayï¼Œç½‘å…³é”™è¯¯ 503: Service Unavliaableï¼ŒæœåŠ¡ä¸å¯è®¿é—®(æœ‰å¯èƒ½æ˜¯æœåŠ¡ç«¯è´Ÿè½½è¿‡é«˜) httpè¯·æ±‚å¤´å­—æ®µCache-Control æ“ä½œç¼“å­˜ 1Cache-Control: private publicï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥ä½¿ç”¨è¯¥ç¼“å­˜ privateï¼Œå¯¹ç‰¹å®šç”¨æˆ·ä½¿ç”¨ç¼“å­˜ no-cacheï¼Œä¸ä½¿ç”¨ç¼“å­˜ï¼Œå¦‚æœæœ‰ç¼“å­˜ä¸ä¼šå‘æœåŠ¡å™¨éªŒè¯è¯¥ç¼“å­˜ã€‚ è¯·æ±‚ä¸­åŒ…å« no-cache ä»£è¡¨ä¸ä»ç¼“å­˜ä¸­æ¥æ”¶å“åº”ã€‚ å“åº”ä¸­åŒ…å« no-cache ä»£è¡¨ä¸èƒ½å°†å“åº”ç¼“å­˜ã€‚ 1Cache-Control: no-cache no-cache=åç§°ï¼Œå¯¹æŒ‡å®šå­—æ®µä¸è¿›è¡Œç¼“å­˜ 1Cache-Control: no-cache=Location no-storeï¼Œä¸ä½¿ç”¨ç¼“å­˜ ï¼Œè¿™ä¸ªå­—æ®µçš„çœŸæ­£å«ä¹‰æ˜¯ä¸ä½¿ç”¨ç¼“å­˜ï¼Œå¯¹ no-cache æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„ã€‚ max-ageï¼ŒæŒ‡å®šç¼“å­˜æ—¶é—´ï¼›å¦‚æœå½“ max-age=0 æ—¶ï¼Œè¡¨ç¤ºç¼“å­˜è¿‡æœŸå¿…é¡»å°†è¯¥è¯·æ±‚äº¤ç»™æœåŠ¡å™¨è€Œä¸æ˜¯ç¼“å­˜æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚ s-maxageï¼Œè¿™ä¸ªå­—æ®µæœ‰ç‚¹æ‡µï¼Œåœ¨è‡´æ„æ€å’Œ max-age ç±»ä¼¼ã€‚ min-freshï¼ŒæŒ‡å®šå¤šå°‘ç§’ä»¥å†…æœªè¿‡æœŸçš„èµ„æºã€‚ä¾‹å¦‚: Cache-Control: min-fresh=60 è¿”å› 60 ç§’å†…æœªè¿‡æœŸçš„æ•°æ®ã€‚ max-stableï¼Œå¦‚æœä¸ºç©ºè¡¨ç¤ºæ— è®ºè¿‡æœŸå¤šä¹…çš„æ•°æ®éƒ½æ¥æ”¶ï¼Œå¦‚æœæŒ‡å®šå…·ä½“æ—¶é—´åˆ™è¡¨ç¤ºæ¥æ”¶æŒ‡å®šæ—¶é—´å†…çš„è¿‡æœŸæ•°æ®ã€‚ only-if-cachedï¼Œæ‡µçš„ must-revalidateï¼Œä»£ç†æœåŠ¡å™¨éªŒè¯ç¼“å­˜çš„å“åº”ä¿¡æ¯ã€‚ proxy-revalidateï¼Œç¼“å­˜æœåŠ¡å™¨è¿”å›å“åº”ä¹‹å‰ï¼Œå†æ¬¡éªŒè¯ç¼“å­˜çš„æœ‰æ•ˆæ€§ã€‚ no-transformï¼Œç¦æ­¢ç¼“å­˜è½¬æ¢åª’ä½“ç±»å‹ã€‚ æ‰©å±•ï¼Œ 1Cache-Control: private, Community=&quot;UCI&quot; æ‰©å±•äº† Community å­—æ®µï¼Œå¦‚æœæœåŠ¡å™¨èƒ½å¤„ç†åˆ™ä¼šå¤„ç†ï¼Œä¸èƒ½å¤„ç†ä¼šé»˜è®¤ä¸¢æ‰è¯¥å­—æ®µã€‚ ConnectionConnection æœ‰ä¸¤ä¸ªä½œç”¨: æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„å¤´éƒ¨å­—æ®µ ç®¡ç†æŒä¹…é“¾æ¥ ä¸è½¬å‘å­—æ®µ: 1Connection: Upgrade ä¸å†è½¬å‘ Upgrade å­—æ®µçš„å†…å®¹ï¼ŒåŒæ—¶ Upgrade è¡¨ç¤ºåè®®å‡çº§ï¼Œä¸€èˆ¬æ˜¯ä» http å‡çº§åˆ° websocket åè®®ã€‚ ç®¡ç†æŒä¹…é“¾æ¥ Closeï¼Œå‘Šè¯‰æœåŠ¡ç«¯éœ€è¦å’Œå®ƒæ–­å¼€é“¾æ¥ã€‚ Keep-Aliveï¼Œç»´æŒæŒä¹…é“¾æ¥ã€‚ Dateè¡¨æ˜åˆ›å»º httpæŠ¥æ–‡ çš„æ—¥æœŸã€‚ 1Date: Mon, 26 Jul 2021 13:31:04 GMT Transfer-Encodingè§„å®šäº†ä¼ è¾“æŠ¥æ–‡æ—¶é‡‡ç”¨çš„ç¼–ç æ–¹å¼ã€‚ 1Transfer-Encoding: chunked Upgradeä¸€èˆ¬ç”¨äºåˆ‡æ¢åè®®æˆ–å‡çº§åè®®ï¼Œå¯¹äºåˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨ä¼šå“åº”ä¸€ä¸ª 101 çŠ¶æ€ç ã€‚ Acceptå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„åª’ä½“ç±»å‹ä»¥åŠå¯¹åº”çš„ä¼˜å…ˆçº§(æƒé‡)ã€‚ 1Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9 è¿™é‡Œçš„å†…å®¹æ˜¯ä»¥ ,é€—å· è¿›è¡Œåˆ†éš”ä¸”é»˜è®¤çš„ q=1.0ã€‚ å‚è€ƒå†…å®¹:https://time.geekbang.org/column/article/104024 Accept-Encoding gzip compress default identity Accept-LanguageæŒ‡å®šè¿”å›çš„å­—ç¬¦é›† Authorizationhttp è®¤è¯å­—æ®µï¼Œåœ¨æµè§ˆå™¨è¿”å› 401 çš„æƒ…å†µä¸‹éœ€è¦åŠ è¯¥å­—æ®µã€‚ 1Authorization: Basic xxdfhaofaoifjklasdfwsaytropqw Hostè¯·æ±‚çš„èµ„æºçš„ä¸»æœºåå’Œç«¯å£å· 1Host: www.baidu.com httpå“åº”å¤´å­—æ®µAccept-Rangeç”¨æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯æœåŠ¡å™¨æ˜¯å¦èƒ½å¤„ç†èŒƒå›´è¯·æ±‚ï¼Œä»¥æŒ‡å®šè·å–æœåŠ¡å™¨ç«¯æŸä¸ªéƒ¨åˆ†çš„èµ„æºã€‚ bytes ï¼šå¯ä»¥å¤„ç† noneï¼šä¸èƒ½å¤„ç† Ageå‘ŠçŸ¥å®¢æˆ·ç«¯ï¼ŒæºæœåŠ¡ç«¯åœ¨å¤šä¹…å‰åˆ›å»ºçš„å“åº”ã€‚å•ä½ï¼šç§’ 1Age: 60 ETagLocation1Location: https://www.baidu.com å¯¹è¯¥å€¼è¿›è¡Œé‡å®šå‘è®¿é—®ï¼Œä¸€èˆ¬é…åˆ 3xx å“åº”çŠ¶æ€ç ä½¿ç”¨ã€‚ Proxy-Authenticate1Proxy-Authenticate: Basic realm=&quot;Usingauth xxxx&quot; ä»£ç†æœåŠ¡å™¨çš„è®¤è¯ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ã€‚ Retry-Afteråœ¨å¤šå°‘ç§’ä¹‹åå†æ¬¡å‘èµ·è¯·æ±‚ã€‚å•ä½ï¼šç§’ï¼Œå­—æ®µå€¼ä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“çš„ç§’ã€‚ 1Retry-After: 120 Serverå‘Šè¯‰å®¢æˆ·ç«¯æœåŠ¡çš„åº”ç”¨ç¨‹åºç›¸å…³ä¿¡æ¯ï¼Œä¸€èˆ¬ä¼šæ˜¾ç¤ºæœåŠ¡ç«¯ä½¿ç”¨çš„è½¯ä»¶ï¼Œç‰ˆæœ¬å·ä¼šéšè—ã€‚ 1server: nginx Content-Encodingå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¯¹å®ä½“é‡‡ç”¨çš„å‹ç¼©æ ¼å¼ã€‚é‡‡ç”¨æœ€å¤šçš„æ˜¯ gzip ã€‚ Content-Languageå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œè¯­è¨€ç±»å‹ 1Content-Language: zh-CN Content-Typeè¯´æ˜åª’ä½“ç±»å‹ï¼Œcharset ç”¨äºæŒ‡å®šå­—ç¬¦ç±»é›†ã€‚ CookieCookieå‘èµ·è¯·æ±‚æ—¶ï¼Œå¤´éƒ¨å­—æ®µå¸¦çš„ã€‚ Set-Cookieå“åº”ç»“æœæ—¶ï¼Œå“åº”å¤´å¸¦çš„ã€‚ Cookieçš„å±æ€§NAME=VALUEå¯¹ cookie è¿›è¡Œèµ‹å€¼ expiresæŒ‡å®š cookie çš„è¿‡æœŸæ—¶é—´ï¼Œä¸è®¾å°±è¡¨æ˜ç›´åˆ°æµè§ˆå™¨å…³é—­ä¹‹å‰æœ‰æ•ˆã€‚ pathæŒ‡å®š cookie çš„å‘é€èŒƒå›´ï¼Œä¸€èˆ¬æ˜¯ / æ–œæ ã€‚ domainCookie é€‚ç”¨çš„åŸŸåï¼Œä¸å†™é»˜è®¤æ˜¯åˆ›å»º cookie çš„åŸŸåã€‚ secureåªæœ‰åœ¨ä½¿ç”¨ https æ—¶æ‰å¯ä»¥å‘é€ cookie ã€‚ 1Set-Cookie: name=value; Secure HttpOnlyjsè„šæœ¬æ— æ³•æ“ä½œ cookie 1Set-Cookie: name=value; HttpOnaly","categories":[{"name":"http","slug":"http","permalink":"https://withoutcause.github.io/categories/http/"}],"tags":[{"name":"http","slug":"http","permalink":"https://withoutcause.github.io/tags/http/"}]}],"categories":[{"name":"è€—å­å“¥","slug":"è€—å­å“¥","permalink":"https://withoutcause.github.io/categories/%E8%80%97%E5%AD%90%E5%93%A5/"},{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/categories/ES/"},{"name":"å¹¶å‘","slug":"å¹¶å‘","permalink":"https://withoutcause.github.io/categories/%E5%B9%B6%E5%8F%91/"},{"name":"é¡¹ç›®å®è·µ","slug":"é¡¹ç›®å®è·µ","permalink":"https://withoutcause.github.io/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://withoutcause.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"MongoDB","slug":"æ•°æ®åº“/MongoDB","permalink":"https://withoutcause.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/"},{"name":"ts","slug":"ts","permalink":"https://withoutcause.github.io/categories/ts/"},{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"https://withoutcause.github.io/categories/%E5%BF%83%E5%BE%97/"},{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/categories/React/"},{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/categories/k8s/"},{"name":"yaml","slug":"yaml","permalink":"https://withoutcause.github.io/categories/yaml/"},{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/categories/Docker/"},{"name":"è¸©è¿‡çš„å‘","slug":"è¸©è¿‡çš„å‘","permalink":"https://withoutcause.github.io/categories/%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91/"},{"name":"git","slug":"git","permalink":"https://withoutcause.github.io/categories/git/"},{"name":"Linux","slug":"Linux","permalink":"https://withoutcause.github.io/categories/Linux/"},{"name":"Shell","slug":"Linux/Shell","permalink":"https://withoutcause.github.io/categories/Linux/Shell/"},{"name":"æµé‡å›æ”¾","slug":"æµé‡å›æ”¾","permalink":"https://withoutcause.github.io/categories/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE/"},{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/categories/Netty/"},{"name":"IDEA","slug":"IDEA","permalink":"https://withoutcause.github.io/categories/IDEA/"},{"name":"MapStruct","slug":"MapStruct","permalink":"https://withoutcause.github.io/categories/MapStruct/"},{"name":"java8","slug":"java8","permalink":"https://withoutcause.github.io/categories/java8/"},{"name":"http","slug":"http","permalink":"https://withoutcause.github.io/categories/http/"}],"tags":[{"name":"è€—å­å“¥","slug":"è€—å­å“¥","permalink":"https://withoutcause.github.io/tags/%E8%80%97%E5%AD%90%E5%93%A5/"},{"name":"ES","slug":"ES","permalink":"https://withoutcause.github.io/tags/ES/"},{"name":"å¹¶å‘","slug":"å¹¶å‘","permalink":"https://withoutcause.github.io/tags/%E5%B9%B6%E5%8F%91/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://withoutcause.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"æ¶æ„","slug":"æ¶æ„","permalink":"https://withoutcause.github.io/tags/%E6%9E%B6%E6%9E%84/"},{"name":"MongoDB","slug":"MongoDB","permalink":"https://withoutcause.github.io/tags/MongoDB/"},{"name":"TypeScript","slug":"TypeScript","permalink":"https://withoutcause.github.io/tags/TypeScript/"},{"name":"ts","slug":"ts","permalink":"https://withoutcause.github.io/tags/ts/"},{"name":"ç»éªŒ","slug":"ç»éªŒ","permalink":"https://withoutcause.github.io/tags/%E7%BB%8F%E9%AA%8C/"},{"name":"å¿ƒå¾—","slug":"å¿ƒå¾—","permalink":"https://withoutcause.github.io/tags/%E5%BF%83%E5%BE%97/"},{"name":"React","slug":"React","permalink":"https://withoutcause.github.io/tags/React/"},{"name":"Ajax","slug":"Ajax","permalink":"https://withoutcause.github.io/tags/Ajax/"},{"name":"axios","slug":"axios","permalink":"https://withoutcause.github.io/tags/axios/"},{"name":"k8s","slug":"k8s","permalink":"https://withoutcause.github.io/tags/k8s/"},{"name":"yaml","slug":"yaml","permalink":"https://withoutcause.github.io/tags/yaml/"},{"name":"yml","slug":"yml","permalink":"https://withoutcause.github.io/tags/yml/"},{"name":"k8sé…ç½®","slug":"k8sé…ç½®","permalink":"https://withoutcause.github.io/tags/k8s%E9%85%8D%E7%BD%AE/"},{"name":"Docker","slug":"Docker","permalink":"https://withoutcause.github.io/tags/Docker/"},{"name":"IDEA","slug":"IDEA","permalink":"https://withoutcause.github.io/tags/IDEA/"},{"name":"è¸©å‘","slug":"è¸©å‘","permalink":"https://withoutcause.github.io/tags/%E8%B8%A9%E5%9D%91/"},{"name":"æ³›å‹æ“¦é™¤","slug":"æ³›å‹æ“¦é™¤","permalink":"https://withoutcause.github.io/tags/%E6%B3%9B%E5%9E%8B%E6%93%A6%E9%99%A4/"},{"name":"git","slug":"git","permalink":"https://withoutcause.github.io/tags/git/"},{"name":"hook","slug":"hook","permalink":"https://withoutcause.github.io/tags/hook/"},{"name":"Linux","slug":"Linux","permalink":"https://withoutcause.github.io/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://withoutcause.github.io/tags/Shell/"},{"name":"æµé‡å›æ”¾","slug":"æµé‡å›æ”¾","permalink":"https://withoutcause.github.io/tags/%E6%B5%81%E9%87%8F%E5%9B%9E%E6%94%BE/"},{"name":"Netty","slug":"Netty","permalink":"https://withoutcause.github.io/tags/Netty/"},{"name":"MapStruct","slug":"MapStruct","permalink":"https://withoutcause.github.io/tags/MapStruct/"},{"name":"éæŠ€æœ¯","slug":"éæŠ€æœ¯","permalink":"https://withoutcause.github.io/tags/%E9%9D%9E%E6%8A%80%E6%9C%AF/"},{"name":"Reactoræ¨¡å‹","slug":"Reactoræ¨¡å‹","permalink":"https://withoutcause.github.io/tags/Reactor%E6%A8%A1%E5%9E%8B/"},{"name":"optional","slug":"optional","permalink":"https://withoutcause.github.io/tags/optional/"},{"name":"java8","slug":"java8","permalink":"https://withoutcause.github.io/tags/java8/"},{"name":"http","slug":"http","permalink":"https://withoutcause.github.io/tags/http/"}]}